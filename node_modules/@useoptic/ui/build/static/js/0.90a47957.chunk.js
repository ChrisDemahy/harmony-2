(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1225:function(e,t,r){"use strict";r.r(t);var n=r(6),a=r.n(n),i=r(11),s=r(25),c=r(26),o=r(120),u=r(4),p=r(94),f=r.n(p),l=u.opticEngine.com.useoptic.diff.interactions.interpreters.LearnAPIHelper();function d(e,t,r,n){var a=new u.opticEngine.com.useoptic.diff.helpers.UndocumentedUrlIncrementalHelpers(e),i=l.newShapeBuilderMap(t,r);var s,c=(s={pathId:t,method:r},function(e){var t=u.ScalaJSHelpers.getOrUndefined(a.tryResolvePathId(e.request.path));return s.method===e.request.method&&s.pathId===t});return n.forEach((function(e){var t=u.JsonHelper.fromInteraction(e);c(e)&&l.learnBody(t,i)})),{pathId:t,method:r,requests:Object(u.mapScala)(i.requestRegions)((function(e){return{contentType:Object(u.getOrUndefined)(e.contentType),commands:u.opticEngine.CommandSerialization.toJs(e.commands),rootShapeId:e.rootShapeId}})),responses:Object(u.mapScala)(i.responseRegions)((function(e){return{contentType:Object(u.getOrUndefined)(e.contentType),statusCode:e.statusCode,commands:u.opticEngine.CommandSerialization.toJs(e.commands),rootShapeId:e.rootShapeId}}))}}r.d(t,"ExampleCaptureService",(function(){return h})),r.d(t,"ExampleDiffService",(function(){return v}));var h=function(){function e(t){Object(s.a)(this,e),this.specService=t,this.baseUrl=""}return Object(c.a)(e,[{key:"startDiff",value:function(){var e=Object(i.a)(a.a.mark((function e(t,r,n,i){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{diffId:f()(),notificationsUrl:""});case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"loadInteraction",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.specService.listCapturedSamples(o.c);case 2:return r=e.sent,n=r.samples.find((function(e){return e.uuid===t})),e.abrupt("return",{interaction:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),v=function(){function e(t,r,n,a,i){Object(s.a)(this,e),this.specService=t,this.captureService=r,this.diffConfig=n,this.diffs=a,this.rfcState=i}return Object(c.a)(e,[{key:"diffId",value:function(){return this.diffConfig.diffId}},{key:"listDiffs",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.ScalaJSHelpers.toJsArray(u.DiffResultHelper.endpointDiffs(this.diffs,this.rfcState)),e.abrupt("return",Promise.resolve({diffs:t}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listUnrecognizedUrls",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,r,n,i,s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.specService.listCapturedSamples(o.c);case 2:return t=e.sent,r=u.JsonHelper.jsArrayToSeq(t.samples.map((function(e){return u.JsonHelper.fromInteraction(e)}))),n=new u.opticEngine.com.useoptic.diff.helpers.UndocumentedUrlHelpers,i=n.countUndocumentedUrls(this.rfcState,r),s=u.opticEngine.UrlCounterJsonSerializer.toFriendlyJs(i),c=u.UrlCounterHelper.fromJsonToSeq(s,this.rfcState),e.abrupt("return",Promise.resolve(c));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStats",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.specService.listCapturedSamples(o.c);case 2:return t=e.sent,e.abrupt("return",Promise.resolve({diffedInteractionsCounter:t.samples.length.toString(),skippedInteractionsCounter:"0"}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadDescription",value:function(){var e=Object(i.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captureService.loadInteraction(t.firstInteractionPointer);case 2:if(!(r=e.sent).interaction){e.next=7;break}return e.abrupt("return",Object(u.getOrUndefined)(u.DiffResultHelper.descriptionFromDiff(t,this.rfcState,u.JsonHelper.fromInteraction(r.interaction))));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listSuggestions",value:function(){var e=Object(i.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.ScalaJSHelpers.toJsArray(u.DiffResultHelper.suggestionsForDiff(t,r,this.rfcState)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"loadInitialPreview",value:function(){var e=Object(i.a)(a.a.mark((function e(t,r,n){var s,c,o,p=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.previewBodyRender(r),c=[],!n){e.next=8;break}return e.next=5,Promise.all(u.ScalaJSHelpers.toJsArray(t.interactionPointers).map(function(){var e=Object(i.a)(a.a.mark((function e(t){var r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.captureService.loadInteraction(t);case 2:return r=e.sent,n=r.interaction,e.abrupt("return",u.JsonHelper.fromInteraction(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:c=e.sent,e.next=9;break;case 8:c=[r];case 9:return o=t.previewShapeRender(this.rfcState,u.JsonHelper.jsArrayToVector(c),n),e.abrupt("return",{bodyPreview:s,shapePreview:o.shape,suggestion:o.suggestion});case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"learnInitial",value:function(){var e=Object(i.a)(a.a.mark((function e(t,r,n,i){var s,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.specService.listCapturedSamples(o.c);case 2:return s=e.sent,c=s.samples,u=t.currentState(r),e.abrupt("return",d(u,n,i,c));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()}]),e}()}}]);
//# sourceMappingURL=0.90a47957.chunk.js.map