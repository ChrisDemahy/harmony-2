(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1112:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCommandInit=t.buildTask=void 0;var r=a(n(1113));function o(e){var t=r.default(e,{quotes:"double"});return'"'.concat(t!==e?t:e,'"')}t.buildTask=function(e,n,a){return"\nname: ".concat(o(e),"\ntasks:\n").concat(function(e,n){var a="  ".concat(n,":\n     command: ").concat(o(e.command||t.defaultCommandInit),"\n     inboundUrl: ").concat(e.inboundUrl||"http://localhost:4000","\n").trimRight();e.inboundUrl&&e.targetUrl&&(a="  ".concat(n,":\n     inboundUrl: ").concat(e.inboundUrl,"\n     targetUrl: ").concat(e.targetUrl,"\n").trimRight());return a}(n,a)).trimLeft()},t.defaultCommandInit='echo "Setup A Valid Command to Start your API!"'},1121:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAEGWlDQ1BrQ0dDb2xvclNwYWNlR2VuZXJpY1JHQgAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VQNcC+8AAABEZVhJZk1NACoAAAAIAAIBEgADAAAAAQABAACHaQAEAAAAAQAAACYAAAAAAAKgAgAEAAAAAQAAAGSgAwAEAAAAAQAAAGQAAAAA5ctL7wAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAByVJREFUeAHtnO1uozoURUmUO0o17/+S8/u26VRqO96GFQ4Emg/AHAcjJceAMcd7swyNind//vz5rsLy9fWlUO3OX52CVlwtu92u0uf19TXkvKsO/x2q7+/v6tevX1UoVLFTrjK2yTTZhUCe+/0+VjjYauqg96W+YGRBu0T56Zk2yyzXpjTZh6CSLiSWA2QoejdE+X02JL+/v8c+vLy8xFhfYd+RGG3Q9gujYk1/X9aQyIk6moMZklIQ93NVh+pPLXZz/cWhrF/Xnx11f8jzQPIeE1VOJArBp1OXDO2njupHYkKn3lUvjATHl+N5v70SVdfbIi/2ncHYWYZWaFsmzVGBNSTrE3oooliG2mCfixhy7dzUXSTVJIF4LRmnuKe9Z+zCMFWrbY3huJqMqoKo4/EYj9d+W99Tn5VLuIeYS8hJdog6dL9QihKUB5O+uHadOjomD1LC47uS9bRgxr1k2D7IFNoRGTIjF1Lqv0Zsb1YsI+IjZPTTzpUUN4RgxhQyhkyh3VxIcUEIos1BxpApbMvhnrI6IZgxJxkYQMzpnrIqIZixBBmYQczlnrIaIZixJBmYQcyBlFUIwYwUZGAG0TspyQnBjJRkYAbRMylJCcGMNcjADKJXUpIRghlrkoEZRI+kJCEEMzyQgRlEb6QsTghmeCIDM4ieSFmUEMzwSAZmEL2QshghmOGZDMwgeiBlEUIwIwcyMIO4NimzE4IZOZGBGcQ1SZmVEMzIkQzMIK5FymyEYEbOZGAGcQ1SZiEEM56BDMwgpiZlMiGY8UxkYAYxJSmTCMGMZyQDM4ipSHmYEMx4ZjIwg5iClIcIwYwtkIEZxKVJuZsQzNgSGZhBXJKUuwjBjC2SgRnEpUi5mRDM2DIZmEFcgpSbCMGMQgZWtHFuUq4SghmFjNaEfmlOUn4kBDMKGX0LLtfnImWUEMwoZFyKP7ZlDlIGCcGMQsaY9OPbp5JyQQhmFDLGRb+2ZwopI4TojaPLN6t0Iv6D3F4J1xLc4n6rD5pJByurLaNRhxCZUMhAmunxOim66NtJA3TGMyEQQbTpFDKsGveVr5HS1zsSoo2fn59xmDqdbnvb9b60tl17lJQwlh3DjBN26Nrblb5shYy+Io+vD5JyFl+TH9Rth7lO6rfsL+cOGX4P/PGUypF9UvRG+vvbKd5Ffv/+HU0JhHSnppBshYzlLh5LCvdzwdEAUh0+/v6Nq8yQYA3qHLxcjptruUNKvIfsqlMzu1GY6yR409hjDbDlzSmWpMPdx12dUjDEpyyJr/mmiglJnGhOwiBVr7J2KCakNKERn0eqsCoqtEReAhgHZjh4/f817tBzsRZVLGZFKWb9wgB+EXl7e4vt6ylLS/xLXb+11CNa+zysnRysclmmK4CegoIyreri1ycOWarAU1Yus+bQkVwiBkCG/UVERjBn5JkQGAk2xT42Q1tT5paTS/d95YkZQ2TYTCX9+dderegAflsppFipHi9jxhAZalX79eF+ff61VzvZ2ECiTdGkWIjlQgpa3BIxY4yMVu96VFKbZ0LaE2jnruLpq5DSKnNPCTPGyNjv698KMYW2O4Roo6XDluUyCydjvcSuAujzExlWW3v0ACH10EWjhRQr1/Uyul0jQy316dC2C0K0UYutbN0spNT6DH1jxi1kWH1tW4OEUEEHcZJCCqoMR3R6lAxaHSWECtbJQgqqdCNmTCGDFn8khEqFFJS4jJgxlQxavkoIFQspKNFGzJiDDFq9iRAqF1JQov4LW2tzkUHLNxPCAYWU1ow5yUDfuwjhoC2TwjA1NxloezchHLhFUjBjCTLQ9SFCOHhLpGDGUmSg6cOE0MAWSMGMJclAz0mE0Mgzk4IZS5OBlpMJoaFnJAUzUpCBjrMQQmPPRApmpCIDDWcjhAafgRTMSEkG+s1KCI3mTApmpCYD7WYnhIZzJAUz1iAD3RYhhMZzIgUz1iIDzRYjhBPkQApmrEkGei1KCCfxTApmrE0GWi1OCCfySApmeCADnZIQwsk8kYIZXshAo2SEcEIPpGCGJzLQJykhnHRNUjDDGxlok5wQTrwGKZjhkQx0WYUQTp6SFMzwSgaarEYICaQgBTM8k4EeqxJCEkuSghneyUCL1QkhkSVIwYwcyEAHF4SQzJykYEYuZKCBG0JIaA5SMCMnMui/K0JIagopmJEbGfQ9ENK+38ZGD/ERUjAjRzJqzcN76h7EH8thlJRwDR1fjvEwTKCNMTJUj7rWbI7zEsOMM15SGc7DihffT6nfSdV7qYMLotud3TYcdzikdqB/tgPeyggqsSGDmdiYgeIaGbThrW82H3kRn7KUbBYJK88GaXud2+GIDto+ee+bzfVQz7FRd2MIdzroKWq0Yvacj4+PmJoI0aLt6iD9Utl7v2y+nZt6TF69Oo/P54K2ulniMBuEZpoJZamPpUZrquJzaRILoZ/iP5/SHfblwpPYAAAAAElFTkSuQmCC"},113:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ie})),n.d(t,"b",(function(){return se})),n.d(t,"c",(function(){return ue})),n.d(t,"d",(function(){return ge}));var a=n(43),r=n(23),o=n(6),i=n.n(o),c=n(11),s=n(10),l=n(0),u=n.n(l),d=n(117),p=n(158),m=n(24),f=n(521),h=n(289),g=n(487),v=n.n(g),b=n(145),y=n.n(b),E=n(517),O=n(30),C=n(1131),j=n(1128),w=n(16),S=(n(347),n(288)),x=n(364),I=n(73),k=n(144),T=n.n(k),A=n(37),R=n(52),D=n(291),P=n(489),N=n(70),_=n(49),U=n(134),B=n(38),F=n(42),L=n.n(F),H=n(4),q=(n(114),n(125)),W=n(99),z=n(82),M=(n(789),n(80)),J=n(47),G=n(186),V=n(15),Y=n(98),Q=n(496),Z=n(54),$=n(1130),K=n(156),X=(n(790),n(136)),ee=n(275),te=n(35),ne=n(497),ae=n.n(ne),re=n(512),oe=Object(N.a)(null),ie=oe.Context;oe.withContext;function ce(t){var n=Object(J.b)(),a=Object(l.useState)([]),o=Object(s.a)(a,2),d=o[0],p=o[1],m=Object(l.useState)([]),f=Object(s.a)(m,2),h=f[0],g=f[1],v=Object(_.e)(),b=Object(A.g)();function y(){(function(){var e=Object(c.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.listCaptures();case 2:t=e.sent,n=t.captures,p(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}Object(l.useEffect)((function(){y()}),[]),Object(l.useEffect)((function(){return window.addEventListener("focus",y),function(){window.removeEventListener("focus",y)}}),[]),Object(l.useEffect)((function(){e.opticDump=Object(P.a)(v),e.dumpEvents=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.listEvents();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}),[]);var E={captures:d,dismissed:h,dismissCapture:function(e){g([].concat(Object(r.a)(h),[e]))},switchToCapture:function(e){b.push("".concat(n,"/diffs/").concat(e))}};return u.a.createElement(ie.Provider,{value:E},t.children)}function se(e){var t=Object(U.a)();return u.a.createElement(M.a,{title:"Review API Diffs"},u.a.createElement(M.a.Navbar,{mini:!0}),u.a.createElement(M.a.Body,{padded:!1},u.a.createElement(ce,null,u.a.createElement(q.b,null,u.a.createElement(A.d,null,u.a.createElement(A.b,{path:t.diffsRoot,component:le}))))))}var le=function(e){e.location,ge();var t=Object(U.a)(),n=Object(l.useContext)(ie).captures,a=Object(J.b)();return u.a.createElement(A.d,null,u.a.createElement(A.b,{exact:!0,path:t.captureRoot,component:fe}),u.a.createElement(A.b,{exact:!0,path:t.captureRequestDiffsRoot,component:pe}),n.length&&u.a.createElement(A.a,{to:"".concat(a,"/diffs/").concat(n[0].captureId)}),u.a.createElement(A.b,{component:function(){return me}}))},ue={ENDPOINT_DIFF:"ENDPOINT_DIFF",UNDOCUMENTED_URL:"UNDOCUMENTED_URL"};function de(t){var n=t.captureId,a=Object(_.e)(),r=ge(),o=Object(l.useContext)(ie),i=Object(Z.c)(),c=i.endpointDiffs,d=i.unrecognizedUrls,p=(i.completed,i.skipped,i.processed,Object(A.g)()),g=Object(J.b)(),b=c.filter((function(e){return e.count>0&&e.isDocumentedEndpoint})).length,S=c.length,x=H.DiffResultHelper.splitUnmatchedUrls(H.JsonHelper.jsArrayToSeq(d),H.JsonHelper.jsArrayToSeq(c)),I=ae.a.parse(t.location.search,{ignoreQueryPrefix:!0}),k=ue.ENDPOINT_DIFF,R=Object(l.useState)(k),D=Object(s.a)(R,2),P=D[0],N=D[1];return Object(l.useEffect)((function(){I.tab===ue.UNDOCUMENTED_URL&&N(ue.UNDOCUMENTED_URL),I.tab===ue.ENDPOINT_DIFF&&N(ue.ENDPOINT_DIFF)}),[I.tab]),Object(l.useEffect)((function(){Object(te.b)(O.UserChangedCaptureOverviewTab.withProps({currentTab:P,diffCount:b,undocumentedUrlCount:x.total}))}),[P,b,x.total]),Object(l.useEffect)((function(){e.debugOptic=Object(Q.a)(a,n)})),Object(l.useEffect)((function(){0===S&&d.length>0&&N(ue.UNDOCUMENTED_URL)}),[S,d.length]),u.a.createElement("div",{className:r.container},u.a.createElement("div",{className:r.navigationContainer},u.a.createElement("div",{className:r.navRoot},u.a.createElement("div",{className:r.header},u.a.createElement(y.a,{color:"secondary",fontSize:"small",style:{marginRight:10}}),u.a.createElement(m.a,{variant:"h6",style:{fontSize:19}},"Local Capture")),u.a.createElement(E.a,{className:r.formControl,fullWidth:!0},u.a.createElement(C.a,{size:"small",placeholder:"Select Capture",value:n,onChange:function(e){var t=e.target.value;p.push("".concat(g,"/diffs/").concat(t)),window.location.reload()}},o.captures.map((function(e,t){return u.a.createElement(j.a,{value:e.captureId,key:e.captureId},u.a.createElement(f.a,{primary:"".concat(v.a.ago(e.lastUpdate)," ").concat(0===t?"(LATEST) ":""," ")}),u.a.createElement(h.a,null,e.hasDiff&&u.a.createElement(T.a,{fontSize:"small",color:"secondary",style:{marginRight:8,paddingTop:5}})))})))),u.a.createElement(w.c,{style:{marginTop:22,marginBottom:15}}),u.a.createElement($.a,{orientation:"vertical",className:r.tabs,onChange:function(e,t){return N(t)},value:P},u.a.createElement(K.a,{label:"Endpoint Diffs (".concat(b," / ").concat(S,") "),value:ue.ENDPOINT_DIFF}),u.a.createElement(K.a,{label:"Undocumented URLs (".concat(x.total,")"),value:ue.UNDOCUMENTED_URL})),u.a.createElement(w.c,{style:{marginTop:22,marginBottom:15}}),u.a.createElement("div",{style:{flex:1}}),u.a.createElement(ee.a,{showSkipped:!0}))),u.a.createElement("div",{className:r.pageContainer},u.a.createElement("div",{className:r.center},ue.ENDPOINT_DIFF===P&&u.a.createElement(he,{captureId:n}),ue.UNDOCUMENTED_URL===P&&u.a.createElement(re.a,{captureId:n,urlsSplit:x}))))}function pe(e){Object(_.e)(),ge();return u.a.createElement(q.d,e)}var me=u.a.createElement(G.a,{title:"Optic has not observed any traffic",content:"\nRun `api start` and send the API some traffic\n\nNot setup yet? Follow the [Getting Started Tutorial](".concat(Y.a,")\n").trim()});function fe(e){var t=e.match.params.captureId,n=(ge(),Object(l.useContext)(B.c),Object(_.d)());return u.a.createElement(q.a.Consumer,null,(function(a){var r=a.ignoredDiffs;a.resetIgnored;return u.a.createElement(Z.b,Object.assign({captureId:t,ignoredDiffs:r},n),u.a.createElement(de,{location:e.location,captureId:t}))}))}function he(e){var t=e.captureId,n=ge(),r=Object(Z.c)(),o=r.endpointDiffs,i=r.completed,c=(Object(A.g)(),Object(J.b)()),s=o.length,l=o.some((function(e){return e.count>0}));return 0!==s||i?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:n.stats},u.a.createElement(m.a,{variant:"h6",color:"primary",style:{fontWeight:200}},l?"Some endpoints are exhibiting undocumented behavior":"All endpoints are working as specified")),u.a.createElement(x.a,{style:{padding:13,paddingTop:4}},o.map((function(e){var r="".concat(c,"/diffs/").concat(t,"/paths/").concat(e.pathId,"/methods/").concat(e.method);return u.a.createElement(z.b,{key:r,pathId:e.pathId,method:e.method},u.a.createElement(p.a,{className:L()(n.paper,Object(a.a)({},n.disabled,0===e.count))},u.a.createElement(z.a.Consumer,null,(function(t){var a=t.endpointDescriptor;return u.a.createElement(S.a,{button:!0,className:n.row,component:R.b,to:r,onClick:function(){}},u.a.createElement("div",{className:n.listItemInner},u.a.createElement(m.a,{component:"div",variant:"subtitle2"},a.endpointPurpose||u.a.createElement("span",{style:{color:w.b}},"Unnamed Endpoint")),u.a.createElement(I.b,{method:a.httpMethod,path:a.fullPath})),u.a.createElement(h.a,null,u.a.createElement(W.b,{when:e.count>0},u.a.createElement(D.a,{className:n.chips,size:"small",label:"Diffs: ".concat(e.count),style:{backgroundColor:V.d}})),u.a.createElement(W.b,{when:0===e.count},u.a.createElement(D.a,{className:n.chips,size:"small",label:"No Diffs",style:{backgroundColor:V.b}}))))}))))})))):u.a.createElement(X.b,{show:!0})}var ge=Object(d.a)((function(e){return{container:{display:"flex",overflow:"hidden"},navigationContainer:{width:280,overflow:"hidden",display:"flex"},pageContainer:{display:"flex",flexGrow:1,flexShrink:1,justifyContent:"center"},navRoot:{flexGrow:1,position:"fixed",width:"inherit",height:"100vh",overflowY:"visible",overflowX:"hidden",display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.grey[300]),background:e.palette.grey[100]},chips:{marginLeft:10},tabs:{marginLeft:e.spacing(4)},center:{flex:1,maxWidth:1200},statsSection:{paddingBottom:e.spacing(2)},progressStats:{paddingLeft:e.spacing(1),color:w.b},progressWrapper:{height:6,width:"100%"},header:{display:"flex",flexDirection:"row",flexShrink:1,width:"100%",alignItems:"center",margin:e.spacing(2)},formControl:{paddingLeft:35,paddingRight:15},selectEmpty:{marginTop:e.spacing(2)},stats:{marginTop:20,paddingBottom:15,alignItems:"center",display:"flex",justifyContent:"center",flexDirection:"row"},subStat:{paddingBottom:15,alignItems:"center",display:"flex",justifyContent:"center",flexDirection:"row"},listItemInner:{display:"flex",flexDirection:"column"},row:{paddingTop:10,paddingBottom:10},disabled:{pointerEvents:"none",opacity:.5},paper:{marginBottom:15},diffContainer:{display:"flex",paddingLeft:32,paddingRight:32,flexDirection:"row",overflow:"scroll",flexGrow:1,flexShrink:1,justifyContent:"center"},diffWrapper:{flex:1,padding:"24px 0px 144px",maxWidth:1280}}}))}).call(this,n(46))},114:function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return N})),n.d(t,"d",(function(){return U}));var a=n(270),r=n(10),o=n(0),i=n.n(o),c=n(117),s=n(192),l=n(284),u=n(236),d=n(286),p=n(287),m=n(226),f=n.n(m),h=n(285),g=n(89),v=n(281),b=n(359),y=n.n(b),E=n(24),O=n(99),C=n(347),j=n(92),w=n(4),S=n(38),x=n(39),I=n(73),k=(n(47),n(35)),T=n(30),A=n(54),R=Object(c.a)((function(e){return{container:{display:"flex",flexDirection:"column",height:"100vh"},urls:{maxHeight:500,overflow:"scroll"}}}));window.OpticIds=w.OpticIds;var D=Object(S.f)((function(e){var t=e.children,n=e.newUrl,a=e.urlOverride,c=e.onClose,m=e.allUnmatchedPaths,b=e.onAdd,D=R(),_=Object(o.useContext)(S.c),B=_.cachedQueryResults,F=_.handleCommands,L=Object(o.useContext)(A.a).captureId,H=Object(w.getOrUndefined)(n.pathId),q=i.a.useState(Boolean(H)),W=Object(r.a)(q,2),z=W[0],M=W[1],J=i.a.useState(n.path),G=Object(r.a)(J,2),V=G[0],Y=G[1];Object(o.useEffect)((function(){z?Object(k.b)(T.AddUrlModalNaming.withProps({path:n.path,method:n.method})):Object(k.b)(T.AddUrlModalIdentifyingPathComponents.withProps({path:n.path,method:n.method}))}),[z]);var Q=function(){Y(n.path),c()},Z=function(e){Object(k.b)(T.UserFinishedAddingNewUrl.withProps({purpose:e,captureId:L,method:n.method,pathExpression:V}));var t=H,a=[];if(!t){var r=B.pathsById,o=U(V),i=Object(j.f)(o,r),s=i.toAdd,l=i.lastMatch;t=l.pathId,s.forEach((function(e){var n=w.OpticIds.newPathId(),r=(e.isParameter?w.RequestsCommands.AddPathParameter:w.RequestsCommands.AddPathComponent)(n,t,N(e.name));a.push(r),t=n}))}a.push(w.RfcCommands.AddContribution(Object(x.c)(t,n.method),x.b,e)),F.apply(void 0,a),b({pathId:t,method:n.method}),c()},$=function(e){var t=P(e);return f()(t,[],{start:!0,end:!0})}(U(V)),K=null!==$.exec(n.path),X=Array.from(m.filter((function(e){return $.exec(e)&&e!==n.path})));function ee(){var e=i.a.useState(""),t=Object(r.a)(e,2),o=t[0],c=t[1];return i.a.createElement(l.a,{open:!0,onClose:Q,fullWidth:!0,maxWidth:"md",transitionDuration:0,key:"dialog"+n.toString()},i.a.createElement("form",null,i.a.createElement(h.a,null,"Add New Endpoint"),i.a.createElement(d.a,{style:{marginTop:-20}},i.a.createElement(I.b,{method:n.method,path:a||V}),i.a.createElement(p.a,{style:{marginTop:12}},"What does this endpoint do?"),i.a.createElement(s.a,{value:o,onChange:function(e){return c(e.target.value)},autoFocus:!0,onKeyPress:function(e){"Enter"===e.key&&Z(o)},fullWidth:!0})),i.a.createElement(u.a,null,i.a.createElement(g.a,{disabled:Boolean(H),onClick:function(){return M(!1)}},"Back"),i.a.createElement(g.a,{type:"submit",onClick:function(){return Z(o)},color:"secondary",disabled:!K&&!H&&""!==o,endIcon:i.a.createElement(y.a,null)},"Finish"))))}return i.a.createElement("div",{key:n.toString()},i.a.createElement("div",{onClick:function(){Object(k.b)(T.UserBeganAddingNewUrl.withProps({captureId:L,method:n.method,path:n.path,knownPathId:H}))}},t),z?i.a.createElement(ee,{key:"naming one"+n.toString()}):i.a.createElement(l.a,{open:!0,onClose:Q,key:"path to"+n.toString(),fullWidth:!0,maxWidth:"md","aria-labelledby":"form-dialog-title"},i.a.createElement("form",null,i.a.createElement(h.a,null,"Add New Endpoint"),i.a.createElement(d.a,{style:{marginTop:-20}},i.a.createElement(I.b,{method:n.method,path:n.path}),i.a.createElement(p.a,{style:{marginTop:12}},"Specify the pattern that matches this URL:"),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement("div",{style:{flex:1.5}},i.a.createElement(v.a,{initialPathString:n.path,url:n.path,onChange:function(e){var t=e.pathExpression;Y(t)}}))),i.a.createElement("div",{className:D.urls},i.a.createElement(O.a,{when:X.length},i.a.createElement(C.a,{title:"Other matching URLs:",innerStyle:{paddingLeft:5}},X.map((function(e){return i.a.createElement(E.a,{variant:"subtitle1",style:{fontSize:12,marginBottom:11}},e)})))))),i.a.createElement(u.a,null,i.a.createElement(g.a,{onClick:Q},"Cancel"),i.a.createElement(g.a,{autoFocus:!0,type:"submit",onClick:function(){return M(!0)},color:"secondary",disabled:!K,endIcon:i.a.createElement(y.a,null)},"Next")))))}));function P(e){return 0===e.length?"/":"/"+e.map((function(e){var t=e.name;if(e.isParameter){var n=t.replace("{","").replace("}","").replace(":","");return":".concat(n)}return t})).join("/")}function N(e){return e.replace(/[{}:]/gi,"")}function _(e){return e.length>0&&""===e[e.length-1].name?e.slice(0,-1):e}function U(e){var t=e.split("/").map((function(e){var t=":"===e.charAt(0)||"{"===e.charAt(0);return{name:e,isParameter:t}})),n=Object(a.a)(t),r=n[0],o=n.slice(1);return""===r.name?_(o):_(t)}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return w}));var a=n(18),r=n(25),o=n(26),i=n(28),c=n(29),s=n(0),l=n.n(s),u=n(64),d=n.n(u),p=n(24),m=n(192),f=n(166),h=n.n(f),g=n(16),v=n(19);function b(e){var t=e.source,n=e.style,a=e.noHeadings;return l.a.createElement("div",{style:n},l.a.createElement(h.a,{source:t,renderers:{heading:function(e){var t=e.level,n=e.children;return a?null:l.a.createElement(p.a,{color:"primary",variant:"h".concat(t),style:{fontWeight:300,marginBottom:3}},n)},paragraph:function(e){var t=e.children;return l.a.createElement(p.a,{variant:"body2",style:{fontWeight:200,marginTop:11,whiteSpace:"pre-wrap"}},t)},list:function(e){var t=e.children;return l.a.createElement("ul",{style:{paddingLeft:20}},t)},listItem:function(e){var t=e.children;return l.a.createElement("li",{style:{paddingLeft:0}},l.a.createElement(p.a,{variant:"body2",style:{paddingLeft:5,paddingRight:5,marginTop:11,fontWeight:200}},t))}}}))}function y(e){var t=e.source,n=e.style;return l.a.createElement("div",{style:n},l.a.createElement(h.a,{source:t,renderers:{paragraph:function(e){var t=e.children;return l.a.createElement(p.a,{variant:"body2",style:{fontWeight:200,color:v.c,whiteSpace:"pre-wrap"}},t)},list:function(e){var t=e.children;return l.a.createElement("ul",{style:{paddingLeft:20,color:v.c}},t)},listItem:function(e){var t=e.children;return l.a.createElement("li",{style:{paddingLeft:0}},l.a.createElement(p.a,{variant:"body2",style:{paddingLeft:5,paddingRight:5,color:v.c,fontWeight:200}},t))}}}))}var E=function(e){return{root:{marginTop:4,cursor:"text"}}},O=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={inputValue:e.props.value||"",editing:e.props.autoFocus},e.handleChange=function(t){return e.setState({inputValue:t.target.value})},e.setEditing=function(t){return function(){"no"!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_LEARN_API_MODE:"falseOPTIC__NPM__VERSION=8.6.2",REACT_APP_TESTING_DASHBOARD:"true",REACT_APP_TESTING_DASHBOARD_TEASER:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DETAILS:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DIFF_STATS:"false",REACT_APP_TESTING_DASHBOARD_UNDOCUMENTED_ENDPOINTS:"false",REACT_APP_FLATTENED_SHAPE_VIEWER:"true"}).REACT_APP_SPEC_ENABLE_EDITING&&(e.setState({editing:t}),!t&&e.props.onChange&&e.state.inputValue!==(e.props.value||"")&&e.props.onChange(e.state.inputValue))}},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.label,a=this.state,r=a.inputValue;return a.editing?l.a.createElement(m.a,{label:n,fullWidth:!0,multiline:!0,style:{fontSize:11},value:r,color:"primary",autoFocus:!0,onChange:this.handleChange,onBlur:this.setEditing(!1),margin:"dense"}):r?l.a.createElement("div",{className:t.root,onClick:this.setEditing(!0)},l.a.createElement(b,{source:r,noHeadings:!0})):l.a.createElement("div",{className:t.root,onClick:this.setEditing(!0)},l.a.createElement(p.a,{variant:"caption",style:{color:g.b,textTransform:"uppercase"}}," ","+ ",n))}}]),n}(l.a.Component),C=d()(E)(O),j=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={inputValue:e.props.value||"",editing:e.props.autoFocus},e.handleChange=function(t){return e.setState({inputValue:t.target.value})},e.setEditing=function(t){return function(){"no"!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_LEARN_API_MODE:"falseOPTIC__NPM__VERSION=8.6.2",REACT_APP_TESTING_DASHBOARD:"true",REACT_APP_TESTING_DASHBOARD_TEASER:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DETAILS:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DIFF_STATS:"false",REACT_APP_TESTING_DASHBOARD_UNDOCUMENTED_ENDPOINTS:"false",REACT_APP_FLATTENED_SHAPE_VIEWER:"true"}).REACT_APP_SPEC_ENABLE_EDITING&&(e.setState({editing:t}),!t&&e.props.onChange&&e.state.inputValue!==(e.props.value||"")&&e.props.onChange(e.state.inputValue))}},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.label,r=this.state,o=r.inputValue;return r.editing?l.a.createElement(m.a,{label:n,fullWidth:!0,value:o,color:"primary",autoFocus:!0,onChange:this.handleChange,onBlur:this.setEditing(!1),margin:"normal"}):o?l.a.createElement(g.g,{title:o,onClick:this.setEditing(!0)}):l.a.createElement("div",{className:t.root,onClick:this.setEditing(!0)},l.a.createElement(p.a,{variant:"h5",style:Object(a.a)(Object(a.a)({},g.i),{},{color:g.b,textTransform:"uppercase"})}," ","+ ",n))}}]),n}(l.a.Component),w=d()(E)(j)},120:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b}));var a=n(6),r=n.n(a),o=n(11),i=n(10),c=n(0),s=n.n(c),l=n(93),u=n(49),d=n(235),p=n(38),m=n(149),f=n(106),h=n.n(f);function g(e){var t=e.diffServiceFactory,n=e.captureServiceFactory,a=Object(l.b)(),f=Object(c.useState)(null),h=Object(i.a)(f,2),g=h[0],v=h[1],b=Object(c.useState)(null),E=Object(i.a)(b,2),O=E[0],C=E[1];return Object(c.useEffect)((function(){if(!a.available||!a.loading){var e=function(){return function(e){return y.apply(this,arguments)}(a.data)};(function(){var t=Object(o.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,a=n.specService,v(a),a.eventEmitter.on("events-updated",Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.listEvents();case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)}))));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}}),[a.available,a.loading]),Object(c.useEffect)((function(){g&&function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.listEvents();case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[g]),O?s.a.createElement(u.b,{specService:g,specServiceEvents:g.eventEmitter,diffServiceFactory:t,captureServiceFactory:n},s.a.createElement(m.b,{initialEventsString:O,rfcId:"testRfcId",instance:"the one in ApiSpecServiceLoader"},s.a.createElement(p.d,{specService:g},e.children))):s.a.createElement(d.a,null)}function v(e){var t=e.diffServiceFactory,n=e.captureServiceFactory,a=Object(c.useState)(null),l=Object(i.a)(a,2),f=l[0],h=l[1],g=e.specService;return Object(c.useEffect)((function(){(function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.eventEmitter.on("events-updated",Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.listEvents();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),Object(c.useEffect)((function(){g&&function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.listEvents();case 2:t=e.sent,h(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[g]),f?s.a.createElement(u.b,{specService:g,specServiceEvents:g.eventEmitter,diffServiceFactory:t,captureServiceFactory:n},s.a.createElement(m.b,{initialEventsString:f,rfcId:"testRfcId",instance:"the one in LocalCliSpecServiceLoader"},s.a.createElement(p.b,{specService:g},e.children))):s.a.createElement(d.a,null)}var b="example-session";function y(){return(y=Object(o.a)(r.a.mark((function e(t){var n,a,i,c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t.events),a=t.examples||{},i=new h.a,s={config:{apiName:"Example API",ignoreRequests:c=[]},configRaw:"name: Todo API\ntasks:\n  start:\n    command: npm run server-start\n    inboundUrl: http://localhost:3005"},l={eventEmitter:i,loadConfig:function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(s));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveConfig:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.configRaw=t,e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addIgnoreRule:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.push(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),listCapturedSamples:function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(t.session));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),listEvents:function(){return Promise.resolve(n)},getCaptureStatus:function(){return Promise.resolve({status:"completed"})},listCaptures:function(){return Promise.resolve({captures:[{captureId:b,lastUpdate:(new Date).toISOString(),hasDiff:!0}]})},saveEvents:function(e,t){var a=e.serializeEvents(t);return n=a,i.emit("events-updated"),Promise.resolve()},listExamples:function(e){return Promise.resolve({examples:a[e]||[]})},saveExample:function(e,t){var n=a[t]||[];n.push(e),a[t]=n},getEnabledFeatures:function(){return{TESTING_DASHBOARD:!0}}},e.abrupt("return",{specService:l});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},123:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var a=n(23),r=n(43),o=n(18),i=n(10),c=n(0),s=n.n(c),l=n(226),u=n.n(l),d=n(114),p=n(49),m=s.a.createContext({});function f(e){var t=e.children,n=e.allUrls,l=Object(p.d)().specService,f=Object(c.useState)([]),h=Object(i.a)(f,2),g=h[0],v=h[1],b=Object(c.useState)([]),y=Object(i.a)(b,2),E=y[0],O=y[1],C=Object(c.useState)(""),j=Object(i.a)(C,2),w=j[0],S=j[1],x=Object(c.useState)(!1),I=Object(i.a)(x,2),k=I[0],T=I[1],A=g.map((function(e){return e.id})),R=Object(c.useState)({}),D=Object(i.a)(R,2),P=D[0],N=D[1],_=Object(c.useState)([]),U=Object(i.a)(_,2),B=U[0],F=U[1],L=g.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{pathExpression:P[e.id].pathExpression,regex:function(){var t=Object(d.c)(P[e.id].pathComponents);return u()(t,[],{start:!0,end:!0})}()})})),H=n.filter((function(e){if(g.find((function(t){return t.id===e.id})))return!1;var t=L.some((function(t){return t.method===e.method&&Boolean(t.regex.exec(e.path))})),n=!e.path.startsWith(w)||E.includes(e.id);return t||n})).map((function(e){return e.id})),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];A.includes(e.id)||t?v((function(t){return Object(a.a)(t).filter((function(t){return t.id!==e.id}))})):v((function(t){return[].concat(Object(a.a)(t),[e])}))},W={basepath:w,setBasepath:S,toDocument:g,currentPathExpressions:L,learningInProgress:k,startLearning:function(e){T(e)},checkedIds:A,shouldHideIds:H,pathExpressions:P,highlightAlsoMatching:B,updatePathExpression:function(e,t){N((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(r.a)({},e,t))}));var a=Object(d.c)(t.pathComponents),i=u()(a,[],{start:!0,end:!0}),c=n.find((function(t){return t.id===e})),s=Array.from(n.filter((function(e){return e.method===c.method&&i.exec(e.path)})).map((function(e){return e.id})).filter((function(e){return e!==c.id})));F(s)},setIgnore:function(e){var t="".concat(e.method," ").concat(e.path);O((function(t){return[].concat(Object(a.a)(t),[e.id])})),q(e,!0),l.addIgnoreRule(t)},reset:function(){v([]),T(!1),N({}),F([])},addRow:function(e){A.includes(e.id)||(v((function(t){return[].concat(Object(a.a)(t),[e])})),F([]))},toggleRow:q};return s.a.createElement(m.Provider,{value:W},t)}},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return h}));var a=n(6),r=n.n(a),o=n(11),i=n(10),c=n(54),s=n(0),l=n(4),u=n(35),d=n(265);function p(e){var t=Object(c.c)().diffService,n=Object(s.useState)(null),a=Object(i.a)(n,2),l=a[0],u=a[1];return Object(s.useEffect)((function(){(function(){var n=Object(o.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=u,n.next=3,t.loadDescription(e);case 3:if(n.t1=n.sent,n.t1){n.next=6;break}n.t1=null;case 6:n.t2=n.t1,(0,n.t0)(n.t2);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[e.diff.toString()]),l}function m(e){var t=Object(c.c)().captureService,n=Object(s.useState)(null),a=Object(i.a)(n,2),u=a[0],d=a[1];return Object(s.useEffect)((function(){var n=!0;return function(){var a=Object(o.a)(r.a.mark((function a(){var o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=11;break}return d(null),a.next=4,t.loadInteraction(e);case 4:if(a.t0=a.sent.interaction,a.t0){a.next=7;break}a.t0=null;case 7:o=a.t0,n&&d({interaction:o,interactionScala:l.JsonHelper.fromInteraction(o)}),a.next=12;break;case 11:n&&d(null);case 12:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()(),function(){return n=!1}}),[e]),u}function f(e,t){var n=Object(c.c)().diffService,a=Object(s.useState)([]),l=Object(i.a)(a,2),p=l[0],m=l[1];return Object(s.useEffect)((function(){var a=!0;return console.log("look here ",a),function(){var i=Object(o.a)(r.a.mark((function o(){var i;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=7;break}return r.next=3,n.listSuggestions(e,t);case 3:i=r.sent,a&&(m(i),0===i.length&&Object(u.b)(d.RequirementForDiffsToHaveASuggestionFailed.with({diff:e.toString()}))),r.next=8;break;case 7:a&&m([]);case 8:case"end":return r.stop()}}),o)})));return function(){return i.apply(this,arguments)}}()(),function(){return a=!1}}),[e&&e.diff.toString()]),p}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,l=Object(c.c)(),u=l.diffService,d=Object(s.useState)(null),p=Object(i.a)(d,2),m=p[0],f=p[1],h=Object(s.useState)(!1),g=Object(i.a)(h,2),v=g[0],b=g[1];return Object(s.useEffect)((function(){window.naiveCache={}}),[a]),Object(s.useEffect)((function(){var a=!0,i=e.toString()+n.toString();return console.log("cache key "+i),function(){var c=Object(o.a)(r.a.mark((function o(){var c;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e||!t){r.next=15;break}if(n&&b(!0),!window.naiveCache[i]){r.next=8;break}return r.next=5,Promise.resolve(window.naiveCache[i]);case 5:r.t0=r.sent,r.next=11;break;case 8:return r.next=10,u.loadInitialPreview(e,t,n);case 10:r.t0=r.sent;case 11:c=r.t0,a&&(b(!1),f(c),window.naiveCache[i]=c),r.next=16;break;case 15:a&&(b(!1),f(null));case 16:case"end":return r.stop()}}),o)})));return function(){return c.apply(this,arguments)}}()(),function(){return a=!1}}),[e.diff.toString(),t&&t.toString(),n]),{preview:m,loadingInferPoly:v}}window.naiveCache={}},125:function(e,t,n){"use strict";var a=n(25),r=n(26),o=n(28),i=n(29),c=n(23),s=n(10),l=n(0),u=n.n(l),d=n(227),p=n.n(d),m=n(282),f=n.n(m),h=n(82),g=n(49),v=n(84),b=n(38),y=n(4),E=n(219),O=n(37),C=n(47),j=n(54),w=n(16),S=n(1130),x=n(156),I=n(117),k=n(24),T=n(73),A=n(154),R=n(124),D=n(288),P=n(366),N=n(516),_=n(364),U=n(19),B=n(1126),F=n(352),L=n.n(F),H=n(15),q=n(137),W=n(230),z=Object(I.a)((function(e){return{diffCursor:{position:"sticky",top:0,zIndex:500,display:"flex",justifyContent:"center",flexDirection:"row",borderLeft:"3px solid ".concat(H.i),alignItems:"center"},diffTitle:{fontSize:15,fontWeight:400,paddingLeft:11},diffCursorActions:{display:"flex",alignItems:"center",flexDirection:"row",paddingRight:10},diffItem:{display:"flex",flexDirection:"column",alignItems:"baseline",paddingLeft:5}}})),M=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={showAllDiffs:!1,selectedDiff:null},e.setSelectedDiff=function(t){return e.setState({selectedDiff:t,showAllDiffs:!1})},e.toggle=function(t){return e.setState({showAllDiffs:t})},e.shouldComponentUpdate=function(t,n,a){return!y.CompareEquality.betweenBodyDiffs(e.props.diffs,t.diffs)||e.state.showAllDiffs!==n.showAllDiffs||!e.state.selectedDiff||t.tab!==e.props.tab},e.componentDidUpdate=function(t,n,a){0!==e.props.diffs.length?e.state.selectedDiff&&y.CompareEquality.containsDiff(e.props.diffs,e.state.selectedDiff)||e.setSelectedDiff(e.props.diffs[0]):e.state.selectedDiff&&e.setState({selectedDiff:null})},e.render=function(){var t=e.props,n=t.diffs,a=t.captureId,r=n.length,o=e.state,i=o.showAllDiffs,c=o.selectedDiff;if(0===r||!c)return null;var s={selectedDiff:c,setSelectedDiff:e.setSelectedDiff,diffs:n,diffCount:r,showAllDiffs:i,toggle:e.toggle};return u.a.createElement("div",{key:e.props.tab},u.a.createElement(J,s),u.a.createElement(q.a,Object.assign({captureId:a,key:c.diff.toString()},{selectedDiff:c,setSelectedDiff:e.setSelectedDiff})))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setSelectedDiff(this.props.diffs[0])}}]),n}(u.a.Component),J=function(e){var t=e.showAllDiffs,n=e.diffs,a=e.setSelectedDiff,r=e.selectedDiff,o=e.diffCount,i=e.toggle,c=z();return u.a.createElement(P.a,{className:c.diffCursor,elevation:3},u.a.createElement("div",{style:{flex:1}},!t&&r&&u.a.createElement(G,{button:!1,diff:r}),u.a.createElement(N.a,{in:t,timeout:0},u.a.createElement(k.a,{variant:"subtitle2",style:{paddingLeft:12,paddingTop:12}},"Choose a diff to review"),u.a.createElement(_.a,null,n.map((function(e){return u.a.createElement(G,{key:e.diff.toString(),setSelectedDiff:a,toggle:i,diff:e,button:!0})}))))),!t&&u.a.createElement("div",{className:c.diffCursorActions},u.a.createElement(k.a,{variant:"overline",style:{color:w.b,marginRight:10}},o," diffs"),u.a.createElement(U.a,{title:"See all Diffs"},u.a.createElement(B.a,{color:"primary",disabled:o<=1,onClick:function(){return i(!0)}},u.a.createElement(L.a,null)))))},G=function(e){var t=e.diff,n=e.button,a=e.setSelectedDiff,r=(e.toggle,Object(R.a)(t)),o=z();return u.a.createElement(D.a,{button:n,className:o.diffItem,onClick:function(){a(t)}},r&&u.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingLeft:7}},n&&u.a.createElement("div",{style:{marginRight:7}}," \u2022 "),u.a.createElement(W.a,{copy:r.titleCopy,fontSize:15})))},V=n(275),Y=n(136),Q=n(353),Z=n(89),$=n(35),K=n(30);function X(e){var t=e.captureId,n=e.method,a=e.pathId,r=ee(),o=Object(l.useContext)(b.c),i=o.rfcId,c=o.rfcService,d=Object(l.useContext)(v.a).reset,p=Object(l.useContext)(re).acceptedSuggestions,m=c.currentState(i),f=Object(l.useContext)(h.a).endpointDescriptor,g=Object(l.useContext)(v.a),E=g.diffsForThisEndpoint,O=g.completed,C=Object(l.useState)(null),j=Object(s.a)(C,2),I=j[0],R=j[1],D=Object(l.useState)(!1),P=Object(s.a)(D,2),N=P[0],_=P[1],U=Object(l.useContext)(ie).ignoreDiff,B=y.DiffResultHelper.groupEndpointDiffsByRegion(E,m,n,a);Object(l.useEffect)((function(){if(!I){var e=Object(y.getOrUndefined)(B.firstRequestIdWithDiff),t=Object(y.getOrUndefined)(B.firstResponseIdWithDiff);B.newRegionsCount>0?R("new_regions"):e?R(e):t&&R(t)}}));var F=Object(y.mapScala)(B.requestDiffs)((function(e){return u.a.createElement(x.b,{label:Object(y.getOrUndefined)(e.contentType)||"No Body",disabled:0===e.count,value:e.id,count:e.count})})),L=Object(y.mapScala)(B.responseDiffs)((function(e){return[u.a.createElement(k.a,{variant:"overline",className:r.sectionHeader},e.statusCode," Response Body"),Object(y.mapScala)(e.regions)((function(e){return u.a.createElement(x.b,{label:Object(y.getOrUndefined)(e.contentType)||"No Body",value:e.id,disabled:0===e.count,count:e.count})})),u.a.createElement(w.c,{style:{marginTop:16,marginBottom:16}})]}));return Object(l.useEffect)((function(){(N||O&&B.empty)&&Object($.b)(K.ShowCommitCard.withProps({}))}),[N,O,B.empty]),u.a.createElement("div",{className:r.container},u.a.createElement("div",{className:r.navigationContainer},u.a.createElement("div",{className:r.navRoot},u.a.createElement("div",{className:r.header},u.a.createElement(k.a,{variant:"subtitle2",className:r.title},f.endpointPurpose||"Unnamed Endpoint"),u.a.createElement(T.d,{method:f.httpMethod,path:f.fullPath})),u.a.createElement(w.c,null),u.a.createElement("div",{className:r.suggestionsBox},u.a.createElement(k.a,{variant:"caption",className:r.suggestionsCount},p.length," approved"),u.a.createElement("div",{style:{flex:1}}),u.a.createElement(Z.a,{size:"small",color:"primary",onClick:d,classes:{root:r.buttonSmall}},"Reset"),u.a.createElement(Z.a,{size:"small",color:"primary",onClick:function(){return _(!0)},classes:{root:r.buttonSmall}},"Commit")),u.a.createElement(w.c,null),u.a.createElement("div",{className:r.tabScroll},u.a.createElement(S.a,{orientation:"vertical",className:r.tabs,onChange:function(e,t){t!==I&&R(t)},value:I},u.a.createElement(x.b,{label:"Loading",value:null,style:{display:"none"}}),u.a.createElement(x.b,{label:"Review New Regions",value:"new_regions",count:B.newRegionsCount,disabled:!B.newRegionsCount,style:{marginBottom:17}}),F.length>0&&u.a.createElement(k.a,{variant:"overline",className:r.sectionHeader},"Request Body Diffs"),F,F.length>0&&u.a.createElement(w.c,{style:{marginTop:16,marginBottom:16}}),L)),u.a.createElement(V.a,null))),u.a.createElement("div",{className:r.pageContainer},u.a.createElement("div",{className:r.center},!I&&!O&&u.a.createElement(Y.a,{show:!0}),"new_regions"===I&&u.a.createElement(A.b,{ignoreDiff:U,captureId:t,endpointId:a+n,newRegions:y.JsonHelper.seqToJsArray(B.newRegions)}),I&&"new_regions"!==I&&u.a.createElement(M,{captureId:t,key:I,diffs:y.JsonHelper.seqToJsArray(B.bodyDiffsForId(I)),completed:O,tab:I}))),u.a.createElement(Q.a,{captureId:t,open:N||O&&B.empty,canOnlyReset:B.empty&&O,close:function(){return _(!1)}}))}var ee=Object(I.a)((function(e){return{container:{display:"flex"},navigationContainer:{width:230,overflow:"hidden",display:"flex"},pageContainer:{justifyContent:"center",flexGrow:1},navRoot:{flexGrow:1,position:"fixed",width:"inherit",height:"100vh",overflowY:"visible",overflowX:"visible",display:"flex",flexDirection:"column",borderRight:"1px solid ".concat(e.palette.grey[300]),background:e.palette.grey[100],zIndex:1e3},chips:{marginLeft:10},tabScroll:{paddingTop:16,flexGrow:1,flexShirnk:1},tabs:{marginLeft:e.spacing(2)},indent:{display:"flex",flexDirection:"column",marginLeft:e.spacing(1)},center:{flex:1,maxWidth:1200,paddingLeft:20,paddingRight:20,paddingTop:20,paddingBottom:e.spacing(1),margin:"0 auto"},statsSection:{display:"flex",flexDirection:"row",alignItems:"baseline",paddingLeft:e.spacing(1)},progressStats:{paddingLeft:e.spacing(1),color:w.b,flex:1},progressWrapper:{height:6,width:"100%"},header:{display:"flex",flexDirection:"column",flexShrink:1,width:"100%",alignItems:"left",justifyContent:"center",paddingBottom:6,margin:e.spacing(1)},formControl:{paddingLeft:35,paddingRight:15},selectEmpty:{marginTop:e.spacing(2)},stats:{marginTop:20,paddingBottom:15,alignItems:"center",display:"flex",justifyContent:"center",flexDirection:"row"},subStat:{paddingBottom:15,alignItems:"center",display:"flex",justifyContent:"center",flexDirection:"row"},listItemInner:{display:"flex",flexDirection:"column"},row:{marginBottom:11},disabled:{pointerEvents:"none",opacity:.5},paper:{marginBottom:15},diffContainer:{display:"flex",height:"100vh",paddingLeft:32,paddingRight:32,flexDirection:"row",overflow:"scroll",flexGrow:1,flexShrink:1,justifyContent:"center"},diffWrapper:{flex:1,padding:"24px 0px 144px",maxWidth:1280},sectionHeader:{fontWeight:400,fontSize:11,color:w.b},fab:{position:"fixed",bottom:15,right:15},fabLabel:{paddingRight:8},title:{fontSize:14,padding:7,textAlign:"left",marginBottom:4},suggestionsBox:{display:"flex",paddingLeft:18,paddingTop:8,paddingBottom:8,paddingRight:5,flexDirection:"row",alignItems:"center"},suggestionsCount:{fontSize:10,color:w.b},buttonSmall:{fontSize:10,padding:4,minWidth:40}}}));n.d(t,"c",(function(){return re})),n.d(t,"a",(function(){return ie})),n.d(t,"b",(function(){return ce}));var te=y.opticEngine.com.useoptic,ne=(te.diff,te.JsonHelper),ae=ne();var re=u.a.createContext(null);function oe(e){var t=e.children,n=u.a.useState([]),a=Object(s.a)(n,2),r=a[0],o=a[1],i={acceptedSuggestions:r,setAcceptedSuggestions:o,resetAccepted:function(){o([])}};return u.a.createElement(re.Provider,{value:i},t)}var ie=u.a.createContext(null);function ce(e){var t=e.children,n=u.a.useState([]),a=Object(s.a)(n,2),r=a[0],o=a[1],i={ignoreDiff:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o([].concat(Object(c.a)(r),t))},ignoredDiffs:r,resetIgnored:function(){return o([])}};return u.a.createElement(ie.Provider,{value:i},t)}function se(e,t){return[].concat(Object(c.a)(e),Object(c.a)(t))}var le=function(e){var t=e.isLoading,n=(e.session,e.captureId),a=e.children,r=Object(j.c)(),o=r.endpointDiffs,i=r.updatedAdditionalCommands,s=r.diffId,l=r.completed,d=e.setAcceptedSuggestions,p=(e.setSelectedDiff,e.acceptedSuggestions),m=e.ignoredDiffs,f=e.resetIgnored,h=e.resetAccepted,g=e.pathId,b=e.method;if(t)return null;var E=y.DiffResultHelper.diffsForPathAndMethod(ae.jsArrayToSeq(o),g,b,ae.jsArrayToSeq(m));return u.a.createElement(v.b,{diffId:s,diffsForThisEndpoint:E,completed:l,reset:function(){i([]),f(),h(),Object($.b)(K.UserResetDiff.withProps({}))},acceptSuggestion:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(t){var r=[].concat(Object(c.a)(p),t);d(r);var o=r.map((function(e){return ae.seqToJsArray(e.commands)})).reduce(se,[]);i(o),t.map((function(e){Object($.b)(K.UserAcceptedSuggestion.withProps({captureId:n,suggestion:e.action}))}))}},acceptedSuggestions:p},a)},ue=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=ne(),t=this.props,n=t.captureId,a=t.services,r=t.rfcId,o=t.eventStore,i=t.children,c=t.pathId,s=t.method;return u.a.createElement(oe,null,u.a.createElement(ie.Consumer,null,(function(t){var l=t.ignoredDiffs,d=t.resetIgnored;return u.a.createElement(re.Consumer,null,(function(t){var p=t.acceptedSuggestions,m=t.setAcceptedSuggestions,f=t.resetAccepted,h=p.map((function(t){return e.seqToJsArray(t.commands)})).reduce(se,[]);return u.a.createElement(E.a,{rfcId:r,eventStore:o.getCopy(r),commands:h,shouldSimulate:!0},u.a.createElement(j.b,Object.assign({captureId:n,pathId:c,method:s,ignoredDiffs:l},a),u.a.createElement(le,{pathId:c,method:s,captureId:n,ignoredDiffs:l,resetIgnored:d,resetAccepted:f,setAcceptedSuggestions:m,acceptedSuggestions:p},i)))}))})))}}]),n}(u.a.Component),de=p()(b.f)(ue);t.d=p()(g.f)((function(e){var t=Object(l.useContext)(g.a).specStore,n=Object(C.b)(),a=Object(g.d)(),r=e.match.params,o=r.pathId,i=r.method,c=r.captureId;return f()(o,":pathId param must be matched to render DiffPageNew"),f()(i,":method param must be matched to render DiffPageNew"),f()(c,":captureId param must be matched to render DiffPageNew"),u.a.createElement(de,{specStore:t,captureId:c,pathId:o,method:i,services:a},u.a.createElement(h.b,{pathId:o,method:i,inContextOfDiff:!0,notFound:u.a.createElement(O.a,{to:"".concat(n,"/diffs")})},u.a.createElement(X,{captureId:c,pathId:o,method:i})))}))},126:function(e,t,n){"use strict";var a=n(25),r=n(26),o=n(28),i=n(29),c=n(0),s=n.n(c),l=n(64),u=n.n(l),d=n(70),p=n(15),m=n(1130),f=n(519),h=n(42),g=n.n(h),v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.mainContentMax,r=e.notifications,o=e.children;return s.a.createElement("div",{className:g()(t.root,n)},s.a.createElement("div",{className:t.mainContent,style:{maxWidth:a,width:"100%"}},o),s.a.createElement("div",{className:t.spacer}),s.a.createElement("div",{className:t.right},r))}}]),n}(s.a.Component),b=u()((function(e){return{root:{display:"flex",flexDirection:"row"},mainContent:{},spacer:{flex:1},right:{display:"flex",alignItems:"center"}}}))(v),y=n(24);n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return S}));var E=Object(d.a)(null),O=E.Context,C=E.withContext,j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={requestContentType:null,responseStatusCode:null,responseContentType:null},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t={setRequestContentType:function(t){return e.setState({requestContentType:t})},setResponseStatusCode:function(t){return e.setState({responseStatusCode:t})},setResponseContentType:function(t){return e.setState({responseContentType:t})},requestContentType:this.state.requestContentType,responseStatusCode:this.state.responseStatusCode,responseContentType:this.state.responseContentType};return s.a.createElement(O.Provider,{value:t},this.props.children)}}]),n}(s.a.Component),w=u()({root:{paddingRight:12,minHeight:"inherit"},indicator:{display:"flex",justifyContent:"center",color:p.m,backgroundColor:"transparent","& > div":{width:"100%",backgroundColor:p.m}}})((function(e){return s.a.createElement(m.a,Object.assign({},e,{TabIndicatorProps:{children:s.a.createElement("div",null)}}))})),S=u()((function(e){return{root:{textTransform:"none",color:"#726e6e",padding:0,marginTop:5,height:25,minHeight:"inherit",minWidth:"inherit",fontWeight:500,fontSize:e.typography.pxToRem(14),marginRight:e.spacing(2),"&:focus":{opacity:1}}}}))((function(e){return s.a.createElement(f.a,Object.assign({disableRipple:!0},e))})),x=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.inRequest,n=(e.responseContentType,e.setResponseContentType),a=e.setResponseStatusCode,r=e.responseStatusCode,o=e.requestContentType,i=e.options,c=e.setRequestContentType;t&&!o&&i.contentTypes.length>0&&c(i.contentTypes[0]),!t&&!r&&i.length>0&&(a(i[0].statusCode),n(i[0].contentTypes[0]))}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.options,a=e.notifications,r=e.renderDescription,o=e.inRequest,i=e.requestContentType,c=e.responseContentType,l=e.setRequestContentType,u=e.setResponseContentType,d=e.responseStatusCode,p=e.setResponseStatusCode,m=e.renderResponse,f=e.renderRequest,h=o?i:c,g=o?l:u,v=o?n.contentTypes||[]:(n.find((function(e){return e.statusCode===d}))||{}).contentTypes||[],E=o?f(i):m(d,c),O=r&&(o?r(i):r(d,c));if(o&&0===n.contentTypes.length)return null;if(!o&&0===n.length)return null;var C="".concat(h,"-").concat(d,"-").concat(c);return s.a.createElement("div",{className:t.container,key:C},s.a.createElement(b,{notifications:a},s.a.createElement("div",{className:t.root},s.a.createElement(y.a,{variant:"h5",color:"primary"},o?"Request":"Response"))),O,s.a.createElement("div",{className:t.root},!o&&s.a.createElement(w,{onChange:function(e,t){return p(t)},value:d},n.map((function(e,t){var n=e.statusCode;return s.a.createElement(S,{label:n,value:n})}))),s.a.createElement("div",{style:{flex:1}}),s.a.createElement(w,{value:h,onChange:function(e,t){return g(t)}},v.map((function(e){return s.a.createElement(S,{label:e,value:e})})))),s.a.createElement("div",{className:t.content},E))}}]),n}(s.a.Component);t.d=C(u()((function(e){return{container:{marginBottom:45},root:{marginTop:15,display:"flex",flex:1},content:{paddingRight:12,paddingTop:15}}}))(x))},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(10),r=n(47),o={testingDashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/testing")},testingCapture:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/testing/captures/:captureId")},testingEndpointDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/testing/captures/:captureId/endpoints/:endpointId")},docsRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/documentation")},dashboardRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/dashboard")},setup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/setup")},requestDocsRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(o.docsRoot(e),"/paths/:pathId/methods/:method")},diffsRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"/diffs")},captureRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(o.diffsRoot(e),"/:captureId")},captureRequestDiffsRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(o.captureRoot(e),"/paths/:pathId/methods/:method")}};function i(){var e=Object(r.b)();return Object.entries(o).reduce((function(t,n){var r=Object(a.a)(n,2),o=r[0],i=r[1];return"function"===typeof i&&(t[o]=i(e)),t}),{})}},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(0),r=n.n(a),o=n(138),i=(n(15),n(117)),c=n(24);n(16);function s(e){e.show;var t=d();return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.top},r.a.createElement(o.a,{variant:"rect",height:80})),r.a.createElement("div",{className:t.sideBySide},r.a.createElement(o.a,{variant:"rect",height:550,component:"div",className:t.textParent},r.a.createElement(c.a,{component:"div",className:t.text,variant:"overline"},"Waiting for Next Diff...")),r.a.createElement("div",{style:{width:20}}),r.a.createElement(o.a,{variant:"rect",width:250,height:200})))}function l(e){var t=e.show,n=d();return t?r.a.createElement("div",{className:n.rootOverview},r.a.createElement(o.a,{variant:"rect",height:60,component:"div",style:{marginTop:12}}),r.a.createElement(o.a,{variant:"rect",height:60,component:"div",style:{marginTop:12}}),r.a.createElement(o.a,{variant:"rect",height:60,component:"div",style:{marginTop:12}}),r.a.createElement(o.a,{variant:"rect",height:60,component:"div",style:{marginTop:12}})):null}function u(e){var t=e.show,n=d();return t?r.a.createElement("div",{className:n.rootUnder},r.a.createElement("div",{className:n.sideBySide},r.a.createElement(o.a,{variant:"rect",height:550,component:"div",className:n.textParent,withChildren:{withChildren:n.withChildren}},r.a.createElement(c.a,{component:"div",className:n.text,variant:"overline",style:{visibility:"inherit"}},"Loading Example and Diff...")),r.a.createElement("div",{style:{width:20}}),r.a.createElement(o.a,{variant:"rect",width:250,height:200}))):null}var d=Object(i.a)((function(e){return{root:{width:"100%"},rootOverview:{paddingLeft:15,paddingRight:15},rootUnder:{width:"100%",marginTop:70},text:{margin:"0 auto",fontSize:20,fontWeight:400,color:"#959191",visibility:"inherit !important"},textParent:{display:"flex",justifyContent:"center",flex:1,maxWidth:"inherit",alignItems:"center"},top:{paddingBottom:20},sideBySide:{display:"flex",maxWidth:"inherit",flexDirection:"row"},withChildren:{visibility:"inherit"}}}))},137:function(e,t,n){"use strict";var a=n(10),r=n(25),o=n(26),i=n(28),c=n(29),s=n(0),l=n.n(s),u=n(117),d=n(24),p=n(1129),m=n(4),f=n(16),h=n(99),g=n(222),v=(n(84),n(38)),b=n(44),y=n(73),E=n(273),O=n(219),C=n(154),j=n(15),w=n(124),S=n(136),x=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!m.CompareEquality.betweenBodyDiff(e.diff||void 0,this.props.diff||void 0)||!m.CompareEquality.betweenSuggestions(e.selectedInterpretation||void 0,this.props.selectedInterpretation||void 0)||!m.CompareEquality.betweenInteractions(e.interactionScala||void 0,this.props.interactionScala||void 0)||!e.renderDiff!==this.props.renderDiff}},{key:"render",value:function(){var e=this.props,t=e.outerRfcState,n=e.renderDiff,a=e.diff,r=e.description,o=e.interactionScala,i=e.body,c=e.selectedInterpretation,s=e.rfcId,u=e.eventStore,d="render "+a.diff.toString()+o.uuid;if(n){var p=c?m.JsonHelper.seqToJsArray(c.commands):[];return l.a.createElement("div",{key:d},l.a.createElement(O.a,{rfcId:s,eventStore:u.getCopy(s),commands:p,shouldSimulate:!0},l.a.createElement(v.c.Consumer,null,(function(e){var t=e.rfcService,n=e.rfcId,i=t.currentState(n);console.time("Making preview "+d);var s=m.DiffResultHelper.previewDiff(a,o,i);return console.timeEnd("Making preview "+d),l.a.createElement(g.a,{suggestion:c,diff:a,preview:Object(m.getOrUndefined)(s),diffDescription:r})}))))}return l.a.createElement("div",{key:d},l.a.createElement(g.a,{exampleOnly:!0,preview:Object(m.getOrUndefined)(m.DiffResultHelper.previewBody(i,t))}))}}]),n}(l.a.Component),I=Object(v.f)(x),k=n(231),T=n(35),A=n(30);n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return _}));var R=Object(u.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},title:{display:"flex",flexDirection:"row",alignItems:"center",paddingTop:30},content:{display:"flex",flexDirection:"column",paddingTop:25},leftContent:{flex:1,padding:12},rightDrawer:{width:260,padding:12,borderLeft:"1px solid",borderLeftColor:"#e0e0e0"},innerRow:{display:"flex",flexDirection:"row"},shapeBox:{backgroundColor:j.l,borderRadius:8,overflow:"hidden"},headerBox:{padding:6,paddingLeft:0}}})),D=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!m.CompareEquality.betweenBodyDiff(e.selectedDiff||void 0,this.props.selectedDiff||void 0)}},{key:"render",value:function(){var e=this.props,t=e.selectedDiff,n=e.captureId,a=e.setSelectedDiff;return l.a.createElement(P,Object.assign({diff:t,captureId:n},{selectedDiff:t,setSelectedDiff:a}))}}]),n}(l.a.Component),P=function(e){var t=R(),n=e.diff,r=e.selectedDiff,o=e.setSelectedDiff,i=(e.rfcContext,e.captureId),c=Object(w.a)(n),u=Object(s.useState)(null),g=Object(a.a)(u,2),O=g[0],j=g[1],x=function(e){c&&e&&Object(T.b)(A.UserPreviewedSuggestion.withProps({captureId:i,diff:c.title,diffAssertion:c.assertion,suggestion:e.action})),j(e)};Object(s.useEffect)((function(){x(null)}),[n&&n.diff.toString()]);var D=Object(s.useContext)(v.c),P=D.rfcId,U=D.rfcService,B=D.cachedQueryResults,F=(D.eventStore,n.interactionsCount),L=l.a.useState(1),H=Object(a.a)(L,2),q=H[0],W=H[1];Object(s.useEffect)((function(){W(1)}),[n&&n.diff.toString()]);var z=U.currentState(P),M=(B.shapesResolvers,Object(m.getIndex)(n.interactionPointers)(q-1)),J=Object(w.c)(M);if(!J||!c)return l.a.createElement(S.c,{show:!0});J.interaction;var G=J.interactionScala,V=G.request,Y=V.method,Q=V.path;return l.a.createElement(b.b,null,l.a.createElement("div",null,l.a.createElement("div",{className:t.title},l.a.createElement(d.a,{variant:"h6",color:"primary"},"Observation"),l.a.createElement("div",{style:{flex:1}}),l.a.createElement(d.a,{variant:"overline",style:{color:f.b}},"Examples"),l.a.createElement(p.a,{color:"primary",count:F,page:q,showLastButton:F>5,size:"small",onChange:function(e,t){return W(t)}})),l.a.createElement(f.c,{style:{marginTop:10,marginBottom:15}}),l.a.createElement(y.b,{path:Q,method:Y}),l.a.createElement("div",{className:t.content},l.a.createElement(h.a,{when:G.request.body.nonEmpty},l.a.createElement(N,{left:l.a.createElement(_,{header:l.a.createElement(C.a,{itemStyles:{fontSize:13,color:"white"},location:["Request Body",Object(m.getOrUndefined)(G.request.body.contentType)]})},n.inRequest?l.a.createElement(k.a,{diff:n.inRequest&&n,diffDescription:c,body:G.request.body,selectedInterpretation:O}):l.a.createElement(I,{renderDiff:n.inRequest,diff:n,interactionScala:G,description:c,body:G.response.body,outerRfcState:z,selectedInterpretation:O})),right:l.a.createElement(E.a,Object.assign({inRequest:!0,description:c,currentInteraction:G},{selectedDiff:r,setSelectedDiff:o,selectedInterpretation:O,setSelectedInterpretation:x}))}),l.a.createElement("div",{style:{marginTop:20,marginBottom:20}},l.a.createElement(f.c,null))),l.a.createElement(h.a,{when:G.response.body.nonEmpty},l.a.createElement(N,{left:l.a.createElement(_,{header:l.a.createElement(C.a,{itemStyles:{fontSize:13,color:"white"},location:["".concat(G.response.statusCode," Response Body"),Object(m.getOrUndefined)(G.response.body.contentType)]})},l.a.createElement(k.a,{diff:n.inResponse&&n,diffDescription:c,body:G.response.body,selectedInterpretation:O})),right:l.a.createElement(E.a,Object.assign({inResponse:!0,description:c,currentInteraction:G},{selectedDiff:r,setSelectedDiff:o,selectedInterpretation:O,setSelectedInterpretation:x}))})))))},N=function(e){var t=e.left,n=e.right,a=R();return l.a.createElement("div",{className:a.innerRow},l.a.createElement("div",{style:{flex:1,paddingRight:25}},t),l.a.createElement("div",{style:{width:250}},n))},_=function(e){var t=e.header,n=e.children,a=R();return l.a.createElement("div",{className:a.shapeBox},l.a.createElement("div",{className:a.headerBox},t),l.a.createElement("div",null,n))}},149:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n(25),r=n(26),o=n(28),i=n(29),c=n(0),s=n(70),l=Object(s.a)(null),u=l.Context;l.withContext;e.devlog2=[];var d=function(t){Object(o.a)(s,t);var n=Object(i.a)(s);function s(){return Object(a.a)(this,s),n.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var t=this.props,n=t.rfcId,a=t.initialCommandsString,r=t.initialEventsString;return e.devlog2.push({instance:this.props.instance,e:r&&r.length,c:a&&a.length,initialEventsString:r,initialCommandsString:a}),c.createElement(u.Provider,{value:{rfcId:n,initialCommandsString:a,initialEventsString:r}},this.props.children)}}]),s}(c.Component)}).call(this,n(46))},15:function(e,t,n){"use strict";n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"k",(function(){return T})),n.d(t,"e",(function(){return A}));var a=n(162),r=n(8),o=n(89),i="#31366f",c="#ea4a61",s="#2b7bd1",l="rgba(43,123,209,0.11)",u="rgba(0,196,70,0.3)",d="rgba(252,171,16,0.3)",p="rgba(248,51,60,0.3)",m="#17c8a3",f="#c8b768",h="#c86363",g="#F5F6FA",v="#686868",b="#52e2a3",y="#5aaad1",E="#ee7517",O="#c8a5dc",C="#cd8d8c",j="#686868",w="#276c4e",S="#264859",x="#69340a",I="#796384",k="#634444",T=Object(a.a)({palette:{primary:{main:i},secondary:{main:c},updated:{main:s,background:l},changed:{main:f,background:d},added:{main:m,background:u},removed:{main:h,background:p},info:{main:"#323232"},httpMethods:{OPTIONS:{main:v,dark:j},GET:{main:b,dark:w},POST:{main:y,dark:S},PUT:{main:E,dark:x},PATCH:{main:O,dark:I},DELETE:{main:C,dark:k}}},typography:{fontFamily:["Ubuntu","Inter"]},overrides:{MuiSnackbarContent:{root:{'&[class*="variantInfo"]':{backgroundColor:g}}}}}),A=Object(r.a)((function(){return{root:{color:"white",backgroundColor:"#4696FF","&:hover":{backgroundColor:"#71ABFF"}}}}))(o.a)},154:function(e,t,n){"use strict";n.d(t,"b",(function(){return G})),n.d(t,"a",(function(){return V}));var a=n(43),r=n(18),o=n(25),i=n(26),c=n(28),s=n(29),l=n(6),u=n.n(l),d=n(11),p=n(23),m=n(10),f=n(0),h=n.n(f),g=n(117),v=n(24),b=n(16),y=n(89),E=n(1133),O=n(42),C=n.n(O),j=n(521),w=n(30),S=n(145),x=n.n(S),I=n(4),k=n(84),T=n(15),A=n(1134),R=n(366),D=(n(273),n(19),n(1129)),P=(n(38),n(222),n(231)),N=n(44),_=n(137),U=n(184),B=n(520),F=n(1127),L=n(71),H=n(54),q=n(235),W=n(124),z=n(99),M=n(35);function J(e){var t=e.newRegions,n=e.ignoreDiff,a=e.captureId,r=e.endpointId,o=Q(),i=Object(f.useContext)(k.a).acceptSuggestion,c=Object(H.c)(),s=c.diffService,l=c.captureService,g=Object(f.useState)([]),E=Object(m.a)(g,2),O=E[0],C=E[1],j=Object(f.useState)(!1),S=Object(m.a)(j,2),x=S[0],T=S[1],A=Object(f.useState)(!1),D=Object(m.a)(A,2),P=(D[0],D[1],h.a.useState(!1)),N=Object(m.a)(P,2),_=N[0],U=N[1];if(Object(f.useEffect)((function(){Object(M.b)(w.ShowInitialDocumentingView.withProps({}))}),[]),0===t.length)return null;var W=function(e){return!!O.find((function(t){return I.CompareEquality.between(t,e.diff)}))},J=function(e){return function(t){t.target.checked?C(O.filter((function(t){return!I.CompareEquality.between(t,e.diff)}))):C([].concat(Object(p.a)(O),[e.diff]))}},G=function(){var e=Object(d.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),a=t.filter((function(e){return W(e)})).map((function(e){return e.diff})),n.apply(void 0,Object(p.a)(a)),e.next=5,Promise.all(t.filter((function(e){return!W(e)})).map(function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,o,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.loadInteraction(t.firstInteractionPointer);case 2:if(n=e.sent,a=n.interaction,r=t.toString()+_.toString(),!(o=window.naiveCache&&window.naiveCache[r])){e.next=10;break}e.t0=o,e.next=13;break;case 10:return e.next=12,s.loadInitialPreview(t,I.JsonHelper.fromInteraction(a),_);case 12:e.t0=e.sent;case 13:return i=e.t0,c=i.suggestion,e.abrupt("return",Object(I.getOrUndefined)(c));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:r=e.sent,i.apply(void 0,Object(p.a)(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=!x&&t.map((function(e){if(e.inRequest)return h.a.createElement(Y,{diff:e,key:e.diff.toString(),isDeselected:W,onChange:J,inferPolymorphism:_,endpointId:r})})).filter((function(e){return!!e})),Z=!x&&t.map((function(e){if(e.inResponse)return h.a.createElement(Y,{diff:e,isDeselected:W,onChange:J,key:e.diff.toString(),inferPolymorphism:_,endpointId:r})})).filter((function(e){return!!e}));(V.length||Z.length)&&Object(M.b)(w.NewBodyDiffRendered.withProps({requestCount:V.length,responseCount:Z.length,regions:[].concat(Object(p.a)(V.map((function(e){return e.locationString}))),Object(p.a)(Z.map((function(e){return e.locationString}))))}));var $=Z.length+V.length-O.length;return h.a.createElement(h.a.Fragment,null,h.a.createElement(R.a,{className:o.header,elevation:2},h.a.createElement("div",{style:{flex:1}},h.a.createElement(v.a,{variant:"h5",color:"primary",style:{fontSize:22}},"Generate Initial Documentation")),h.a.createElement("div",{className:o.approveNewRegions},h.a.createElement(L.a,{title:h.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},"When you turn this option on, Optic will try to infer which fields are Optional, Nullable or OneOfs in your bodies. This can save you a lot of time when documenting large APIs. Leave this option disabled to review the polymorphism in your API manually.",h.a.createElement(v.a,{variant:"caption",style:{marginTop:12,color:b.b}},"A random 20 examples from this capture will be used for the inference, it may not catch everything."," "))},h.a.createElement(B.a,{style:{marginRight:12},control:h.a.createElement(F.a,{size:"medium",checked:_,disabled:x,onChange:function(e){U(e.target.checked),e.target.checked&&Object(M.b)(w.UserEnabledInferPolymorphism.withProps({captureId:a,endpointId:r}))},color:"primary"}),labelPlacement:"start",label:h.a.createElement(v.a,{variant:"body1",color:"textSecondary",style:{fontSize:12}},"Infer Polymorphism")})),h.a.createElement(y.a,{size:"small",color:"default",onClick:function(){var e=t.map((function(e){return e.diff}));n.apply(void 0,Object(p.a)(e))},disabled:x,style:{marginRight:10}},"Ignore All"),h.a.createElement(y.a,{size:"small",color:"primary",variant:"contained",disabled:0===$||x,onClick:G},"Document (",$||"",") bodies")),x&&h.a.createElement(q.a,null)),!x&&h.a.createElement("div",{className:o.wrapper},h.a.createElement("div",{className:o.diffsNewRegion},V.length>0&&h.a.createElement("div",{className:o.region},h.a.createElement(v.a,{variant:"h6",color:"primary"},"Requests"),V),h.a.createElement(z.a,{when:V.length},h.a.createElement(b.c,{style:{marginTop:30,marginBottom:20}})),Z.length>0&&h.a.createElement("div",{className:o.region},h.a.createElement(v.a,{variant:"h6",color:"primary"},"Responses"),Z))))}var G=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!I.CompareEquality.between(e.newRegions,this.props.newRegions)}},{key:"render",value:function(){return console.log("rendering all over again"),h.a.createElement(J,this.props)}}]),n}(h.a.Component),V=function(e){var t=Q(),n=e.location,a=e.itemStyles;return h.a.createElement(A.a,{className:t.location,separator:h.a.createElement("span",{style:Object(r.a)({fontSize:13},a)},"\u203a"),"aria-label":"breadcrumb"},n.filter((function(e){return!!e})).map((function(e){return h.a.createElement(v.a,{key:e,style:a,className:t.crumb,color:"primary"},e)})))},Y=function(e){var t=e.diff,n=e.inferPolymorphism,r=e.isDeselected,o=e.onChange,i=e.endpointId,c=!r(t),s=Q(),l=t.interactionsCount,u=h.a.useState(1),d=Object(m.a)(u,2),p=d[0],g=d[1];Object(f.useEffect)((function(){g(1)}),[t.diff?t.diff.toString():void 0]);var v=Object(I.getIndex)(t.interactionPointers)(p-1),b=Object(W.c)(v),y=Object(W.b)(t,b&&b.interactionScala,n,i),O=y.preview,w=y.loadingInferPoly;if(!b||!O||w)return h.a.createElement(q.a,null);var S=t.inRequest?b.interactionScala.request.body:b.interactionScala.response.body,x=!!Object(I.getOrUndefined)(S.jsonOption),k=(Object(I.getOrUndefined)(O.bodyPreview),Object(I.getOrUndefined)(O.shapePreview));return h.a.createElement(h.a.Fragment,null,h.a.createElement(R.a,{className:s.regionHeader,elevation:2},h.a.createElement(E.a,{checked:c,onChange:o(t),color:"primary"}),h.a.createElement(j.a,{className:C()(Object(a.a)({},s.uncheckedText,!c)),primary:t.inRequest?Object(I.getOrUndefined)(t.contentType)||"No Body":"".concat(Object(I.getOrUndefined)(t.statusCode)," Response ").concat(Object(I.getOrUndefined)(t.contentType)||"No Body"),secondary:"Observed ".concat(t.interactionsCount," times"),primaryTypographyProps:{style:{fontSize:14}},secondaryTypographyProps:{style:{fontSize:12}}}),h.a.createElement("div",{style:{flex:1}}),l>1&&Object(I.getOrUndefined)(t.contentType)&&h.a.createElement(D.a,{color:"primary",className:C()(Object(a.a)({},s.unchecked,!c)),style:{display:"flex"},count:l,page:p,showLastButton:l>5,size:"small",onChange:function(e,t){return g(t)}})),h.a.createElement("div",{className:C()(s.newContentPreview,Object(a.a)({},s.unchecked,!c))},h.a.createElement("div",{style:{width:"55%",paddingRight:15}},x&&h.a.createElement(_.b,{header:h.a.createElement("div",{style:{display:"flex",alignItems:"center"}},h.a.createElement(V,{itemStyles:{fontSize:13,color:"white"},location:["Example"]}),h.a.createElement("div",{style:{flex:1}}),h.a.createElement("span",{style:{color:"white"}},"\u2b95"))},h.a.createElement(P.a,{body:S}))),h.a.createElement("div",{style:{flex:1}},k&&h.a.createElement(_.b,{header:h.a.createElement(V,{itemStyles:{fontSize:13,color:"white"},location:["Documented Shape"]})},h.a.createElement(N.b,null,h.a.createElement(U.a,{preview:k,exampleOnly:!0}))))))},Q=Object(g.a)((function(e){return{root:{width:"100%"},blur:{opacity:.3,pointerEvents:"none"},header:{backgroundColor:"white",padding:8,paddingLeft:12,display:"flex",justifyContent:"center",position:"sticky",top:0,zIndex:500,alignItems:"center"},region:{padding:5},regionHeader:{display:"flex",flexDirection:"row",marginTop:16,paddingRight:12},approveNewRegions:{paddingRight:10},newContentPreview:{paddingTop:16,paddingRight:8,display:"flex",flexDirection:"row"},unchecked:{pointerEvents:"none",opacity:.38},uncheckedText:{pointerEvents:"none",opacity:.68},hunkHeader:{paddingRight:10,paddingTop:5,paddingBottom:5,color:"#25292e",minHeight:40,fontWeight:800,display:"flex",flexDirection:"row",alignItems:"start",justifyContent:"start"},location:{marginLeft:12},diff:{fontSize:12,fontWeight:600,color:"#f8333c",marginLeft:11,flex:1,paddingLeft:30},crumb:{fontSize:12,textTransform:"uppercase"},heading:{fontSize:e.typography.pxToRem(17),padding:0,fontWeight:e.typography.fontWeightRegular},wrapper:{overflow:"hidden",paddingTop:18},hunk:{backgroundColor:"white",minHeight:300},subheader:{fontWeight:100,paddingBottom:0,marginBottom:0,height:33},diffsNewRegion:{display:"flex",flexDirection:"column",paddingLeft:5,justifyContent:"center"}}}));x.a,T.b,x.a,T.d,x.a,T.g},156:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(64),r=n.n(a),o=n(519),i=n(0),c=n.n(i),s=n(15),l=r()((function(e){return{root:{textTransform:"none",color:s.l,padding:0,marginTop:5,height:35,minHeight:"inherit",minWidth:"inherit",fontWeight:500,textAlign:"left",fontSize:e.typography.pxToRem(13),textOverflow:"ellipsis",whiteSpace:"nowrap",marginRight:e.spacing(2),"&:focus":{opacity:1}},wrapper:{alignItems:"flex-start"}}}))((function(e){return c.a.createElement(o.a,Object.assign({disableRipple:!0},e))})),u=r()((function(e){return{root:{textTransform:"none",color:s.l,padding:0,marginTop:5,height:20,minHeight:"inherit",minWidth:"inherit",fontWeight:500,textAlign:"left",fontSize:e.typography.pxToRem(12),textOverflow:"ellipsis",whiteSpace:"nowrap",marginRight:e.spacing(2),"&:focus":{opacity:1}},wrapper:{alignItems:"flex-start"}}}))((function(e){return c.a.createElement(o.a,Object.assign({disableRipple:!0},e,{label:c.a.createElement("div",{style:{display:"flex",width:"100%"}},c.a.createElement("div",{style:{flex:1}},e.label),c.a.createElement("div",null,e.count))}))}))},16:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return b}));var a=n(18),r=n(1125),o=n(0),i=n.n(o),c=n(24),s=n(15).l,l="#a3acb9",u="#818892",d="#3d4045",p={fontWeight:600,fontSize:13},m={color:s,fontWeight:600,letterSpacing:".41px",textTransform:"none"},f={color:l,fontSize:"12px",fontWeight:500,letterSpacing:".41px"},h={color:u,fontSize:"15px",fontWeight:500,letterSpacing:".41px"},g={GET:"#276c4e",POST:"#264859",PUT:"#69340a",PATCH:"#796384",DELETE:"#634444"},v=function(e){var t=e.style;return i.a.createElement(r.a,{style:Object(a.a)(Object(a.a)({},t),{},{backgroundColor:"#e3e8ee"})})},b=function(e){var t=e.title,n=e.onClick;return i.a.createElement(c.a,{onClick:n,variant:"h5",style:m}," ",t," ")}},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(23),r=n(43),o=n(10),i=n(0),c=n.n(i),s=n(24),l=n(192),u=n(185),d=n.n(u),p=n(42),m=n.n(p),f=n(15),h=n(44),g=n(4),v=n(19),b=n(68),y=n(158),E=n(516),O=n(38),C=n(39),j=n(71),w=n(115),S=n(272);function x(e){var t=e.preview,n=e.exampleOnly,a=Object(v.g)();if(!t)return null;t.rootId;var r=Object(g.getOrUndefined)(t.getRootShape);if(!r)throw new Error("Could not render root shape");return c.a.createElement(h.d,{shape:t,hideDivider:!0,exampleOnly:n},c.a.createElement("div",{className:a.root},c.a.createElement(b.a.Provider,{value:{depth:0}},I(r))))}function I(e,t){if(!e)return null;switch(e.baseShapeId){case"$object":return c.a.createElement(A,{shape:e,nested:Boolean(t)});default:return c.a.createElement(k,{shape:e})}}var k=function(e){var t=Object(v.g)(),n=Object(i.useContext)(h.c).shapeRender,a=e.shape,r=Object(i.useState)(null),s=Object(o.a)(r,2),l=s[0],u=s[1];Object(i.useEffect)((function(){u(null)}),[a]);var d=function(e){if(e===l)return u(null);u(e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(T,{left:c.a.createElement(b.b,null,c.a.createElement("div",{className:t.rowContents},c.a.createElement("div",{style:{flex:1,paddingLeft:4}},c.a.createElement(v.e,{typeName:a.name,onTypeClick:d}))))}),c.a.createElement(E.a,{in:!!l},l&&c.a.createElement(b.b,{add:2},c.a.createElement(y.a,{className:t.nested,elevation:6},c.a.createElement(b.a.Provider,{value:{depth:0}},I(Object(g.getOrUndefined)(n.getSpecShape(l))))))))},T=Object(h.f)((function(e){var t,n=Object(v.g)(),a=e.exampleOnly,o=e.onLeftClick,i=e.stayHighlighted,s=e.hideDivider,l="Addition"===e.highlight?f.b:"Update"===e.highlight?f.d:"Removal"===e.highlight?f.g:void 0;return c.a.createElement("div",{className:m()(n.row,(t={},Object(r.a)(t,n.stayHighlighted,i),Object(r.a)(t,n.rowWithHover,!e.noHover),t)),style:{backgroundColor:l}},c.a.createElement("div",{className:n.left,onClick:o},e.left),!a&&!s&&c.a.createElement("div",{className:n.spacerBorder}," ".replace(/ /g,"\xa0")),!a&&c.a.createElement("div",{className:n.right,style:{width:"50%"}},e.right))})),A=Object(h.f)((function(e){Object(v.g)(),e.shapeRender;var t=e.shape,n=e.nested,a=t.fields;return c.a.createElement(c.a.Fragment,null,!n&&c.a.createElement(T,{left:c.a.createElement(v.d,null,"{"),noHover:!0}),Object(g.mapScala)(a)((function(e){return c.a.createElement(N,{field:e})})),c.a.createElement(b.c,null,c.a.createElement(T,{left:c.a.createElement(v.d,{withIndent:!0},"}"),noHover:!0})))}));function R(e){var t=e.children,n=e.missing,a=Object(v.g)();return c.a.createElement(s.a,{variant:"caption",className:a.fieldName,style:{opacity:n?.4:1}},t,":")}function D(e){var t=e.shape;Object(v.g)();return c.a.createElement(b.c,{add:1},I(t,!0))}function P(e){var t=e.fieldId,n=Object(v.g)(),r=Object(i.useContext)(O.c),s=r.cachedQueryResults,u=r.handleCommands,p=s.contributions.getOrUndefined(t,C.a),m=Object(i.useState)(!1),f=Object(o.a)(m,2),h=f[0],g=f[1],b=function(e){"no"!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_LEARN_API_MODE:"falseOPTIC__NPM__VERSION=8.6.2",REACT_APP_TESTING_DASHBOARD:"true",REACT_APP_TESTING_DASHBOARD_TEASER:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DETAILS:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DIFF_STATS:"false",REACT_APP_TESTING_DASHBOARD_UNDOCUMENTED_ENDPOINTS:"false",REACT_APP_FLATTENED_SHAPE_VIEWER:"true"}).REACT_APP_SPEC_ENABLE_EDITING&&g(e)},y=Object(i.useState)(p||""),E=Object(o.a)(y,2),x=E[0],I=E[1],k=p||x,T=function(){x!==p&&u.apply(void 0,Object(a.a)(Object(S.a)(t,C.a,x))),b(!1)};return c.a.createElement("div",{className:n.fieldDescription,style:{justifyContent:"flex-end"}},h&&c.a.createElement(l.a,{value:x,onChange:function(e){return I(e.target.value)},onBlur:T,autoFocus:!0,fullWidth:!0,multiline:!0,inputProps:{onBlur:T,style:{color:v.c}},size:"small"}),!h&&k&&c.a.createElement("div",{style:{flex:1},onClick:function(){return b(!0)}},c.a.createElement(w.a,{source:k,noHeadings:!0})),!p&&!h&&"no"!==Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_LEARN_API_MODE:"falseOPTIC__NPM__VERSION=8.6.2",REACT_APP_TESTING_DASHBOARD:"true",REACT_APP_TESTING_DASHBOARD_TEASER:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DETAILS:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DIFF_STATS:"false",REACT_APP_TESTING_DASHBOARD_UNDOCUMENTED_ENDPOINTS:"false",REACT_APP_FLATTENED_SHAPE_VIEWER:"true"}).REACT_APP_SPEC_ENABLE_EDITING&&c.a.createElement(j.a,{title:"Add Field Description"},c.a.createElement(d.a,{className:"descriptionButton",onClick:function(){return b(!0)},style:{width:15,display:"none",height:15,cursor:"pointer",color:v.c},color:"primary"})))}var N=Object(h.f)((function(e){var t=Object(v.g)(),n=e.field,a=e.shapeRender,r=n.fieldName,s=n.shape,l=n.specFieldId,u=Object(i.useState)(null),d=Object(o.a)(u,2),p=d[0],m=d[1];Object(i.useEffect)((function(){m(null)}),[s]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(T,{stayHighlighted:Boolean(p),left:c.a.createElement(b.b,null,c.a.createElement("div",{className:t.rowContents},c.a.createElement("div",null,c.a.createElement(R,null,r)),c.a.createElement("div",{style:{flex:1,paddingLeft:4}},s.isObject?c.a.createElement(v.d,{children:"{"}):c.a.createElement(v.e,{typeName:s.name,onTypeClick:function(e){if(e===p)return m(null);m(e)}})))),right:c.a.createElement(P,{fieldId:l})}),s&&s.isObject?c.a.createElement(D,{shape:s}):c.a.createElement(E.a,{in:!!p},p&&c.a.createElement(b.b,{add:2},c.a.createElement(y.a,{className:t.nested,elevation:6},c.a.createElement(b.a.Provider,{value:{depth:0}},I(Object(g.getOrUndefined)(a.getSpecShape(p))))))))}))},186:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(117),i=n(166),c=n.n(i),s=n(24),l=n(158),u=n(16),d=n(15),p=n(89),m=function(){return r.a.createElement(p.a,{color:"secondary",onClick:function(){window.Intercom("showNewMessage","Hey Optic team, I have a question!"),window.Intercom("update",{hide_default_launcher:!1})}},"Need Help?")};n.d(t,"a",(function(){return h}));var f=Object(o.a)((function(e){return{header:{textAlign:"center",marginBottom:22},paper:{padding:20,width:400,margin:"0px auto",paddingBottom:10},inlineCode:{backgroundColor:"#e2e2e2",padding:2,fontSize:12,paddingTop:1,paddingBottom:1,display:"inline-block",color:d.m}}}));function h(e){var t=f(),n=e.title,a=e.content;return r.a.createElement(l.a,{className:t.paper},r.a.createElement("div",{className:t.header},r.a.createElement("img",{src:"/optic-logo.svg"}),r.a.createElement(s.a,{variant:"h6",color:"primary"},n)),r.a.createElement(u.c,{style:{marginBottom:30}}),r.a.createElement(g,{source:a}),r.a.createElement("div",{style:{display:"flex",marginTop:15}},r.a.createElement("div",{style:{flex:1}}),r.a.createElement(m,null)))}function g(e){var t=e.source,n=e.style,a=f();return r.a.createElement("div",{style:n},r.a.createElement(c.a,{source:t,renderers:{paragraph:function(e){var t=e.children;return r.a.createElement(s.a,{variant:"body2",style:{fontWeight:200,marginTop:11,whiteSpace:"pre-wrap"}},t)},inlineCode:function(e){var t=e.children;return r.a.createElement(s.a,{className:a.inlineCode},t)}}}))}},19:function(e,t,n){"use strict";n.d(t,"g",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return E}));var a=n(0),r=n.n(a),o=n(117),i=n(15),c=n(44),s=n(64),l=n.n(s),u=n(524),d=n(4),p=n(24),m=n(68),f=Object(o.a)((function(e){return{root:{paddingTop:10,paddingBottom:10,backgroundColor:"#16203F",position:"relative"},nested:{paddingTop:10,marginTop:17,paddingBottom:10,backgroundColor:"#1c274b"},row:{display:"flex",padding:0,paddingLeft:4,flexDirection:"row"},rowWithHover:{cursor:"pointer","&:hover":{backgroundColor:"rgba(78,165,255,0.27) !important"},"&:hover .descriptionButton":{display:"inherit !important"}},rowCompass:{width:"100%",position:"fixed",display:"flex",justifyContent:"flex-end",paddingLeft:8,cursor:"pointer",animation:"$compassHover 3s ease-in-out infinite",opacity:0,willChange:"opacity",transition:"0.1s ease-out opacity","&$isAbove":{top:e.spacing(15),opacity:1},"&$isBelow":{bottom:e.spacing(4),opacity:1}},"@keyframes compassHover":{"0%":{transform:"translateY(-2px)"},"50%":{transform:"translateY(2px)"},"100%":{transform:"translateY(-2px)"}},isAbove:{},isBelow:{},rowCompassBody:{position:"relative",padding:e.spacing(.8,1),marginRight:8,flexShrink:0,flexGrow:1,borderRadius:15},rowCompassDirection:{position:"absolute",left:"50%",marginLeft:-10,width:e.typography.pxToRem(20),height:e.typography.pxToRem(20),flexGrow:0,flexShrink:0,fill:"#f8edf4",opacity:0},rowCompassDirectionDown:{"$isBelow &":{bottom:-28,opacity:1}},rowCompassDirectionUp:{"$isAbove &":{top:-28,opacity:1}},fieldDescription:{flex:1,alignItems:"center",paddingRight:15,display:"flex"},stayHighlighted:{backgroundColor:"rgba(78,165,255,0.27) !important"},menu:{userSelect:"none"},suggestion:{fontStyle:"italic",color:"white",flex:1,textAlign:"right",paddingRight:10},hiddenItem:{color:"#070707",fontSize:10,paddingLeft:7,paddingRight:7,backgroundColor:"#ababab",borderRadius:12},symbols:{color:"#cfcfcf",fontWeight:800,fontFamily:"'Source Code Pro', monospace"},value:{fontWeight:600,fontFamily:"'Source Code Pro', monospace"},fieldName:{fontWeight:600,color:"#cfcfcf",fontSize:12,fontFamily:"'Source Code Pro', monospace"},indexMarker:{fontWeight:500,color:"#9cdcfe",fontSize:12,fontFamily:"'Source Code Pro', monospace"},rowContents:{display:"flex",alignItems:"baseline",justifyContent:"center",flexDirection:"row"},left:{flexGrow:1,flexShrink:1,overflow:"hidden",display:"flex",paddingTop:3,paddingBottom:3,paddingLeft:5},spacerBorder:{maxWidth:1,backgroundColor:"#4B5A8C",flexGrow:0,flexShrink:0},right:{display:"flex",paddingLeft:5,paddingTop:3,paddingBottom:3,width:"35%",flexGrow:0,flexShrink:0,overflow:"hidden"},typeName:{display:"flex",whiteSpace:"pre",flex:1,fontWeight:600,fontFamily:"'Source Code Pro', monospace"},assertionMet:{display:"flex",flex:1,fontWeight:400,color:"#646464",fontStyle:"italic",fontFamily:"'Source Code Pro', monospace"},diffAssertion:{color:"#f8edf4",flex:1,fontSize:14,fontWeight:800,fontFamily:"'Source Code Pro', monospace"},toolbar:{alignItems:"flex-start",paddingTop:e.spacing(1),paddingBottom:e.spacing(2)},dash:{fontWeight:500,marginLeft:-10,color:i.l},isSticky:{}}})),h=Object(c.f)((function(e){var t=f(),n=Object(a.useContext)(c.a).setShowAllLists,o=e.expandId;return r.a.createElement(g,{placement:"right",title:"(Hidden) Click to Expand"},r.a.createElement("div",{className:t.hiddenItem,onClick:function(){return n(o,!0)}},"\u22ef"))})),g=l()((function(e){return{tooltip:{backgroundColor:"#2A3B72",color:"rgba(247, 248, 240, 1)",boxShadow:e.shadows[1],maxWidth:200,fontSize:11,fontWeight:200,padding:4}}}))(u.a),v={StringColor:"#e29f84",NumberColor:"#09885a",BooleanColor:"#E3662E",ObjectColor:"#30B1C4",ListColor:"#c47078",UnknownColor:"#ffc176",modifier:"#d5d4ff"},b="#cfcfcf",y=function(e){var t=e.typeName,n=(e.style,e.onTypeClick),o=f(),i=Object(a.useContext)(c.c).shapeRender;if(!t)return null;var s=t.asColoredString(i.specShapes);return r.a.createElement("div",{className:o.typeName},Object(d.mapScala)(s)((function(e){if(e.text){var t=Object(d.getOrUndefined)(e.link),a=n&&t;return r.a.createElement("span",{onClick:a&&function(){return n(t)},style:{color:v[e.color]||e.color,whiteSpace:"pre",textDecoration:a&&"underline",cursor:a&&"pointer"}},e.text)}})))};function E(e){var t=e.children,n=e.withIndent,a=f(),o=r.a.createElement(p.a,{variant:"caption",className:a.symbols},t);return n?r.a.createElement(m.b,{add:-1},o):o}},219:function(e,t,n){"use strict";var a=n(25),r=n(26),o=n(28),i=n(29),c=n(0),s=n.n(c),l=n(149),u=n(38),d=n(4),p=n(49),m=n(227),f=n.n(m),h=n(490),g=n.n(h),v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.rfcId,n=e.eventStore,a=e.commands,r=e.shouldSimulate,o=e.specService,i=n.getCopy(t),c=n.serializeEvents(t),p=r?JSON.stringify(Object(d.commandsToJson)(a)):null,m=g()("".concat(c,"+").concat(p));return s.a.createElement(l.b,{instance:"the one in simulated command context",rfcId:t,initialEventsString:c,initialCommandsString:p},s.a.createElement(u.a,{specService:o,initialEventStore:i,key:m},this.props.children))}}]),n}(s.a.Component);t.a=f()(p.f)(v)},222:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(117),i=n(44),c=n(10),s=n(43),l=n(24),u=n(42),d=n.n(u),p=n(369),m=n(144),f=n.n(m),h=n(491),g=n.n(h),v=n(492),b=n.n(v),y=n(15),E=n(493),O=n.n(E),C=n(4),j=n(84),w=n(68),S=n(19),x=(n(184),function(e){var t=e.shape,n=Object(S.g)(),o=Object(a.useRef)(null),s=function(e){var t=Object(a.useState)({isAbove:!1,isBelow:!1,x:null,width:null}),n=Object(c.a)(t,2),r=n[0],o=n[1],i=Object(a.useRef)(null),s=Object(a.useRef)(null),l=Object(a.useCallback)((function(){if(e&&window){var t=i.current;if(t){var n=window.innerHeight,a=t.getBoundingClientRect(),c=a.bottom<100,u=a.top-n>0,d=a.x,p=a.width;c===r.isAbove&&u===r.isBelow&&d===r.x&&p===r.width||o({isAbove:c,isBelow:u,x:d,width:p}),s.current=requestAnimationFrame(l)}}}),[r.isAbove,r.isBelow,r.x,r.width]);return{ref:i,compassState:r}}(!0),l=s.ref,u=s.compassState,d=Object(i.e)(),m=d.diff,f=d.diffDescription;Object(a.useEffect)((function(){var e=o.current;return l.current=e.querySelector(".".concat(n.isTracked," .").concat(n.right)),function(){l.current=null}}),[m&&m.toString()]);var h=Object(a.useCallback)((function(e){e.preventDefault(),l.current&&Object(p.a)(l.current,{scrollMode:"always",block:"center"})}),[m&&m.toString()]);return r.a.createElement("div",{ref:o,className:n.root},r.a.createElement(w.a.Provider,{value:{depth:0}},I(t)),m&&r.a.createElement(A,Object.assign({changeType:f.changeTypeAsString},u,{onClick:h})))});function I(e,t){if(!e)return null;switch(e.baseShapeId){case"$object":return r.a.createElement(R,{shape:e,nested:Boolean(t)});case"$list":return r.a.createElement(D,{shape:e,nested:Boolean(t)});default:return r.a.createElement(T,{left:r.a.createElement(U,{shape:e,value:Object(C.getJson)(e.example)})})}}function k(e){return"Addition"===e?y.b:"Update"===e?y.d:"Removal"===e?y.g:void 0}var T=Object(i.f)((function(e){var t,n=Object(S.g)(),a=e.exampleOnly,o=e.onLeftClick,i=k(e.changeType);return r.a.createElement("div",{className:d()(n.row,(t={},Object(s.a)(t,n.rowWithHover,!e.noHover),Object(s.a)(t,n.isTracked,!!e.tracked),t)),style:{backgroundColor:i}},r.a.createElement("div",{className:n.left,onClick:o},e.left),!a&&r.a.createElement("div",{className:n.spacerBorder}," ".replace(/ /g,"\xa0")),!a&&r.a.createElement("div",{className:n.right},e.right))}));function A(e){var t,n=Object(S.g)(),a=k(e.changeType),o=e.x,i=e.width,c=e.isAbove,l=e.isBelow;return r.a.createElement("div",{className:d()(n.rowCompass,(t={},Object(s.a)(t,n.isAbove,c),Object(s.a)(t,n.isBelow,l),t)),style:{left:o,width:i},onClick:e.onClick},r.a.createElement("div",{className:n.rowCompassBody,style:{backgroundColor:a}},r.a.createElement(g.a,{className:d()(n.rowCompassDirection,n.rowCompassDirectionDown)}),r.a.createElement(b.a,{className:d()(n.rowCompassDirection,n.rowCompassDirectionUp)}),r.a.createElement(F,null)))}T.displayName="ShapeViewer/Row";var R=Object(i.f)((function(e){e.shapeRender;var t=e.shape,n=e.nested,a=t.fields;return r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement(T,{left:r.a.createElement(S.d,null,"{"),right:r.a.createElement(B,{typeName:t.name}),noHover:!0}),Object(C.mapScala)(a)((function(e){var n=[e.fieldName,Object(C.headOrUndefined)(e.diffs)].join("-");return r.a.createElement(L,{key:n,field:e,parent:t})})),r.a.createElement(w.c,null,r.a.createElement(T,{left:r.a.createElement(S.d,{withIndent:!0},"}"),noHover:!0})))})),D=Object(i.f)((function(e){Object(S.g)(),e.shapeRender;var t=e.shape,n=e.nested,o=Object(a.useContext)(i.a).showAllLists,c=t.id,s=t.itemsWithHidden(o.includes(c));return r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement(T,{left:r.a.createElement(S.d,null,"["),right:r.a.createElement(B,{typeName:t.name}),noHover:!0}),Object(C.mapScala)(s)((function(e,t){return r.a.createElement(H,{key:t,item:e,listId:c,isLast:t-1===Object(C.lengthScala)(s)})})),r.a.createElement(w.c,null,r.a.createElement(T,{left:r.a.createElement(S.d,{withIndent:!0},"]"),noHover:!0})))}));function P(e){var t=e.children,n=e.missing,a=Object(S.g)();return r.a.createElement(l.a,{variant:"caption",className:a.fieldName,style:{opacity:n?.4:1}},t,":")}function N(e){var t=e.children,n=Object(S.g)();return r.a.createElement(l.a,{variant:"caption",className:n.indexMarker},t,":")}function _(e){var t=e.value,n=e.shape,o=(Object(S.g)(),Object(a.useContext)(i.c).shapeRender,Object.prototype.toString.call(t));return n?n.isOptional||n.isNullable?r.a.createElement(_,{value:t,shape:n.innerShape}):"[object Array]"===o||"[object Object]"===o?r.a.createElement(w.c,{add:1},I(n,!0)):null:null}function U(e){var t=e.value,n=e.shape;Object(S.g)(),Object(a.useContext)(i.c).shapeRender;if("undefined"===typeof t)return null;if(!n)return null;var o=Object.prototype.toString.call(t);return n.isOptional||n.isNullable?r.a.createElement(U,{value:t,shape:n.innerShape}):"[object Null]"===o?r.a.createElement(S.d,null,"null"):"[object Array]"===o?r.a.createElement(S.d,null,"["):"[object Object]"===o?r.a.createElement(S.d,null,"{"):"[object String]"===o?r.a.createElement(l.a,{variant:"caption",component:"pre",className:"fs-exclude",style:{fontWeight:600,whiteSpace:"pre-line",wordBreak:"break-all",overflowWrap:"break-word",fontFamily:"'Source Code Pro', monospace",color:S.f.StringColor}},'"',t,'"'):"[object Boolean]"===o?r.a.createElement(l.a,{variant:"caption",className:"fs-exclude",style:{fontWeight:600,fontFamily:"'Source Code Pro', monospace",color:S.f.BooleanColor}},t?"true":"false"):"[object Number]"===o?r.a.createElement(l.a,{variant:"caption",className:"fs-exclude",style:{fontWeight:600,fontFamily:"'Source Code Pro', monospace",color:S.f.NumberColor}},t.toString()):null}var B=function(e){var t=e.typeName,n=(e.style,Object(S.g)()),o=Object(a.useContext)(i.c).shapeRender;if(!t)return null;var c=t.asColoredString(o.specShapes);return r.a.createElement("div",{className:n.assertionMet},r.a.createElement(O.a,{style:{color:"#646464",height:10,width:10,marginTop:6,marginRight:6}}),Object(C.mapScala)(c)((function(e,t){if(e.text)return r.a.createElement("span",{key:t,style:{whiteSpace:"pre"}},e.text)})))},F=Object(i.f)(Object(j.c)((function(e){var t=Object(S.g)(),n=e.diffDescription;return r.a.createElement("span",{className:t.diffAssertion},r.a.createElement(f.a,{style:{color:y.m,height:10,width:10}}),r.a.createElement("span",{style:{marginLeft:6}},n.assertion))}))),L=Object(i.f)((function(e){var t=Object(S.g)(),n=e.field,a=(e.parent,e.shapeRender,e.diffDescription),o=e.suggestion,i="missing"===n.display,c=Object(C.getOrUndefined)(n.exampleShape),s=Object(C.getOrUndefined)(n.specShape),u=Object(C.getOrUndefinedJson)(n.example),d=Object(C.headOrUndefined)(n.diffs),p=d&&r.a.createElement(F,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{tracked:!!d,changeType:d&&o?o.changeTypeAsString:d?a.changeTypeAsString:void 0,left:r.a.createElement(w.b,null,r.a.createElement("div",{className:t.rowContents},r.a.createElement("div",null,r.a.createElement(P,{missing:i},n.fieldName)),r.a.createElement("div",{style:{flex:1,paddingLeft:4}},r.a.createElement(U,{value:u,shape:c})))),right:p&&o?r.a.createElement("div",{style:{flex:1,display:"flex",marginLeft:16}},"Removal"!==o.changeTypeAsString&&r.a.createElement(S.e,{style:{marginRight:9},typeName:s&&s.name}),r.a.createElement(l.a,{variant:"caption",className:t.suggestion,style:{marginLeft:"Removal"!==o.changeTypeAsString?15:0}},"(",o.changeTypeAsString,")")):p||(c?r.a.createElement(B,{typeName:s&&s.name}):void 0)}),r.a.createElement(_,{value:u,shape:c}))}));L.displayName="ShapeViewers/FieldRow";var H=Object(i.f)((function(e){var t=Object(S.g)(),n=e.item,a=(e.shapeRender,e.isLast,e.listId),o=e.diffDescription,i=e.suggestion,c=n.exampleShape,s=Object(C.getOrUndefined)(n.specListItem),u=Object(C.headOrUndefined)(n.diffs),d=u&&r.a.createElement(F,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{tracked:!!u,changeType:u&&i?i.changeTypeAsString:u?o.changeTypeAsString:void 0,left:"hidden"===n.display?r.a.createElement(w.b,null,r.a.createElement(S.b,{expandId:a})):r.a.createElement(w.b,null,r.a.createElement("div",{className:t.rowContents},r.a.createElement(N,null,n.index),r.a.createElement("div",{style:{flex:1,paddingLeft:4}},r.a.createElement(U,{value:Object(C.getJson)(n.example),shape:c})))),right:d&&i?r.a.createElement("div",{style:{flex:1,display:"flex",marginLeft:16}},"Removal"!==i.changeTypeAsString&&r.a.createElement(S.e,{style:{marginRight:9},typeName:s.name}),r.a.createElement(l.a,{variant:"caption",className:t.suggestion,style:{marginLeft:"Removal"!==i.changeTypeAsString?15:0}},"(",i.changeTypeAsString,")")):d||(s?r.a.createElement(B,{typeName:s.name}):void 0)}),"hidden"!==n.display&&r.a.createElement(_,{value:Object(C.getJson)(n.example),shape:c}))}));n.d(t,"a",(function(){return W}));var q=Object(o.a)((function(e){return{root:{width:"100%"}}}));function W(e){var t=e.preview,n=e.diffDescription,a=e.suggestion,o=e.exampleOnly,c=e.diff,s=(q(),t.rootId,Object(C.getOrUndefined)(t.getRootShape));return r.a.createElement(i.d,{shape:t,diff:c,diffDescription:n,suggestion:a,exampleOnly:o},r.a.createElement(x,{shape:s}))}},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),o=n(117),i=n(4),c=n(15);n(35);function s(e){var t=l(),n=e.copy,o=e.fontSize||13,c=Object(i.mapScala)(n)((function(e){return e.value+" ","normal"===e.style?r.a.createElement("span",{className:t.normal,style:{fontSize:o}},e.value," "):"code"===e.style?r.a.createElement("span",null,r.a.createElement("span",{className:t.code,style:{fontSize:o}},e.value)," "):void 0}));return Object(a.useEffect)((function(){}),[]),r.a.createElement("div",null,c)}var l=Object(o.a)((function(e){return{normal:{wordBreak:"break-word",fontFamily:"Ubuntu"},code:{fontFamily:"'Source Code Pro', monospace",fontWeight:600,paddingLeft:2,paddingRight:2,paddingTop:1,paddingBottom:1,wordBreak:"break-word",backgroundColor:c.j}}}))},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(18),r=n(23),o=n(43),i=n(10),c=n(0),s=n.n(c),l=n(42),u=n.n(l),d=n(117),p=n(19),m=n(131),f=n.n(m),h=n(351),g=n.n(h),v=n(494),b=n.n(v),y=n(4),E=n(360),O=n.n(E),C=n(144),j=n.n(C);function w(e){var t=e.diff,n=e.diffDescription,a=e.body,r=e.selectedInterpretation,o=Object(p.g)(),l=Object(c.useReducer)(D,{diff:t,body:a},R),u=Object(i.a)(l,2),d=u[0].rows,m=u[1],f=t&&{diffDescription:n,changeType:r?r.changeTypeAsString:n.changeTypeAsString,changeDescription:r&&y.JsonHelper.seqToJsArray(r.copyPair.action).map((function(e){return{value:e.value,style:e.style}}))};return s.a.createElement("div",{className:o.root},d.map((function(e,t){return s.a.createElement(S,Object.assign({key:e.id,index:t},e,{diffDetails:e.compliant?{}:f,dispatch:m}))})))}function S(e){var t,n=A(),a=Object(p.g)(),r=e.collapsed,i=e.compliant,l=e.diffDetails,d=e.indent,m=e.index,f=e.seqIndex,h=e.fieldName,g=e.fieldValue,v=e.type,b=e.dispatch,y=Object(c.useCallback)((function(e){r&&(e.preventDefault(),"array_item_collapsed"===v&&b({type:"unfold",payload:m}))}),[m,v,b]),E=" ".repeat(2*d);return s.a.createElement("div",{className:u()(n.row,(t={},Object(o.a)(t,a.isTracked,!!e.tracked),Object(o.a)(t,n.isCollapsed,r),Object(o.a)(t,n.isIncompliant,!i&&!r),Object(o.a)(t,n.isCollapsedIncompliant,!i&&r),Object(o.a)(t,n.requiresAddition,l&&"Addition"===l.changeType),Object(o.a)(t,n.requiresUpdate,l&&"Update"===l.changeType),Object(o.a)(t,n.requiresRemoval,l&&"Removal"===l.changeType),t))},s.a.createElement("div",{className:n.rowContent,onClick:y},E,s.a.createElement(I,{type:v,name:h}),s.a.createElement(k,{type:v,index:f}),s.a.createElement(x,{type:v,value:g,compliant:i,changeDescription:l&&l.changeDescription})),!i&&!r&&s.a.createElement(T,l))}function x(e){var t=e.type,n=e.value,a=e.compliant,r=e.changeDescription,o=Object(p.g)(),i=A();if("null"===t)return s.a.createElement("span",{className:u()(o.symbols,i.symbolContent,"fs-exclude")},"null");if("array_open"===t)return s.a.createElement("span",{className:u()(o.symbols,i.symbolContent)},"[");if("array_item_collapsed"===t)return s.a.createElement("span",{className:i.collapsedSymbol},"\u22ef",a?"":r?s.a.createElement(O.a,{className:i.collapsedChangeIcon}):s.a.createElement(j.a,{className:i.collapsedWarning}));if("array_close"===t)return s.a.createElement("span",{className:u()(o.symbols,i.symbolContent)},"]");if("object_open"===t)return s.a.createElement("span",{className:u()(o.symbols,i.symbolContent)},"{");if("object_close"===t)return s.a.createElement("span",{className:u()(o.symbols,i.symbolContent)},"}");if("string"===t)return s.a.createElement("span",{className:u()(i.stringContent,"fs-exclude")},'"',n,'"');if("boolean"===t)return s.a.createElement("span",{className:"fs-exclude"},n?"true":"false");if("number"===t)return s.a.createElement("span",{className:"fs-exclude"},n);if("undefined"===t)return null;throw new Error("Cannot render RowValue for type '".concat(t,"'"))}function I(e){var t=e.type,n=e.name,a=A(),r="undefined"===t;return n?s.a.createElement("span",{className:u()(a.fieldName,Object(o.a)({},a.isMissing,"undefined"===t))},n,!r&&": "):null}function k(e){e.type;var t=e.index,n=e.missing,a=A();return t||0===t?s.a.createElement("span",{className:u()(a.fieldIndex,Object(o.a)({},a.isMissing,!!n))},t,":"," "):null}function T(e){var t=e.diffDescription,n=e.changeDescription,a=A();return s.a.createElement("div",{className:a.diffAssertion},n?s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,{className:a.selectectedChangeIcon}),s.a.createElement("span",{className:a.changeDescription},n.map((function(e){return e.value})).join(" "))):s.a.createElement(s.a.Fragment,null,s.a.createElement(j.a,{className:a.assertionWarningIcon}),s.a.createElement("span",null,t.assertion)))}S.displayName="ShapeViewer/Row",x.displayName="ShapeViewer/RowValue";var A=Object(d.a)((function(e){return{row:{display:"flex",padding:0,paddingLeft:4,flexDirection:"row",alignItems:"baseline","&:hover":{backgroundColor:"rgba(78,165,255,0.27)"},"&$isCollapsed":{cursor:"pointer"},"&$isIncompliant, &$isCollapsedIncompliant:hover":{"&$requiresAddition":{backgroundColor:e.palette.added.background},"&$requiresRemoval":{backgroundColor:e.palette.removed.background},"&$requiresUpdate":{backgroundColor:e.palette.changed.background}}},rowContent:{flexGrow:1,flexShrink:1,overflow:"hidden",padding:e.spacing(0,5/8),lineHeight:"25px",fontSize:12,fontFamily:"'Source Code Pro', monospace",whiteSpace:"pre",color:p.c},collapsedRowValue:{},collapsedSymbol:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingTop:3,color:"#070707",fontSize:10,backgroundColor:"#ababab",borderRadius:12,"$isCollapsedIncompliant$requiresAddition &":{backgroundColor:e.palette.added.background,color:e.palette.added.main},"$isCollapsedIncompliant$requiresRemoval &":{backgroundColor:e.palette.removed.background,color:e.palette.removed.main},"$isCollapsedIncompliant$requiresUpdate &":{backgroundColor:e.palette.changed.background,color:e.palette.changed.main}},collapsedWarning:{width:10,height:10,marginLeft:e.spacing(.5),color:e.palette.secondary.main},collapsedChangeIcon:{width:10,height:10,marginLeft:e.spacing(.5),"$requiresAddition &":{color:e.palette.added.main},"$requiresRemoval &":{color:e.palette.removed.main},"$requiresUpdate &":{color:e.palette.changed.main}},booleanContent:{fontWeight:600,fontFamily:"'Source Code Pro', monospace",color:p.f.BooleanColor},symbolContent:{color:p.c},numberContent:{fontWeight:600,fontFamily:"'Source Code Pro', monospace",color:p.f.NumberColor},stringContent:{fontWeight:600,whiteSpace:"pre-line",wordBreak:"break-all",overflowWrap:"break-word",fontFamily:"'Source Code Pro', monospace",color:p.f.StringColor},missingContent:{fontWeight:600,fontFamily:"'Source Code Pro', monospace",fontStyle:"italic",opacity:.8},fieldName:{fontWeight:600,color:"#cfcfcf",fontSize:12,fontFamily:"'Source Code Pro', monospace",opacity:1,"&$isMissing":{fontStyle:"italic",opacity:.6}},fieldIndex:{fontWeight:500,color:"#9cdcfe",fontSize:12,fontFamily:"'Source Code Pro', monospace",opacity:1,"&$isMissing":{opacity:.4}},diffAssertion:{flexGrow:0,flexShrink:0,alignSelf:"center",minWidth:"35%",maxWidth:"50%",display:"flex",alignItems:"center",padding:e.spacing(0,2),color:"#f8edf4",fontSize:14,fontWeight:800,fontFamily:"'Source Code Pro', monospace"},assertionWarningIcon:{width:14,height:14,marginRight:e.spacing(1),color:e.palette.secondary.main},selectectedChangeIcon:{width:14,height:14,marginRight:e.spacing(1),"$requiresAddition &":{color:e.palette.added.main},"$requiresRemoval &":{color:e.palette.removed.main},"$requiresUpdate &":{color:e.palette.changed.main}},isCollapsed:{},isMissing:{},isIncompliant:{},isCollapsedIncompliant:{},requiresAddition:{},requiresUpdate:{},requiresRemoval:{}}}));function R(e){var t=e.diff,n=e.body,a=t?y.JsonHelper.seqToJsArray(t.jsonTrails).map((function(e){return y.JsonTrailHelper.toJs(e)})):[],r=Object(y.getOrUndefined)(n.jsonOption),o=r&&y.JsonHelper.toJs(r),c=P(o,a),s=Object(i.a)(c,2);return{body:o,rows:s[0],collapsedTrails:s[1],diffTrails:a}}function D(e,t){switch(t.type){case"unfold":return function(e,t){var n=e.rows[t];if("array_item_collapsed"!==n.type)return e;var o=g()(e.body,n.trail),c={fieldValue:n.fieldValue,fieldName:n.fieldName,seqIndex:n.seqIndex,trail:Object(r.a)(n.trail)},s=P(o,e.diffTrails,[],[],n.indent,c),l=Object(i.a)(s,2),u=l[0],d=l[1],p=Object(r.a)(e.rows);p.splice.apply(p,[t,1].concat(Object(r.a)(u)));var m=e.collapsedTrails.filter((function(e){return!f()(e,n.trail)})).concat(d);return Object(a.a)(Object(a.a)({},e),{},{rows:p,collapsedTrails:m})}(e,t.payload);default:throw new Error("State cannot be updated through action of type '".concat(t.type,"'"))}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{fieldName:null,fieldValue:void 0,seqIndex:void 0,trail:[]},c=Object.prototype.toString.call(e);switch(c){case"[object Object]":N(e,t,n,r,o,i);break;case"[object Array]":U(e,t,n,r,o,i);break;default:var s=B(e),l=F(Object(a.a)(Object(a.a)({type:s},i),{},{fieldValue:i.fieldValue||e,indent:o}),{diffTrails:t});n.push(F(l))}return[n,r]}function N(e,t,n,a,o,i){var c=i.trail;n.push(F({type:"object_open",fieldName:i.fieldName,seqIndex:i.seqIndex,trail:c,indent:o},{diffTrails:t}));var s=t.filter((function(e){return c.every((function(t,n){return t===e[n]}))})),l=s.filter((function(e){return e.length===c.length+1})).map((function(e){return e[e.length-1]}));b()([].concat(Object(r.a)(Object.keys(e)),Object(r.a)(l))).sort(_).forEach((function(t){var i=t,l=e[t];return P(l,s,n,a,o+1,{fieldName:i,fieldValue:l,trail:[].concat(Object(r.a)(c),[i])})})),n.push(F({type:"object_close",indent:o,trail:c}))}function _(e,t){var n=e.toLowerCase?e.toLowerCase():e,a=t.toLowerCase?t.toLowerCase():t;return n>a?1:a>n?-1:void 0}function U(e,t,n,a,o,i){var c=i.trail;n.push(F({type:"array_open",indent:o,fieldName:i.fieldName,seqIndex:i.seqIndex,trail:c},{diffTrails:t}));var s=t.filter((function(e){return e.length>c.length&&c.every((function(t,n){return t===e[n]}))})),l=e.map((function(e,t){return t})).filter((function(e){return s.some((function(t){return e===t[c.length]}))}));e.forEach((function(e,i){var s=Object.prototype.toString.call(e),u=[].concat(Object(r.a)(c),[i]),d=o+1;"[object Object]"!==s&&"[object Array]"!==s||l.length>0&&l[0]===i||0===l.length&&0===i?P(e,t,n,a,d,{seqIndex:i,fieldValue:e,trail:u}):(n.push(F({type:"array_item_collapsed",collapsed:!0,compliant:!l.includes(i),seqIndex:i,indent:d,trail:u})),a.push(u))})),n.push(F({type:"array_close",indent:o,trail:c}))}function B(e){if("undefined"===typeof e)return"undefined";var t=Object.prototype.toString.call(e);switch(t){case"[object Null]":return"null";case"[object String]":return"string";case"[object Boolean]":return"boolean";case"[object Number]":return"number";default:throw new Error("Can not return field type for fieldValue with type string '".concat(t,"'"))}}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e&&e.trail,r=e&&e.type;n&&Array.isArray(n)||new TypeError("trail (array) must be known to create a row"),r||new TypeError("type must be known to create a row");var o="".concat(e.trail.join(".")||"root","-").concat(e.type),i=!t.diffTrails||!t.diffTrails.some((function(e){return f()(e,n)}));return Object(a.a)({id:o,collapsed:!1,compliant:i},e)}},264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpecServiceClient=t.Client=void 0;var a=n(559);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return a.Client}});var r=n(562);Object.defineProperty(t,"SpecServiceClient",{enumerable:!0,get:function(){return r.Client}})},265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JavascriptErrorDetectedInFrontend=t.RequirementForDiffsToHaveASuggestionFailed=void 0;var a=n(241),r=n(307),o=n(308),i=a.__importStar(n(309));n(242);var c=i.object({diff:i.string().required()});t.RequirementForDiffsToHaveASuggestionFailed=r.DescribeEvent(o.Events.RequirementForDiffsToHaveASuggestionFailed,c,(function(e){return"Suggestions should never be empty for diff: ".concat(e.diff)}));var s=i.object({message:i.string().required(),stack:i.string().required()});t.JavascriptErrorDetectedInFrontend=r.DescribeEvent(o.Events.JavascriptErrorDetectedInFrontend,s,(function(e){return"Error on Frontend: ".concat(e.message)}))},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(4);function r(e,t,n){return[a.RfcCommands.AddContribution(e,t,n)]}},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(0),r=n.n(a),o=n(117),i=n(366),c=n(16),s=n(1132),l=n(1135),u=n(520),d=n(517),p=n(89),m=n(84),f=n(4),h=n(125),g=n(124),v=(n(220),n(230)),b=n(35),y=n(30),E=Object(o.a)((function(e){return{root:{position:"sticky",top:120},header:{display:"flex",alignItem:"center",justifyContent:"center",paddingLeft:11,paddingTop:14,paddingBottom:9},font:{fontSize:13,fontWeight:800,fontFamily:"'Source Code Pro', monospace"},icon:{paddingRight:0},formControl:{margin:e.spacing(1),marginLeft:e.spacing(1)+7,marginBottom:7},suggestion:{fontWeight:400,marginLeft:-5,fontSize:12},buttons:{textAlign:"right",padding:8}}})),O=function(e){var t=E(),n=e.inRequest,o=e.inResponse,O=e.description,j=e.currentInteraction,w=e.selectedInterpretation,S=e.setSelectedInterpretation,x=e.setSelectedDiff,I=e.selectedDiff,k=Object(a.useContext)(m.a),T=k.acceptSuggestion,A=(k.clearPreview,Object(g.d)(I,j)),R=I&&I.inRequest&&n||I.inResponse&&o;return Object(a.useEffect)((function(){if(R){var e=Object(f.mapScala)(O.summary)((function(e){return e.value})).join(" ");Object(b.b)(y.SuggestionDisplayed.withProps({suggestion:e}))}}),[R,O.summary]),R?r.a.createElement("div",{className:t.root},r.a.createElement(i.a,{elevation:3},r.a.createElement("div",{className:t.header},r.a.createElement(v.a,{copy:O.summary}),r.a.createElement("div",{style:{flex:1,minWidth:20}}),r.a.createElement(C,null)),r.a.createElement(c.c,null),r.a.createElement(d.a,{component:"fieldset",className:t.formControl},r.a.createElement(l.a,null,A.map((function(e,t){return r.a.createElement(u.a,{key:t,onClick:function(t){t.preventDefault(),S(e)},control:r.a.createElement(s.a,{size:"small",color:"primary",value:e,checked:Boolean(w&&f.CompareEquality.betweenWithoutCommands(e,w))}),label:r.a.createElement(v.a,{copy:e.copyPair.action})})})))),r.a.createElement(c.c,null),r.a.createElement("div",{className:t.buttons},r.a.createElement(h.a.Consumer,null,(function(e){var t=e.ignoreDiff;return r.a.createElement(p.a,{size:"small",onClick:function(){var e=I.diff;x(null),t(e)}},"Ignore")})),r.a.createElement(p.a,{color:"primary",size:"small",disabled:!w,onClick:function(){x(null),T(w)}},"Approve")))):null},C=function(){return r.a.createElement("div",{className:"blob",style:{marginRight:9}},r.a.createElement("img",{src:"/optic-logo.svg",width:32,height:32}))}},275:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(0),r=n.n(a),o=n(522),i=n(24),c=n(117),s=n(54),l=n(16),u=(n(15),n(365));function d(e){var t=e.showSkipped,n=p(),a=Object(s.c)(),c=a.processed,l=a.skipped,d=a.completed;return r.a.createElement("div",{className:n.statsSection},r.a.createElement("div",{style:{marginTop:7}},r.a.createElement(u.a,{in:!d},r.a.createElement(o.a,{size:12,variant:"indeterminate"}))),r.a.createElement(i.a,{component:"div",variant:"overline",style:{fontSize:12},className:n.progressStats},c," processed ",t&&" | ".concat(l," skipped")))}var p=Object(c.a)((function(e){return{progressStats:{paddingLeft:e.spacing(1),color:l.b,flex:1},statsSection:{display:"flex",flexDirection:"row",paddingLeft:e.spacing(2)}}}))},281:function(e,t,n){"use strict";var a=n(25),r=n(26),o=n(28),i=n(29),c=n(0),s=n.n(c),l=n(64),u=n.n(l),d=n(18),p=n(10),m=n(270),f=n(131),h=n.n(f),g=n(290),v=n(192),b=n(24),y=n(233),E=n(391),O=n(218),C=n.n(O),j=n(89),w=n(516),S=n(123);var x=Object(y.a)((function(e){return Object(E.a)({thin:{fontWeight:100},component:{"&:hover":{color:"#cb5a77"},"&:focus":{color:"#cb5a77"}},thick:{fontWeight:600}})}));function I(e){var t=x(),n=e.item,a=e.updateItem,r=e.index,o=e.pathComponents,i=function(){var e=Object(c.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],r=Object(c.useRef)(null),o=function(){return a(!0)},i=function(){return a(!1)};return Object(c.useEffect)((function(){var e=r.current;if(e)return e.addEventListener("mouseover",o),e.addEventListener("mouseout",i),function(){e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",i)}}),[r.current]),[r,n]}(),l=Object(p.a)(i,2),u=l[0],m=l[1];function f(e){var a=e.onClick;return s.a.createElement(g.a,{className:t.component,onClick:a},n.isParameter?s.a.createElement(b.a,{className:t.thick},"{".concat(n.name||"   ","}")):s.a.createElement(b.a,{className:t.thin},n.name))}if(n.isParameter)return s.a.createElement(f,{onClick:function(){return a(Object(d.a)(Object(d.a)({},n),{},{name:n.originalName,isParameter:!1}))}});function v(e){var t=e.updateItem,n=(e.classes,e.item),a=Object(c.useContext)(S.a),i=a.toDocument,l=void 0===i?[]:i,u=a.pathExpressions,p=void 0===u?[]:u;function m(){if(0===o.length)return"";var e=l.map((function(e){return p[e.id].pathComponents})).filter((function(e){var t=e.slice(0,r-1).map((function(e){return{name:e.name,isParameter:e.isParameter}})),n=o.slice(0,r-1).map((function(e){return{name:e.name,isParameter:e.isParameter}}));return h()(t,n)}));if(0===e.length)return"";var t=e.map((function(e){return e.find((function(e){return e.index===r}))})).filter((function(e){if(e&&e.isParameter)return!0}))[0];return t?t.name:""}return s.a.createElement(f,{onClick:function(){return t(Object(d.a)(Object(d.a)({},n),{},{isParameter:!0,name:m()}))}})}return s.a.createElement("span",{ref:u},m?s.a.createElement(v,{item:n,classes:t,updateItem:a}):s.a.createElement(f,{onClick:function(){}}))}var k=function(e){var t=e.url,n=e.onAccept,a=e.onUserCompleted,r=Object(c.useState)(function(e){var t=e.split("/").map((function(e,t){var n=":"===e.charAt(0)||"{"===e.charAt(0);return{index:t,name:e,originalName:e,isParameter:n}})),n=Object(m.a)(t),a=n[0],r=n.slice(1);return""===a.name?r:t}(t)),o=Object(p.a)(r,2),i=o[0],l=o[1],u=Object(c.useState)(null),f=Object(p.a)(u,2),h=f[0],y=f[1],E=Object(c.useState)(!1),O=Object(p.a)(E,2),S=O[0],x=O[1];function k(e){return function(t){x(!1),y(e),function(e){l(e),n(e)}(i.map((function(n){return n.index===e?t:n})))}}Object(c.useEffect)((function(){n(i)}),[]);var T=i.filter((function(e){return e.isParameter}));return s.a.createElement("div",null,s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},i.flatMap((function(e){return[s.a.createElement(g.a,{key:"".concat(e.index,"-1"),disabled:!0},s.a.createElement(b.a,{style:{marginRight:2,marginLeft:2,fontWeight:200}},"/")),s.a.createElement(I,{key:"".concat(e.index,"-2"),item:e,index:e.index,pathComponents:i,updateItem:k(e.index)})]}))),T.length>0?s.a.createElement(w.a,{in:!S},s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement(b.a,{variant:"overline"},"Parameter Names:")),T.map((function(e,t){var n=k(e.index);return s.a.createElement("div",{style:{marginBottom:11},key:"name-param-"+t.toString()},s.a.createElement(v.a,{key:e.index,autoFocus:e.index===h,fullWidth:!0,value:e.name,label:'"'.concat(e.originalName,'" is an example of a...'),onChange:function(t){return n(Object(d.a)(Object(d.a)({},e),{},{name:t.target.value.trim()}))}},e.name))})),s.a.createElement(j.a,{startIcon:s.a.createElement(C.a,null),color:"primary",size:"small",variant:"contained",onClick:function(){x(!0),a&&a()}},"Done"))):null)},T=n(114),A=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handlePathComponentsChange=function(t){var n=Object(T.c)(t);e.props.onChange({pathExpression:n,pathComponents:t,hasParameters:t.some((function(e){return e.isParameter}))})},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=(t.classes,t.url),a=t.rowId,r=t.onUserCompleted;t.toDocument,t.pathExpressions;return s.a.createElement("div",null,s.a.createElement(k,{url:n,key:"path-match"+a,onUserCompleted:r,onAccept:function(t){e.handlePathComponentsChange(t)}}))}}]),n}(s.a.Component);t.a=u()((function(e){return{pathWrapper:{padding:7,fontWeight:400,backgroundColor:"#f6f6f6"}}}))(A)},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateContribution=t.ShowInitialDocumentingView=t.AddUrlModalIdentifyingPathComponents=t.AddUrlModalNaming=t.UserCommittedChanges=t.ShowCommitCard=t.UserResetDiff=t.UserPreviewedSuggestion=t.UserAcceptedSuggestion=t.SuggestionDisplayed=t.UserFinishedAddingNewUrl=t.UserBeganAddingNewUrl=t.UserEnabledInferPolymorphism=t.NewBodyDiffRendered=t.UserChangedCaptureOverviewTab=void 0;var a=n(241),r=n(307),o=n(308),i=a.__importStar(n(309));n(242);var c=i.object({currentTab:i.string().required(),diffCount:i.number().required(),undocumentedUrlCount:i.number().required()});t.UserChangedCaptureOverviewTab=r.DescribeEvent(o.Events.UserChangedCaptureOverviewTab,c,(function(e){return"User changed to ".concat(e.currentTab," and there are ").concat(e.diffCount," diffs + ").concat(e.undocumentedUrlCount," undocumented urls")}));var s=i.object({requestCount:i.number().required(),responseCount:i.number().required(),regions:i.array().required().items(i.string())});t.NewBodyDiffRendered=r.DescribeEvent(o.Events.NewBodyDiffRendered,s,(function(e){return"Diff was rendered in regions ".concat(e.regions.join(", \n"))}));var l=i.object({captureId:i.string().required(),endpointId:i.string().required()});t.UserEnabledInferPolymorphism=r.DescribeEvent(o.Events.UserEnabledInferPolymorphism,l,(function(e){return"Infer Polymorphism was turned on for ".concat(e.captureId,", endpoint ").concat(e.endpointId)}));var u=i.object({captureId:i.string().required(),method:i.string().required(),path:i.string().required(),knownPathId:i.string().optional()});t.UserBeganAddingNewUrl=r.DescribeEvent(o.Events.UserBeganAddingNewUrl,u,(function(e){return"User Began Adding New Url ".concat(e.method," ").concat(e.path," in ").concat(e.captureId)}));var d=i.object({purpose:i.string().required(),captureId:i.string().required(),method:i.string().required(),pathExpression:i.string().optional()});t.UserFinishedAddingNewUrl=r.DescribeEvent(o.Events.UserFinishedAddingNewUrl,d,(function(e){return"User Added New Url ".concat(e.method," ").concat(e.pathExpression," in ").concat(e.captureId," with purpose '").concat(e.pathExpression,"'")}));var p=i.object({suggestion:i.string().required()});t.SuggestionDisplayed=r.DescribeEvent(o.Events.SuggestionDisplayed,p,(function(e){return"Summary: '".concat(e.suggestion,"' ")}));var m=i.object({captureId:i.string().required(),suggestion:i.string().required()});t.UserAcceptedSuggestion=r.DescribeEvent(o.Events.UserAcceptedSuggestion,m,(function(e){return"Suggestion to '".concat(e.suggestion,"' was accepted")}));var f=i.object({captureId:i.string().required(),diff:i.string().required(),diffAssertion:i.string().required(),suggestion:i.string().required()});t.UserPreviewedSuggestion=r.DescribeEvent(o.Events.UserPreviewedSuggestion,f,(function(e){return"Suggestion to '".concat(e.suggestion,"' was previewed in response to diff: ").concat(e.diff)}));var h=i.object({});t.UserResetDiff=r.DescribeEvent(o.Events.UserResetDiff,h,(function(e){return"The Diff Was Reset"}));var g=i.object({message:i.string().required(),captureId:i.string().required(),suggestions:i.number().required()});t.ShowCommitCard=r.DescribeEvent(o.Events.ShowCommitCard,g,(function(e){return"Commit Card Rendered"}));var v=i.object({message:i.string().required(),captureId:i.string().required(),suggestions:i.number().required()});t.UserCommittedChanges=r.DescribeEvent(o.Events.UserCommittedChanges,v,(function(e){return"The Diff Was Reset"}));var b=i.object({method:i.string().required(),path:i.string().required()});t.AddUrlModalNaming=r.DescribeEvent(o.Events.AddUrlModalNaming,b,(function(e){return"Currently naming ".concat(e.method," ").concat(e.path)}));var y=i.object({method:i.string().required(),path:i.string().required()});t.AddUrlModalIdentifyingPathComponents=r.DescribeEvent(o.Events.AddUrlModalIdentifyingPathComponents,y,(function(e){return"Currently identifying path components for ".concat(e.method," ").concat(e.path)}));var E=i.object({});t.ShowInitialDocumentingView=r.DescribeEvent(o.Events.ShowInitialDocumentingView,E,(function(){return"Showing initial documenting view"}));var O=i.object({id:i.string().required(),purpose:i.string().required(),value:i.string().required()});t.UpdateContribution=r.DescribeEvent(o.Events.UpdateContribution,O,(function(e){var t=e.id,n=e.purpose,a=e.value;return"Updated ".concat(t," - ").concat(n," to be ").concat(a)}))},307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DescribeEvent=t.AllEvents=void 0,n(242),t.AllEvents=[],t.DescribeEvent=function(e,n,a){return function(e,n,a){var r={withProps:function(t){return{type:e,context:{clientAgent:"",clientId:"",clientSessionInstanceId:"",clientTimestamp:""},data:t}},toSentence:function(e){return a(e.data)},eventName:e};return t.AllEvents.push(r),r}(e,0,a)}},308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;var a=n(241).__importDefault(n(579));t.Events=a.default({UserLoggedInFromCLI:null,ApiCreated:null,ApiInitializedInProject:null,ApiCheckCompleted:null,JavascriptErrorDetectedInFrontend:null,RequirementForDiffsToHaveASuggestionFailed:null,StartedTaskWithLocalCli:null,ExitedTaskWithLocalCli:null,NewBodyDiffRendered:null,BodyDiffRendered:null,UserChangedCaptureOverviewTab:null,UserEnabledInferPolymorphism:null,UserBeganAddingNewUrl:null,UserFinishedAddingNewUrl:null,UserResetDiff:null,ShowInitialDocumentingView:null,UpdateContribution:null,AddUrlModalNaming:null,AddUrlModalIdentifyingPathComponents:null,ShowCommitCard:null,UserPreviewedSuggestion:null,UserAcceptedSuggestion:null,SuggestionDisplayed:null,UserCommittedChanges:null})},347:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(43);var a=n(18),r=n(0),o=n.n(r),i=n(24),c=n(16);function s(e){var t=e.title,n=e.children,r=e.style,s=e.innerStyle;return o.a.createElement("div",{style:Object(a.a)({marginTop:11},r)},o.a.createElement("div",null,o.a.createElement(i.a,{variant:"overline",style:c.f},t),o.a.createElement(c.c,null)),o.a.createElement("div",{style:s},n))}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var a=n(18),r=n(6),o=n.n(r),i=n(11),c=n(264),s=n(484),l=n(485),u=n(135),d=n.n(u),p="local_cli_".concat(s.version),m=window.opticAnalyticsEnabled;m||window.FS&&window.FS.shutdown();var f=new c.Client("/api"),h=new Promise(function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()(Object(i.a)(o.a.mark((function e(){var t,n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getIdentity();case 2:if(!(t=e.sent).ok){e.next=11;break}return e.next=6,t.json();case 6:return n=e.sent,a=n.user,r=n.anonymousId,m&&(window.FS.identify(r,{email:a&&a.email}),window.Intercom("update",{user_id:r,id:a&&a.sub,email:a&&a.email})),e.abrupt("return",r);case 11:return e.abrupt("return","anon_id");case 12:case"end":return e.stop()}}),e)}))));case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=Object(l.newAnalyticsEventBus)(function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h;case 2:return n=e.sent,a={clientAgent:n,clientId:p,clientSessionInstanceId:t,clientTimestamp:(new Date).toISOString()},e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());function v(e){g.emit(e)}g.listen((function(e){if(m)try{window.FS&&window.FS.event(e.type,Object(a.a)(Object(a.a)({},e.data),e.context)),f.postTrackingEvents([e])}catch(t){}}))},353:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n(6),r=n.n(a),o=n(11),i=n(10),c=n(0),s=n.n(c),l=n(89),u=n(284),d=n(236),p=n(286),m=n(287),f=n(37),h=n(94),g=n.n(h),v=n(285),b=n(224),y=n(125),E=n(192),O=n(30),C=n(35),j=n(4),w=n(38),S=n(49),x=n(47),I=n(235),k=n(84),T=n(82),A=n(73),R=n(39),D=s.a.forwardRef((function(e,t){return s.a.createElement(b.a,Object.assign({direction:"up",ref:t},e))}));function P(e){var t=e.open,n=e.close,a=e.canOnlyReset,h=e.captureId,b=Object(c.useState)(""),P=Object(i.a)(b,2),_=P[0],U=P[1],B=Object(c.useState)(!1),F=Object(i.a)(B,2),L=F[0],H=F[1],q=Object(c.useContext)(y.c).acceptedSuggestions,W=Object(c.useContext)(y.a).ignoredDiffs,z=Object(c.useContext)(T.a),M=z.endpointDescriptor,J=z.endpointId,G=Object(c.useState)(M.endpointPurpose),V=Object(i.a)(G,2),Y=V[0],Q=V[1],Z=Object(S.d)().specService,$=Object(c.useContext)(k.a).reset,K=Object(x.b)(),X=Object(f.g)(),ee=Object(c.useContext)(w.c),te=ee.initialEventStore,ne=ee.rfcId,ae=ee.clientSessionId,re=ee.clientId,oe=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n,a,o,i,c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=te.getCopy(ne),n=j.opticEngine.com.useoptic.contexts.rfc.Commands,a=n.StartBatchCommit,o=n.EndBatchCommit,i=n.AddContribution,c=g()(),(s=N(t,ne,re,ae)).applyCommands(j.JsonHelper.jsArrayToVector([a(c,_)])),M.endpointPurpose!==Y&&(l=i(J,R.b,Y),s.applyCommands(j.JsonHelper.jsArrayToVector([l]))),q.forEach((function(e){s.applyCommands(j.JsonHelper.seqToVector(e.commands))})),s.applyCommands(j.JsonHelper.jsArrayToVector([o(c)])),e.next=10,Z.saveEvents(t,ne);case 10:X.push("".concat(K,"/diffs/").concat(h)),setTimeout((function(){Object(C.b)(O.UserCommittedChanges.withProps({message:_,captureId:h,suggestions:q.length}))}),500);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=q.map((function(e){return"- ".concat(e.pastTenseAction)})).join("\n");U("\n\nChanges:\n".concat(e))}),[t,q.length,W.length]);var ie=function(e){return 1!==e.length?"s":""},ce=q.length>0;return s.a.createElement(u.a,{open:t,TransitionComponent:D,keepMounted:!0,onClose:n},s.a.createElement(v.a,null,"Commit changes to API specification"),s.a.createElement(p.a,null,s.a.createElement(m.a,null,!M.endpointPurpose&&ce?s.a.createElement("div",{style:{paddingBottom:18}},s.a.createElement(A.b,{path:M.fullPath,method:M.httpMethod}),s.a.createElement(E.a,{style:{marginTop:12},value:Y,onChange:function(e){return Q(e.target.value)},placeholder:"Endpoint Name",fullWidth:!0,error:!Y,helperText:!Y&&"What does this endpoint do?",required:!0})):null,"You have accepted ",q.length," suggestion",ie(q),", and ignored ",W.length," ","diff",ie(W),ce&&s.a.createElement(E.a,{multiline:!0,label:"Commit Message:",style:{marginTop:15},value:_,fullWidth:!0,autoFocus:!0,onFocus:function(e){return e.currentTarget.setSelectionRange(0,0)},onChange:function(e){return U(e.target.value)}}))),!ce&&s.a.createElement(d.a,null,s.a.createElement(l.a,{size:"small",onClick:function(){X.push("".concat(K,"/diffs/").concat(h))}},"Return to Capture")),L&&s.a.createElement(I.a,{variant:"indeterminate"}),ce&&!L&&s.a.createElement(d.a,null,a?s.a.createElement(l.a,{size:"small",onClick:$,color:"default"},"Reset"):s.a.createElement(l.a,{size:"small",onClick:n,color:"default"},"Close"),s.a.createElement(l.a,{size:"small",variant:"contained",disabled:!Y,onClick:Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),e.next=3,oe();case 3:case"end":return e.stop()}}),e)}))),color:"primary"},"Commit Changes")))}function N(e,t,n,a){return{applyCommands:function(r){try{var o=g()(),i=new j.RfcCommandContext(n,a,o);j.Facade.fromCommands(e,t,r,i)}catch(c){console.error(c)}}}}},355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiCheckCompleted=t.ApiInitializedInProject=t.UserLoggedInFromCLI=t.ApiCreated=void 0;var a=n(241),r=n(307),o=n(308),i=a.__importStar(n(309));n(242);var c=i.object({apiName:i.string().required()});t.ApiCreated=r.DescribeEvent(o.Events.ApiCreated,c,(function(e){return"An API called ".concat(e.apiName," was created")}));var s=i.object({userId:i.string().required()});t.UserLoggedInFromCLI=r.DescribeEvent(o.Events.UserLoggedInFromCLI,s,(function(e){return"User ".concat(e.userId," logged in")}));var l=i.object({apiName:i.string().required(),source:i.string().required(),cwd:i.string().required()});t.ApiInitializedInProject=r.DescribeEvent(o.Events.ApiInitializedInProject,l,(function(e){return"An API called ".concat(e.apiName," was initialized in ").concat(e.cwd)}));var u=i.any();t.ApiCheckCompleted=r.DescribeEvent(o.Events.ApiCheckCompleted,u,(function(e){return"API Check for ".concat(e.mode," task: ").concat(e.taskName," ").concat(e.passed?"passed":"failed"," ")}))},356:function(e,t,n){"use strict";var a=n(92),r=n(39);n(25),n(26);function o(e){return e&&e.ShapedBodyDescriptor?e.ShapedBodyDescriptor:{}}var i=n(244),c=n.n(i);function s(e){var t=e.method,n=e.pathId;return Object(r.c)(n,t)}function l(e,t){var n,i=e.method,l=e.pathId,u=t.requests,d=t.pathsById,p=t.requestIdsByPathId,m=t.responsesArray,f=t.contributions,h=s({pathId:l,method:i}),g=(p[l]||[]).map((function(e){return u[e]})).filter((function(e){return e.requestDescriptor.httpMethod===i.toUpperCase()})),v=[];try{var b=Object(a.b)(l,d);n=b.map((function(e){return d[e]})).map((function(e){return{pathComponentName:Object(a.d)(e),pathComponentId:e.pathId}})).map((function(e){return e.pathComponentName})).join("/"),v=b.map((function(e){return d[e]})).filter((function(e){return Object(a.e)(e)})).map((function(e){return{pathId:e.pathId,name:e.descriptor.ParameterizedPathComponentDescriptor.name,description:f.getOrUndefined(e.pathId,r.a)}}))}catch(O){console.error(O)}if(!n)return null;var y=g.map((function(e){return{requestId:e.requestId,requestBody:o(e.requestDescriptor.bodyDescriptor)}})),E=c()(m.filter((function(e){return e.responseDescriptor.httpMethod===i.toUpperCase()&&e.responseDescriptor.pathId===l})).map((function(e){var t=e.responseId,n=e.responseDescriptor;return{responseId:t,responseBody:o(n.bodyDescriptor),statusCode:n.httpStatusCode}})),["statusCode"]);return{httpMethod:i,method:i,pathId:l,fullPath:n,pathParameters:v,requestBodies:y,responses:E,endpointPurpose:f.getOrUndefined(h,r.b),endpointDescription:f.getOrUndefined(h,r.a),isEmpty:0===y.length&&0===E.length}}n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}))},38:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return y}));var a=n(6),r=n.n(a),o=n(11),i=n(10),c=n(0),s=n(4),l=n(70),u=n(149),d=n(268),p=n.n(d),m=n(262),f=n(94),h=n.n(f),g=n(486),v=(n(590),Object(l.a)(null)),b=v.Context,y=v.withContext;function E(e){var t=e.contributions(),n=e.requestsState(),a=n.requests,r=n.pathComponents,o=n.responses,c=n.requestParameters,s=e.pathsWithRequests(),l=r,u=new Set(Object.values(s)),d=e.endpoints(),p=e.shapesState(),m=e.shapesResolvers(),f=Object.entries(s).reduce((function(e,t){var n=Object(i.a)(t,2),a=n[0],r=n[1],o=e[r]||[];return o.push(a),e[r]=o,e}),{});return{contributions:t,requests:a,requestParameters:c,responses:o,responsesArray:Object.values(o),pathIdsByRequestId:s,requestIdsByPathId:f,pathsById:l,endpoints:d,pathIdsWithRequests:u,shapesState:p,shapesResolvers:m}}function O(t){var n=Object(c.useContext)(g.a),a=n.clientId,r=n.clientSessionId,o=Object(c.useContext)(u.a),l=Object(c.useState)(null),d=Object(i.a)(l,2),p=d[0],m=d[1],f=Object(c.useState)(null),v=Object(i.a)(f,2),y=v[0],O=v[1],C=Object(c.useState)(0),j=Object(i.a)(C,2),w=(j[0],j[1]),S=o.initialCommandsString,x=o.initialEventsString,I=o.rfcId;if(Object(c.useEffect)((function(){try{var t=s.Facade.makeEventStore();e.eventStore=t,x&&t.bulkAdd(I,x);var n=new s.RfcCommandContext(a,r,"initial-batch"),o=s.Facade.fromJsonCommands(t,I,S||"[]",n);O({rfcService:o,eventStore:t})}catch(i){m(i)}}),[S,x]),!y)return null;if(p)return console.error(p),c.createElement("div",null,"Error! :(");var k=y.rfcService,T=y.eventStore,A=(t.initialEventStore||T).getCopy(I);function R(){var e=h()(),n=new s.RfcCommandContext(a,r,e);try{for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];k.handleCommands.apply(k,[I,n].concat(i)),w((function(e){return e+1})),t.onChange&&t.onChange({rfcId:I,eventStore:T,rfcService:k})}catch(l){m(l)}}var D=R,P=Object(s.Queries)(T,k,I),N=E(P),_=(t.specService,{rfcId:I,clientSessionId:r,clientId:a,rfcService:k,initialEventStore:A,eventStore:T,queries:P,cachedQueryResults:N,handleCommand:D,handleCommands:R});return c.createElement(b.Provider,{value:_},t.children)}e.commands=[],e.getCommandsAsJson=function(){return Object(s.commandsToJson)(e.commands)};var C=O;function j(e){var t=Object(m.useSnackbar)().enqueueSnackbar,n=e.specService;function a(){return(a=Object(o.a)(r.a.mark((function e(a){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.eventStore,i=a.rfcId,e.prev=1,e.next=4,n.saveEvents(o,i);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),t("Unable to save changes. Please make sure the CLI is still running.",{variant:"error"});case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return c.createElement(C,{onChange:p()((function(e){return a.apply(this,arguments)}),4e3,{leading:!0,trailing:!0})},e.children)}var w=O}).call(this,n(46))},39:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var a="purpose",r="description",o=function(e,t){return"".concat(e,".").concat(t.toUpperCase())}},44:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v}));var a=n(25),r=n(26),o=n(28),i=n(29),c=n(10),s=n(0),l=n.n(s),u=n(70),d=Object(u.a)(null),p=d.Context,m=d.withContext;function f(e){var t=Object(s.useState)({isAbove:!1,isBelow:!1,x:null,width:null}),n=Object(c.a)(t,2),a=n[0],r=n[1],o={shapeRender:e.shape,rootId:e.shape.rootId,diffDescription:e.diffDescription,suggestion:e.suggestion,diff:e.diff,exampleOnly:e.exampleOnly,hideDivider:e.hideDivider,compassState:a,setCompassState:r};return l.a.createElement(p.Provider,{value:o},e.children)}function h(){var e=Object(s.useContext)(p);if(!e)throw Error("useDiff can only be used inside provided ShapeRenderContext");return{diff:e.diff,diffDescription:e.diffDescription}}var g=Object(u.a)(null),v=g.Context,b=(g.withContext,function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={collapsedIds:new Set,showAllLists:new Set},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t={collapsedIds:Array.from(this.state.collapsedIds),showAllLists:Array.from(this.state.showAllLists),setCollapsedIds:function(t,n){n?e.state.collapsedIds.add(t):e.state.collapsedIds.delete(t),e.setState({collapsedIds:e.state.collapsedIds})},setShowAllLists:function(t,n){n?e.state.showAllLists.add(t):e.state.showAllLists.delete(t),e.setState({showAllLists:e.state.showAllLists})}};return l.a.createElement(v.Provider,{value:t},this.props.children)}}]),n}(l.a.Component))},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(0),r=n.n(a).a.createContext(null);r.displayName="BaseUrlContext";var o=r.Provider;function i(){return Object(a.useContext)(r).url}},473:function(e,t,n){"use strict";var a=n(25),r=n(26),o=n(28),i=n(29),c=n(0),s=n.n(c),l=n(64),u=n.n(l),d=n(158),p=n(24),m=n(522),f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",{className:e.root},s.a.createElement(d.a,{elevation:2,className:e.loaderCenter},s.a.createElement(m.a,{disableShrink:!0,thickness:5,style:{marginRight:22},size:25}),s.a.createElement(p.a,{variant:"h4",color:"primary"},"Loading API...")))}}]),n}(s.a.Component);t.a=u()((function(e){return{root:{backgroundColor:"#fafafa",display:"flex",flexDirection:"column",width:"100%",height:"100%",alignItems:"center"},loaderCenter:{width:320,height:120,marginTop:200,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}}}))(f)},480:function(e,t,n){"use strict";var a=n(25),r=n(26),o=n(28),i=n(29),c=n(0),s=n.n(c),l=(n(544),n(1124)),u=n(15),d=n(52),p=n(37),m=n(262),f=n(345),h=n(35),g=n(265),v=n(98),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={hasError:!1},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.error;return t?s.a.createElement(y,{error:n}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a,null),s.a.createElement(f.a,{theme:u.k},s.a.createElement(m.SnackbarProvider,{maxSnack:1},s.a.createElement(d.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(p.b,{path:"/",component:this.props.topLevelRoutes}))))))}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(s.a.Component);function y(e){var t=Object(c.useCallback)((function(e){e.preventDefault(),window&&window.location&&window.location.reload(!0)}));return Object(c.useEffect)((function(){Object(h.b)(g.JavascriptErrorDetectedInFrontend.withProps({message:e.error.message,stack:e.error.stack}))})),s.a.createElement("div",{className:"app-error-container"},s.a.createElement("div",{className:"app-error"},s.a.createElement("h1",null,"There was a problem in displaying the Optic app."),s.a.createElement("h4",null,"Something that we didn't anticipate happened, and we can't recover from it automatically."),s.a.createElement("h5",null,"Please feel free to"," ",s.a.createElement("a",{href:v.b("Optic App crash report")},"contact us about it.")),s.a.createElement("p",null,"Meanwhile, you could try the following:"),s.a.createElement("ul",null,s.a.createElement("li",null,"Create a debug file and"," ",s.a.createElement("a",{href:v.b("Optic App crash report")}," ","email it to our team")," ","or ",s.a.createElement("a",{href:v.d}," open a GitHub issue"),": ",s.a.createElement("ul",null,s.a.createElement("li",null,"Open Developer Tools"),s.a.createElement("li",null,"Type ",s.a.createElement("code",null,"debugOptic()")," in the console"))),s.a.createElement("li",null,s.a.createElement("a",{href:"#",onClick:t},"Refresh the page")," ","in your browser."),s.a.createElement("li",null,"Try ",s.a.createElement("a",{href:"https://browsehappy.com/"},"a different browser"),", if you can."))))}t.a=b},484:function(e){e.exports={name:"@useoptic/ui",version:"8.6.2",files:["build","index.js","index.d.ts"],repository:{type:"git",url:"ssh://git@github.com/useoptic/optic-package.git",directory:"workspaces/ui"},dependencies:{"@material-ui/core":"^4.9.7","@material-ui/icons":"^4.9.1","@material-ui/lab":"^4.0.0-alpha.46","@useoptic/cli-shared":"8.6.2","@useoptic/cli-client":"8.6.2","@useoptic/analytics":"8.6.2","@useoptic/diff-engine-wasm":"8.6.2","@useoptic/domain":"10.0.17","@useoptic/domain-utilities":"10.0.17",bottleneck:"^2.19.5",camelcase:"^5.2.0","react-select":"3.1.1",classnames:"^2.2.6",color:"^3.1.2","date-fns":"^2.11.1",invariant:"^2.2.4","lodash.compose":"^2.4.1","lodash.debounce":"^4.0.8","lodash.get":"^4.4.2","lodash.groupby":"^4.6.0","lodash.isequal":"^4.5.0","lodash.sortby":"^4.7.0","lodash.uniq":"^4.5.0","lodash.flattendeep":"^4.4.0","memoize-weak":"^1.0.2","mini-css-extract-plugin":"0.5.0","node-sha1":"^1.0.1",notistack:"^0.8.6","path-to-regexp":"^3.0.0","prop-types":"latest",qs:"^6.9.4",react:"^16.8.6","react-ace":"^8.0.0","react-dom":"^16.8.6","react-helmet":"5.2.1","react-hook-form":"^3.27.0","react-markdown":"^4.2.2","react-minimal-pie-chart":"^6.0.1","react-router-dom":"^5.1.2","yaml-ast-parser":"^0.0.43","shell-escape":"^0.2.0",deepcopy:"^2.1.0","react-countdown":"^2.3.1","react-text-loop":"^2.3.0","react-scroll-into-view-if-needed":"^2.1.7",reactour:"^1.18.0",resolve:"1.10.0","scroll-into-view-if-needed":"^2.2.24","styled-components":"^5.1.1","time-ago":"^0.2.1",xstate:"^4.14.1","@xstate/react":"^1.0.3","ts-pnp":"1.1.2","url-loader":"1.1.2"},node:{fs:"empty"},scripts:{start:"node --max-old-space-size=8192 scripts/start.js","start-local":"node --max-old-space-size=8192 scripts/start-local.js","start-local-demo":"node --max-old-space-size=8192 scripts/start-local-demo.js","start-local-spec":"node --max-old-space-size=8192 scripts/start-local-spec.js",build:"node --max-old-space-size=8192 scripts/build.js","build-local":"node --max-old-space-size=8192 scripts/build-local.js","build-demo":"node --max-old-space-size=8192 scripts/build-demo.js","build-spec":"node --max-old-space-size=8192 scripts/build-spec.js",test:"node scripts/test.js",storybook:"start-storybook -p 9009 -s public","build-storybook":"build-storybook -s public","ws:build":"echo building ui","ws:clean":"rm -rf build/*","ws:test":"echo ui",prepare:"CI='' yarn run build-local"},eslintConfig:{extends:"react-app"},browserslist:{production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]},devDependencies:{"@babel/core":"7.4.3","babel-jest":"^26.6.0","@babel/plugin-proposal-decorators":"^7.4.4","@pmmmwh/react-refresh-webpack-plugin":"^0.2.0","@storybook/addon-actions":"^5.0.11","@storybook/addon-links":"^5.0.11","@storybook/addons":"^5.0.11","@storybook/preset-create-react-app":"^2.1.1","@storybook/react":"^5.0.11","@types/node":"^13.11.1","@types/react":"^16.9.34","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"1.6.0","@typescript-eslint/parser":"1.6.0","babel-eslint":"^10.1.0","babel-loader":"8.0.5","babel-plugin-named-asset-import":"^0.3.2","babel-preset-react-app":"^9.0.0","case-sensitive-paths-webpack-plugin":"2.2.0","css-loader":"2.1.1",dotenv:"6.2.0","dotenv-expand":"4.2.0",eslint:"^5.16.0","eslint-config-react-app":"^4.0.1","eslint-loader":"2.1.2","eslint-plugin-flowtype":"2.50.1","eslint-plugin-import":"2.16.0","eslint-plugin-jsx-a11y":"6.2.1","eslint-plugin-react":"7.12.4","eslint-plugin-react-hooks":"^1.5.0","file-loader":"3.0.1","html-webpack-plugin":"4.0.0-beta.5","is-wsl":"^1.1.0",jest:"24.7.1","optimize-css-assets-webpack-plugin":"5.0.1","pnp-webpack-plugin":"^1.6.4","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-normalize":"7.0.1","postcss-preset-env":"6.6.0","postcss-safe-parser":"4.0.1","react-dev-utils":"^9.0.1","react-refresh":"^0.8.1","sass-loader":"^8.0.2","sockjs-client":"^1.4.0","style-loader":"0.23.1","terser-webpack-plugin":"3.0.0",webpack:"4.29.6","webpack-dev-server":"3.2.1","webpack-manifest-plugin":"2.0.4","workbox-webpack-plugin":"4.2.0"},jest:{collectCoverageFrom:["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],setupFilesAfterEnv:[],testMatch:["<rootDir>/src/**/*.{spec,test}.{js,jsx,ts,tsx}"],transform:{"^.+\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},transformIgnorePatterns:["[/\\\\]node_modules[/\\\\].+\\.(js|jsx|ts|tsx)$","^.+\\.module\\.(css|sass|scss)$"],modulePaths:[],moduleNameMapper:{"^react-native$":"react-native-web","^.+\\.module\\.(css|sass|scss)$":"identity-obj-proxy"},moduleFileExtensions:["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"]},proxy:"http://localhost:34444",babel:{presets:["react-app"],plugins:[["@babel/plugin-proposal-decorators",{legacy:!0}],["@babel/plugin-proposal-class-properties",{loose:!0}]]}}},485:function(e,t,n){"use strict";var a=n(6),r=n(240);Object.defineProperty(t,"__esModule",{value:!0}),t.newAnalyticsEventBus=void 0;var o=n(106),i=n(1122);t.newAnalyticsEventBus=function(e){var t=new o.EventEmitter;return{emit:function(){var n=r(a.mark((function n(){var r,o,c,s,l,u=arguments;return a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.v4(),n.next=3,e(r);case 3:for(o=n.sent,c=u.length,s=new Array(c),l=0;l<c;l++)s[l]=u[l];s.forEach((function(e){t.emit("event",Object.assign(Object.assign({},e),{context:o}))}));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),eventEmitter:t,listen:function(e){t.on("event",e)}}}},486:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(25),r=n(26),o=n(28),i=n(29),c=n(0),s=n.n(c),l=n(70),u=n(94),d=n.n(u)()(),p=Object(l.a)({clientSessionId:d,clientId:"anonymous"}),m=p.Context;p.withContext,s.a.Component},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(6),r=n.n(a),o=n(11);function i(e){return function(){var t=Object(o.a)(r.a.mark((function t(n){var a,o,i,c,s,l,u,d,p,m,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.outputFileName,o=n.downloadSourcePath,i=n.downloadDestinationPath,t.next=3,e.listEvents();case 3:return c=t.sent,t.next=6,e.listCaptures();case 6:return s=t.sent,l=s.captures[0].captureId,t.next=10,e.listCapturedSamples(l);case 10:return u=t.sent,d=JSON.stringify({events:JSON.parse(c),session:u,examples:{}},null,2),p=new Blob([d],{type:"application/json"}),m=window.URL.createObjectURL(p),(f=document.createElement("a")).href=m,f.download=a,console.log(f),f.click(),t.abrupt("return",'mv "'.concat(o,"/").concat(a,'" "').concat(i,"/").concat(a,'"'));case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},49:function(e,t,n){"use strict";n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return y}));var a=n(6),r=n.n(a),o=n(11),i=n(25),c=n(26),s=n(28),l=n(29),u=n(0),d=n.n(u),p=n(70),m=Object(p.a)(null),f=m.Context,h=m.withContext,g=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={enabledFeatures:null},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.specService,a=t.specServiceEvents;a?a.on("events-updated",(function(){e.forceUpdate()})):console.warn("I need specServiceEvents"),function(){var t=Object(o.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getEnabledFeatures();case 2:a=t.sent,e.setState({enabledFeatures:a});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}},{key:"render",value:function(){var e=this.props,t={specService:e.specService,captureServiceFactory:e.captureServiceFactory,diffServiceFactory:e.diffServiceFactory,enabledFeatures:this.state.enabledFeatures};return d.a.createElement(f.Provider,{value:t},this.props.children)}}]),n}(d.a.Component);function v(){return Object(u.useContext)(f).specService}function b(){var e=Object(u.useContext)(f);return{specService:e.specService,diffServiceFactory:e.diffServiceFactory,captureServiceFactory:e.captureServiceFactory}}function y(){var e=Object(u.useContext)(f);if(!e)throw Error("useEnabledFeatures can only be used inside SpecServiceContext");return e.enabledFeatures}},496:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(6),r=n.n(a),o=n(11);function i(e,t){return Object(o.a)(r.a.mark((function n(){var a,o,i,c,s,l,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.listEvents();case 2:return a=n.sent,n.next=5,e.listCapturedSamples(t);case 5:o=n.sent,i=JSON.parse(JSON.stringify(o)),console.log("sanitizing data..."),i.samples.forEach((function(e){e.request.body.value.asJsonString=null,e.request.body.value.asText=null,e.response.body.value.asJsonString=null,e.response.body.value.asText=null})),c=JSON.stringify({events:JSON.parse(a),session:i,examples:{}},null,2),s=new Blob([c],{type:"application/json"}),l=window.URL.createObjectURL(s),(u=document.createElement("a")).href=l,u.download="debug-capture-".concat(t,"-").concat(Math.floor(Date.now()/1e3),".json"),console.log(u),u.click();case 17:case"end":return n.stop()}}),n)})))}},510:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},511:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(37),i=n(147),c=n(6),s=n.n(c),l=n(11),u=n(120),d=n(93),p=n(134),m=n(113),f=n(117),h=n(80),g=n(52),v=n(38),b=n(4),y=n(501),E=n.n(y),O=n(89),C=n(82),j=n(73),w=n(24),S=n(16),x=n(115),I=n(39);function k(e){var t=e.title,n=e.description,a=e.typeName,o=(e.children,e.paramId),i=e.updateContribution,c=void 0===i?function(){}:i;return r.a.createElement("div",null,r.a.createElement("div",{style:{paddingTop:6,paddingBottom:6,paddingLeft:2}},r.a.createElement("div",null,r.a.createElement(w.a,{variant:"subtitle1",component:"span",style:S.h},t),r.a.createElement(w.a,{component:"span",style:{marginLeft:6,fontSize:12}},a||"String")),r.a.createElement(x.c,{value:n,label:"Description",onChange:function(e){c(o,I.a,e)}})))}var T=n(472),A=n.n(T),R=n(126),D=n(154),P=n(44),N=n(184),_=n(137),U=n(158),B=n(186),F=n(98),L=n(35),H=n(30),q=Object(f.a)((function(e){return{maxWidth:{width:"100%",paddingTop:60,maxWidth:750,alignSelf:"center"},paper:{marginTop:22,marginBottom:30},header:{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingTop:10,flex:1,paddingBottom:5},contributions:{display:"flex",flexDirection:"column",paddingRight:20,width:"60%"},overviewSection:{paddingTop:15,paddingBottom:15},expand:{display:"flex",justifyContent:"flex-start",alignItems:"center",paddingRight:10,marginTop:37,backgroundColor:"rgba(241,241,241,0.69)"},specPreview:{flex:1,display:"flex",flexDirection:"column"}}})),W=function(e){e.match,e.specService;var t=Object(p.a)();return r.a.createElement(h.a,{title:"Documentation",scrollToTop:!0},r.a.createElement(h.a.Navbar,{mini:!0}),r.a.createElement(h.a.Body,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:t.docsRoot,component:z}),r.a.createElement(o.b,{path:t.requestDocsRoot,component:M}))))},z=function(){var e=q(),t=Object(a.useContext)(v.c).cachedQueryResults.endpoints;return r.a.createElement("div",{className:e.maxWidth},0===t.length&&r.a.createElement(B.a,{title:"Document your First Endpoint",content:"\n1. Follow the [Getting Started Tutorial](".concat(F.a,")\n2. Run `api start` and send the API some traffic\n3. Use [Optic to document your API](").concat(F.c,")\n").trim()}),t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h5",color:"primary"},"Documentation"),r.a.createElement(S.c,null)),r.a.createElement("div",null,t.map((function(t){return r.a.createElement(C.b,{method:t.method,pathId:t.pathId},r.a.createElement(C.a.Consumer,null,(function(t){var n=t.endpointDescriptor,a=t.updateContribution,o=t.getContribution,i=t.endpointId,c=Boolean(n.requestBodies.find((function(e){return e.requestBody.httpContentType})));return r.a.createElement("div",{className:e.paper},r.a.createElement("div",null,r.a.createElement("div",{className:e.header},r.a.createElement(x.b,{value:o(i,I.b),label:"What does this endpoint do?",onChange:function(e){a(i,I.b,e),Object(L.b)(H.UpdateContribution.withProps({id:i,purpose:I.b,value:e}))}}),r.a.createElement("div",{style:{flex:1}}),r.a.createElement(j.c,{path:n.fullPath,method:n.method})),r.a.createElement("div",{className:e.contributions},r.a.createElement(x.c,{value:o(i,I.a),label:"Detailed Description",onChange:function(e){a(i,I.a,e),Object(L.b)(H.UpdateContribution.withProps({id:i,purpose:I.a,value:e}))}})),r.a.createElement("div",{className:e.specPreview},r.a.createElement("div",{style:{flex:1}}),r.a.createElement(U.a,{className:e.expand,elevation:0},r.a.createElement(O.a,{component:g.b,to:"documentation/paths/".concat(n.pathId,"/methods/").concat(n.method),size:"medium",color:"primary",endIcon:r.a.createElement(E.a,null)},"Full Documentation"),r.a.createElement("div",{style:{flex:1}}),c&&r.a.createElement(w.a,{variant:"overline",color:"textSecondary",style:{marginRight:15}},"Has Request Body"),r.a.createElement(w.a,{variant:"overline",color:"textSecondary",style:{marginRight:7}},"Responses:"," "),r.a.createElement("div",{style:{marginTop:3,display:"flex",alignItems:"center"}},n.responses.map((function(e){return r.a.createElement(j.e,{label:e.statusCode,bgColor:"#32536a",color:"white",style:{marginRight:12}})})))))))})))}))))},M=function(e){var t=Object(o.i)(),n=t.pathId,a=t.method;return r.a.createElement(C.b,{method:a,pathId:n},r.a.createElement(C.a.Consumer,null,(function(e){var t=e.endpointDescriptor;return r.a.createElement(J,{endpointDescriptor:t})})))},J=function(e){var t=e.endpointDescriptor,n=q(),o=t.endpointPurpose,i="".concat(t.httpMethod," ").concat(t.fullPath);Object(h.b)("".concat(o||i," - API Documentation"));var c=Object(a.useContext)(v.c),s=c.rfcService,l=c.rfcId,u=c.cachedQueryResults.shapesResolvers,d=s.currentState(l),p=new b.DiffPreviewer(u,d);return r.a.createElement(P.b,null,r.a.createElement("div",{className:n.maxWidth,style:{paddingTop:30}},r.a.createElement(C.a.Consumer,null,(function(e){var a=e.updateContribution,o=e.getContribution,i=e.endpointId,c=t.requestBodies,s=t.responses,l=A()(s,(function(e){return e.statusCode})),u=Object.keys(l).sort().map((function(e){return{statusCode:e,contentTypes:l[e.toString()].map((function(e){return e.responseBody.httpContentType||"No Body"})).sort()}}));return r.a.createElement("div",null,r.a.createElement(x.b,{value:o(i,I.b),label:"What does this endpoint do?",onChange:function(e){a(i,I.b,e),Object(L.b)(H.UpdateContribution.withProps({id:i,purpose:I.b,value:e}))}}),r.a.createElement(x.c,{value:o(i,I.a),label:"Detailed Description",onChange:function(e){a(i,I.a,e),Object(L.b)(H.UpdateContribution.withProps({id:i,purpose:I.a,value:e}))}}),r.a.createElement(S.c,{style:{marginTop:10,marginBottom:10}}),r.a.createElement("div",{className:n.overviewSection},r.a.createElement(j.c,{path:t.fullPath,method:t.method}),r.a.createElement("div",{style:{marginTop:7}},t.pathParameters.map((function(e){return r.a.createElement(k,{title:e.name,paramId:e.pathId,updateContribution:a,description:e.description})})))),r.a.createElement(S.c,{style:{marginTop:10,marginBottom:10}}),r.a.createElement(R.c,null,r.a.createElement(R.d,{inRequest:!0,options:{contentTypes:c.map((function(e){return e.requestBody.httpContentType})).filter((function(e){return!!e}))},renderDescription:function(e){var t="".concat(i,"_request_body");return r.a.createElement(x.c,{value:o(t,I.a),label:"Request Body Description",onChange:function(e){a(t,I.a,e),Object(L.b)(H.UpdateContribution.withProps({id:t,purpose:I.a,value:e}))}})},renderRequest:function(e){var t=c.find((function(t){return t.requestBody.httpContentType===e})),n=t&&Object(b.getOrUndefined)(p.previewShape(Object(b.toOption)(t.requestBody.shapeId)));return n&&r.a.createElement(_.b,{header:r.a.createElement(D.a,{itemStyles:{fontSize:13,color:"white"},location:["Request Body",e]})},r.a.createElement(N.a,{preview:n}))}}),r.a.createElement(R.d,{options:u,renderDescription:function(e,t){var n="".concat(i,"_").concat(e,"_response");return r.a.createElement(x.c,{value:o(n,I.a),label:"".concat(e," Response Description"),onChange:function(e){a(n,I.a,e),Object(L.b)(H.UpdateContribution.withProps({id:n,purpose:I.a,value:e}))}})},renderResponse:function(e,t){var n=s.find((function(n){return n.statusCode==e&&n.responseBody.httpContentType===t})),a=n&&Object(b.getOrUndefined)(p.previewShape(Object(b.toOption)(n.responseBody.shapeId)));return a&&r.a.createElement(_.b,{header:r.a.createElement(D.a,{itemStyles:{fontSize:13,color:"white"},location:["".concat(e," Response Body"),t]})},r.a.createElement(N.a,{preview:a}))}})),r.a.createElement("div",{style:{height:"100vh"}}))}))))},G=n(473),V=n(18),Y=n(10),Q=(n(1188),n(244),n(185),n(276),n(1187)),Z=n(15);n(502);Object(f.a)((function(e){return{root:{paddingTop:6,paddingRight:0,marginBottom:9,display:"flex",flexDirection:"column"},detail:{fontFamily:"Ubuntu Mono",color:S.b}}})),Object(f.a)((function(e){return{codeInline:{padding:3,paddingLeft:4,marginLeft:3,marginRight:3,paddingRight:4,fontWeight:700,backgroundColor:Z.j,fontFamily:"Ubuntu Mono"}}}));Object(f.a)((function(e){return{root:{paddingTop:18,margin:"0 auto",maxWidth:920,width:"100%"}}}));var $=n(1192),K=(n(42),n(1193)),X=n(40),ee=n(503),te=n(135),ne=n.n(te);function ae(e,t){var n=Object(ee.load)(e);if(!n||!n.mappings)return{isValid:!1};var a=n.mappings.find((function(e){return"tasks"===e.key.value}));function r(t,n){var a=t&&t.value&&t.value.mappings&&t.value.mappings.find((function(e){return e.key.value===n}));return a&&a.value?Object(V.a)({value:a.value.value,startPosition:a.value.startPosition,endPosition:a.value.endPosition},function(e,t,n){var a=re(e.substr(0,t)).length-1,r=re(e.substr(0,n)).length-1;return{startLine:a,endLine:r}}(e,a.value.startPosition,a.value.endPosition)):void 0}if(a&&a.value&&a.value.mappings){var o=a.value.mappings.find((function(e){return e.key.value===t}));if(o)return{isValid:0===n.errors.length,task:{name:t,command:ne()((function(){return r(o,"command")})),inboundUrl:ne()((function(){return r(o,"inboundUrl")})),targetUrl:ne()((function(){return r(o,"targetUrl")})),useTask:ne()((function(){return r(o,"useTask")}))},taskRange:{startPosition:o.startPosition,endPosition:o.endPosition}}}return{isValid:0===n.errors.length}}function re(e){return e.split(/\r\n|\r|\n/)}var oe=n(817),ie=n(818),ce=function(){var e=[];return Object.values(oe).forEach((function(t){Object.entries(t.frameworks).forEach((function(n){var a=Object(Y.a)(n,2),r=a[0],o=a[1];e.push({value:r,label:o.pretty_name,data:Object(V.a)({},o),language:t.pretty_name})}))})),e}();function se(e,t,n,a,r){function o(e,t,n,a){return e.substring(0,t)+a+e.substring(n)}if(r.taskRange){var i=r.taskRange;i.startPosition,i.endPosition;if("recommended"===e){var c=ce.find((function(e){return e.value===t})),s=c?c.data.start_command:'echo "Replace me with your start command"',l=r.task&&r.task.inboundUrl.value||"http://localhost:3005",u="".concat(a,":\n")+"    command: ".concat(s,"\n")+"    inboundUrl: ".concat(l);return o(n,r.taskRange.startPosition,r.taskRange.endPosition,u)}if("manual"===e){var d=r.task&&r.task.inboundUrl.value||"http://localhost:3005",p="".concat(a,":\n")+"    targetUrl: ".concat("http://localhost:5000","\n")+"    inboundUrl: ".concat(d);return o(n,r.taskRange.startPosition,r.taskRange.endPosition,p)}}return n}var le=n(49),ue=n(220),de=n.n(ue),pe=(n(819),n(820),n(152)),me=n.n(pe);function fe(e){var t,n=e.rawConfig,a=e.saving,o=e.hasChanges,i=e.ranges,c=e.result,s=e.updateValue,l=he(),u=function(){var e=[];function t(t,n){if(t){var a=function(){if("command"===n&&c&&c.recommended){var e=c.recommended,t=e.commandIsLongRunning,a=e.apiProcessStartsOnAssignedHost,r=e.apiProcessStartsOnAssignedPort;return t.passed&&a.passed&&r.passed?l.highlightCorrect:l.highlightError}return"inboundUrl"===n&&c&&c.recommended?c.recommended.proxyCanStartAtInboundUrl.passed?l.highlightCorrect:l.highlightError:"command"===n&&c&&c.manual?null:"inboundUrl"===n&&c&&c.manual?c.manual.proxyCanStartAtInboundUrl.passed?l.highlightCorrect:l.highlightError:"targetUrl"===n&&c&&c.manual?c.manual.proxyTargetUrlResolves.passed?l.highlightCorrect:l.highlightError:l.highlightRowFocus}();e.push({startRow:t.startLine,startCol:0,endRow:t.endLine,endCol:1e3,className:a,type:"text"})}}return t(i.task&&i.task.command,"command"),t(i.task&&i.task.inboundUrl,"inboundUrl"),t(i.task&&i.task.targetUrl,"targetUrl"),e}(),d=(t=n,t.split(/\r\n|\r|\n/)).length;return r.a.createElement(U.a,{elevation:3,className:l.bg},r.a.createElement("div",{className:l.header},r.a.createElement(w.a,{variant:"overline",style:{textTransform:"none",color:Z.h}},"optic.yml"),r.a.createElement("div",{style:{flex:1}}),r.a.createElement(w.a,{variant:"overline",style:{textTransform:"none",color:"#5e738d"}},(a||o)&&"saving...",!o&&"saved")),r.a.createElement(de.a,{style:{width:"100%",height:d<15?400:600},mode:"yaml",theme:"solarized_dark",value:n,fontSize:15,showPrintMargin:!1,readOnly:a,showGutter:!0,highlightActiveLine:!1,onChange:function(e){return s(e)},name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0},markers:u}))}var he=me()((function(e){return{highlightRowFocus:{backgroundColor:Z.d,position:"absolute",borderRadius:0,padding:0,width:"100% !important",left:0,margin:0},highlightError:{backgroundColor:Z.g,position:"absolute",borderRadius:0,padding:0,width:"100% !important",left:0,margin:0},highlightCorrect:{backgroundColor:Z.b,position:"absolute",borderRadius:0,padding:0,width:"100% !important",left:0,margin:0},bg:{backgroundColor:"#0e2a35"},header:{paddingLeft:9,borderBottomColor:"#736d6d",borderBottom:"1px solid",marginBottom:12,display:"flex",flexDirection:"row",paddingRight:12}}})),ge=n(145),ve=n.n(ge),be=n(366),ye=n(516),Ee=n(1191),Oe=n(506),Ce=n(507),je=n.n(Ce),we=n(1126),Se=n(524),xe=n(504),Ie=me()((function(e){return{copybtn:{color:"white"},root:{overflow:"none",marginTop:8,display:"flex",alignItems:"center",backgroundColor:"rgb(40, 42, 54)"},codeInline:{padding:3,paddingLeft:5,paddingRight:5,fontWeight:100,backgroundColor:Z.j,fontFamily:"Ubuntu Mono"}}})),ke=function(e){var t=Ie();return r.a.createElement("span",{className:t.codeInline,style:e.style},e.children)};function Te(e){var t=e.code,n=e.lang,a=e.style,o=Ie();return r.a.createElement(U.a,{elevation:2,className:o.root,style:a},r.a.createElement("div",{style:{flex:1,paddingLeft:2}},r.a.createElement(Ee.a,{language:n,style:Oe.dracula,customStyle:{whiteSpace:"pre-wrap"}},t)),r.a.createElement("div",{style:{paddingRight:9}},r.a.createElement(Se.a,{title:"Copy Code to Clipboard"},r.a.createElement(we.a,{size:"small",className:o.copybtn,onClick:function(){return xe(t)}},r.a.createElement(je.a,{style:{width:20}})))))}var Ae=n(71),Re=n(166),De=n.n(Re);function Pe(e){var t=e.source,n=e.style;return r.a.createElement("div",{style:n},r.a.createElement(De.a,{source:t,renderers:{heading:function(e){var t=e.level,n=e.children;return r.a.createElement(w.a,{variant:"h".concat(t),style:{fontWeight:300,marginBottom:3}},n)},inlineCode:function(e){var t=e.children;return r.a.createElement(ke,null,t)},code:function(e){return r.a.createElement(Te,{lang:e.language,code:e.value,style:{marginRight:15,marginBottom:15}})},paragraph:function(e){var t=e.children;return r.a.createElement(w.a,{variant:"body1",style:{fontWeight:300,whiteSpace:"pre-line"}},t)}}}))}var Ne={command:[{assertion:ie.commandProcess,getStatus:function(e){return e.recommended&&e.recommended.commandIsLongRunning}},{assertion:ie.commandPort,getStatus:function(e){return e.recommended&&e.recommended.apiProcessStartsOnAssignedPort}},{assertion:ie.commandHost,getStatus:function(e){return e.recommended&&e.recommended.apiProcessStartsOnAssignedHost}}],inboundUrl:[{assertion:ie.inboundUrlStart,getStatus:function(e){return e.recommended?e.recommended.proxyCanStartAtInboundUrl:e.manual?e.manual.proxyCanStartAtInboundUrl:void 0}}],targetUrl:[{assertion:ie.targetUrlResolve,getStatus:function(e){return e.manual&&e.manual.proxyTargetUrlResolves}}]};function _e(e){var t=e.setting,n=e.mode,a=e.result,o=e.noChecks,i=e.value,c=Fe(),s=Ne[t]||[];return r.a.createElement(be.a,{elevation:3,className:c.root},r.a.createElement("div",{className:c.header},r.a.createElement(ke,{style:{color:"white",fontWeight:800,overflow:"hidden",wordWrap:"break-word"}},i&&i.value||"________"),r.a.createElement(w.a,{variant:"caption",style:{color:"#999696",fontWeight:100,paddingLeft:2}},r.a.createElement("span",{style:{fontWeight:800}},t),":"," ",function(e){return"recommended"===e?{command:"how your API is started",inboundUrl:"where the API should listen locally"}:"manual"===e?{targetUrl:"the hostname of the API ie devapi.site.com",inboundUrl:"where you want the Optic proxy to start"}:void 0}(n)[t])),r.a.createElement(ye.a,{in:!o},r.a.createElement("div",{className:c.assertions},r.a.createElement(w.a,{variant:"caption",style:{color:"#999696"}},"The ",r.a.createElement("strong",null,t)," parameter:"),s.map((function(e,t){return r.a.createElement(Ue,{issue:e.assertion,noChecks:o,result:a&&e.getStatus(a),key:"assertion"+t})})))))}function Ue(e){var t=e.issue,n=e.noChecks,a=e.result,o=(t.title,t.shortTitle),i=t.resolution,c=a&&a.passed,s=!c&&!n,l=Fe();return r.a.createElement("div",null,r.a.createElement(Q.a,{display:"flex",flexDirection:"row",alignItems:"center"},r.a.createElement(Be,{passed:c,failed:s}),r.a.createElement("span",{style:{color:"#e2e2e2",marginLeft:5,fontWeight:800}},o)),s&&r.a.createElement(Ae.a,{interactive:!0,title:r.a.createElement("div",null,r.a.createElement(Pe,{source:i}))},r.a.createElement(w.a,{variant:"overline",color:"error",className:l.issue},"Resolve Issue")))}function Be(e){e.untested;var t=e.passed,n=e.failed,a=Z.c;return t&&(a=Z.a),n&&(a=Z.f),r.a.createElement(ve.a,{style:{color:a,width:15,height:15}})}var Fe=Object(f.a)((function(e){return{root:{backgroundColor:"#0e2a35",marginBottom:14},header:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",paddingLeft:9,padding:7,marginBottom:5},error:{backgroundColor:"white",border:"2px solid ".concat(Z.f),padding:8},issue:{cursor:"pointer",marginLeft:20},headertop:{display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:10},assertions:{padding:8,paddingTop:0,borderTopColor:"#736d6d",borderTop:"1px solid"}}})),Le=n(180),He=n(515),qe=me()((function(e){return{optionStyle:{fontFamily:"Ubuntu Mono",padding:8,fontSize:17,fontWeight:900,paddingLeft:12},lang:{fontWeight:300,color:"#2b2a2a",paddingRight:15},optionRow:{cursor:"pointer","&:hover":{backgroundColor:"#e2e2e2"}},rootOption:{display:"flex",flexDirection:"row",alignItems:"center"}}})),We=ce,ze=Object(Le.b)({ignoreCase:!0,trim:!0}),Me=function(e,t){return!!ze(e,t)||(console.log("hello ",e),"generic"===e.value)},Je=function(e){var t=e.children,n=(e.className,e.cx,e.data),a=e.getStyles,o=(e.isDisabled,e.isFocused,e.isSelected,e.innerRef),i=e.innerProps,c=qe();return r.a.createElement("div",Object.assign({ref:o,css:a("option",e)},i,{className:c.optionRow}),r.a.createElement("div",{className:c.rootOption},r.a.createElement("div",{className:c.optionStyle},t),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("div",{className:c.lang},n.language)))},Ge={singleValue:function(e,t){var n=t.isDisabled?.5:1;return Object(V.a)(Object(V.a)({},e),{},{opacity:n,transition:"opacity 300ms"})}},Ve=function(e){var t=e.onChoose,n=(e.setStartCommand,e.touchEmpty),o=e.value,i=(qe(),Object(a.useState)(!1)),c=Object(Y.a)(i,2),s=c[0];c[1];return Object(a.useEffect)((function(){s&&n()}),[s]),r.a.createElement(He.a,{autoFocus:!0,placeholder:"Select Framework...",value:We.find((function(e){return e.value===o})),onChange:function(e){var n=e.value;e.data;t(n)},isSearchable:!0,options:We,filterOption:Me,components:{Option:Je},styles:Ge})},Ye=n(291);function Qe(e){var t=e.mode,n=e.framework,a=e.onModeChange,o=e.onChooseFramework;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{paddingBottom:10}},r.a.createElement(w.a,{variant:"overline",style:{color:S.b}},"Choose Integration:"),r.a.createElement(R.b,{value:t,onChange:function(e,t){a(t)}},r.a.createElement(R.a,{value:"recommended",label:r.a.createElement(Ae.a,{title:r.a.createElement(Ze,{recommended:!0,children:"Alias your start command with Optic. Use `api start` to:\n- start your API process\n- check your local traffic for API diffs\n\nRecommended for most local development flows\n                    "})},r.a.createElement("span",null,"Start Command"))}),r.a.createElement(R.a,{value:"manual",label:r.a.createElement(Ae.a,{title:r.a.createElement(Ze,{children:"Manually configure a proxy where Optic monitors traffic. Use when you are developing against:\n- a remote service\n- a hosted development environment\n- a development environment where you need more control\n                    "})},r.a.createElement("span",null,"Proxy"))}))),r.a.createElement(ye.a,{in:"recommended"===t},r.a.createElement(Ve,{value:n,onChoose:o})))}function Ze(e){var t=e.children;return r.a.createElement("div",{style:{width:300}},e.recommended&&r.a.createElement(Ye.a,{color:"primary",label:"Recommended",size:"small"}),r.a.createElement("div",{style:{padding:6}},r.a.createElement(Pe,{source:t})))}var $e=n(23),Ke=n(97);function Xe(e,t){Object(a.useEffect)((function(){var n=t[t.length-1];n&&e(n)}),[t.length])}var et=n(355);var tt=n(279),nt=n.n(tt),at=(n(1112),n(235));function rt(e,t){var n=Object(a.useRef)(e);Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){var e;if(null!==t)return e=setTimeout((function a(){var r=n.current();r instanceof Promise?r.then((function(){null!==t&&(e=setTimeout(a,t))})):null!==t&&(e=setTimeout(a,t))}),t),function(){return e&&clearTimeout(e)}}),[t])}var ot=n(1125),it=n(47),ct=n(361);function st(e){var t=lt(),n=e.events,o=Object(a.useState)(),i=Object(Y.a)(o,2),c=i[0],u=i[1],d=Object(le.d)().specService,p=Object(a.useState)(0),m=Object(Y.a)(p,2),f=m[0],h=m[1],v=Object(it.b)();Xe((function(e){console.log(e),"StartedTaskWithLocalCli"===e.type&&u(e.data),"ExitedTaskWithLocalCli"===e.type&&(u(void 0),h(0))}),n),rt(Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=10;break}return e.prev=1,e.next=4,d.getCaptureStatus(c.captureId);case 4:t=e.sent,h(t.interactionsCount),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])}))),1500);var b=f/5*100;return r.a.createElement(ye.a,{in:e.passed,style:{marginBottom:300}},r.a.createElement(ot.a,{style:{marginTop:40,marginBottom:20}}),r.a.createElement("div",{className:t.root},e.passed&&r.a.createElement(ct.a,null,r.a.createElement(w.a,{variant:"h5",style:{marginBottom:18}},"\u2705 Check Passed! Your ",r.a.createElement(ke,null,"api start")," command is all set up.")),r.a.createElement(w.a,{variant:"h6",className:t.copy},"Now run ",r.a.createElement(ke,null,"api start")),c?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h6",style:{marginTop:10}},"Your API is running with Optic on"," ",r.a.createElement(ke,null,c.inputs["serviceConfig.protocol"],"//",c.inputs["serviceConfig.host"],":",c.inputs["serviceConfig.port"])),r.a.createElement(w.a,{variant:"body1",style:{marginTop:10,marginBottom:10}},"Send at least ",5," requests to your API using, curl, Postman, your webapp, etc"),r.a.createElement(ct.a,null,r.a.createElement(at.a,{style:{marginTop:20},variant:"determinate",value:b<100?b:100})),r.a.createElement(w.a,{variant:"h6",style:{marginTop:10,marginBottom:10}},f,"/",5," requests sent"),f&&f>=5?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"h5",style:{marginTop:20}},"\u2705 Awesome work! Let's document those endpoints!"),r.a.createElement(O.a,{variant:"contained",size:"medium",component:g.b,color:"primary",to:v+"/diffs",style:{marginTop:20}},"Start Documenting")):null):r.a.createElement(w.a,{variant:"subtitle1",style:{marginTop:10,opacity:.5}},"Waiting for your API to start...",c&&JSON.stringify(c))))}var lt=Object(f.a)((function(e){return{root:{maxWidth:640,paddingTop:22},copy:{fontWeight:200,marginBottom:13}}})),ut=n(514),dt=me()((function(e){return{root:{display:"flex",flexGrow:1},paper:{position:"relative",marginBottom:12,borderRadius:7,backgroundColor:"#f5f1f0",overflow:"hidden",alignItems:"center",paddingTop:30,paddingBottom:30,justifyContent:"center",minHeight:186,textAlign:"center",display:"flex",flexDirection:"column",border:"2px solid transparent",transition:"transform .2s","&:hover":{transform:"scale(1.03)"},cursor:"pointer"},selected:{border:"2px solid ".concat(Z.m),"&:hover":{transform:"scale(1) !important"}},scroller:{fontFamily:"Ubuntu Mono",fontWeight:100,fontSize:19},demo:{display:"flex",fontFamily:"Ubuntu Mono",fontSize:19,marginTop:10,flexDirection:"row"},chip:{position:"absolute",right:2,top:2,padding:2,paddingLeft:5,paddingRight:5,borderRadius:5,fontFamily:"Ubuntu Mono",color:Z.l,fontSize:15,backgroundColor:"#e2e2e2",textTransform:"uppercase",fontWeight:600},caption:{marginTop:12,fontFamily:"Ubuntu Mono",color:"#808080",paddingLeft:50,paddingRight:50}}}));function pt(){var e=dt();return r.a.createElement("div",{className:e.demo},r.a.createElement(ut.a,{springConfig:{stiffness:180,damping:7},className:e.scroller},mt.map((function(e){return r.a.createElement("span",null,e)}))),ft,r.a.createElement("span",{style:{color:Z.l,fontWeight:800}},"api start"))}var mt=["npm start","rails server","flask run","go run server.go","sails lift","dotnet run","php artisan serve","cargo run"],ft=r.a.createElement("span",{style:{fontWeight:200,marginLeft:10,marginRight:10,color:Z.l}},"\u2192");function ht(e){var t=yt(),n=function(){var e=Object(a.useState)([]),t=Object(Y.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!0),i=Object(Y.a)(o,2),c=i[0],s=(i[1],Object(a.useState)(null)),l=Object(Y.a)(s,2),u=(l[0],l[1]);return Object(a.useEffect)((function(){if(!c)return u(null);var e=new EventSource("/api/tracking/events");return u(e),e.onmessage=function(e){var t=JSON.parse(e.data),n=t.type,a=t.data;"message"===n&&a&&r((function(e){return[].concat(Object($e.a)(e),[a])}))},e.onerror=function(e){console.error(e)},e.onopen=function(e){console.log(e)},function(){return e.close()}}),[c]),{events:n,daemonIsUp:c}}(),o=n.events,i=(n.daemonIsUp,Object(le.d)().specService),c=Object($.a)(function(e,t){return Object(K.a)({id:"setup-"+e,context:{mode:"recommended",lastKnownSavedConfig:"",stagedConfig:"",framework:void 0,stagedRanges:{isValid:!1},checkCount:0},initial:"loading",states:{loading:{invoke:{src:function(){var e=Object(l.a)(s.a.mark((function e(){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadConfig();case 2:return n=e.sent,a=n.configRaw,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onDone:{actions:Object(X.b)({lastKnownSavedConfig:function(e,t){return t.data},stagedConfig:function(e,t){return t.data},stagedRanges:function(t,n){return ae(n.data,e)}}),target:"precheck"}}},saving:{invoke:{src:function(){var e=Object(l.a)(s.a.mark((function e(n,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.saveConfig(n.stagedConfig);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onDone:{actions:Object(X.b)({lastKnownSavedConfig:function(e){return e.stagedConfig}}),target:"precheck"}}},precheck:{on:{USER_FINISHED_CHANGING_CONFIG:"saving",USER_UPDATED_CONFIG:{actions:Object(X.b)({stagedConfig:function(e,t){return t.contents},stagedRanges:function(t,n){return ae(n.contents,e)}})},USER_TOGGLED_MODE:{actions:[Object(X.b)({mode:function(e,t){return t.mode}}),Object(X.k)((function(t){return{type:"USER_UPDATED_CONFIG",contents:se(t.mode,t.framework,t.stagedConfig,e,t.stagedRanges)}}))]},USER_SELECTED_FRAMEWORK:{actions:[Object(X.b)({framework:function(e,t){return t.framework}}),Object(X.k)((function(t){return{type:"USER_UPDATED_CONFIG",contents:se(t.mode,t.framework,t.stagedConfig,e,t.stagedRanges)}}))]},CHECK_RESULT_RECEIVED:[{cond:function(t,n){return n.result.taskName===e},actions:[Object(X.b)({lastCheckResult:function(e,t){return t.result},lastKnownSavedConfig:function(e,t){return t.result.rawConfig},stagedConfig:function(e,t){return t.result.rawConfig},checkCount:function(e){return e.checkCount+1}})]},{cond:function(e,t){return t.result.passed},target:"passedcheck"}]}},passedcheck:{}}})}("start",i)),u=Object(Y.a)(c,2),d=u[0],p=u[1];Xe((function(e){e.type===et.ApiCheckCompleted.eventName&&p({type:"CHECK_RESULT_RECEIVED",result:e.data})}),o);var m=d.context,f=m.stagedRanges,g=m.stagedConfig,v=m.mode,b=m.framework,y=m.lastCheckResult,E=m.lastKnownSavedConfig,O=m.checkCount,C=!Boolean(y),j=function(e,t){var n=Object(a.useState)(e),r=Object(Y.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),o}(g,1500),w=E!==g,S=d.matches("saving");function x(e){return r.a.createElement(_e,{key:e,mode:v,noChecks:C,result:y,setting:e,value:f.task&&f.task[e]})}Object(a.useEffect)((function(){j&&w&&p({type:"USER_FINISHED_CHANGING_CONFIG"})}),[j]);var I="recommended"===v?[x("command"),x("inboundUrl")]:[x("targetUrl"),x("inboundUrl")];return r.a.createElement(h.a,{title:"Setup your API Start task"},r.a.createElement(h.a.Navbar,{mini:!0}),r.a.createElement(h.a.Body,{padded:!0,className:t.pageBg},r.a.createElement(Q.a,{display:"flex",className:t.copyRoot},r.a.createElement(vt,null)),r.a.createElement(Q.a,{display:"flex",className:t.root},!d.matches("loading")&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{minWidth:600,flex:1}},r.a.createElement(fe,{saving:S,hasChanges:w,focusTask:"start",rawConfig:g,result:y,ranges:f,updateValue:function(e){return p({type:"USER_UPDATED_CONFIG",contents:e})}}),r.a.createElement(bt,{style:{marginTop:24},framework:b}),r.a.createElement(gt,{hasChanges:w,stagedConfig:g,lastResult:y,checkCount:O,focusTask:"start",command:f.task&&f.task.command}),r.a.createElement(st,{passed:y&&y.passed,events:o})),r.a.createElement("div",{style:{paddingLeft:20,width:325}},r.a.createElement(Qe,{mode:v,framework:b,onChooseFramework:function(e){p({type:"USER_SELECTED_FRAMEWORK",framework:e})},onModeChange:function(e){return p({type:"USER_TOGGLED_MODE",mode:e})}}),r.a.createElement("div",{style:{marginTop:20}},I))))))}function gt(e){e.hasChanges;var t=e.lastResult,n=e.stagedConfig,a=e.checkCount,o=e.focusTask,i=yt(),c=t&&t.passed,s=!t||t&&t.rawConfig!==n;return r.a.createElement(r.a.Fragment,null,!c&&r.a.createElement(w.a,{variant:"subtitle1",style:{marginTop:18,opacity:.5}},"Waiting for Checks to Pass..."),r.a.createElement(ye.a,{in:!c},r.a.createElement(U.a,{className:i.promptCheck,style:{opacity:s?1:.5}},r.a.createElement(w.a,{variant:"caption",style:{color:Z.h,marginRight:15}},a>0?"Run the check again to see if your changes worked:":"Check if your alias works by running this command in the terminal:"),r.a.createElement(ke,{style:{color:"white",fontSize:18}},"api check ",o))))}function vt(e){var t=yt();return r.a.createElement("div",{style:{maxWidth:670}},r.a.createElement(w.a,{variant:"h4",style:{marginBottom:18}},"Start your API with Optic:"),r.a.createElement(w.a,{variant:"body2",className:t.copy},"Optic monitors your local API traffic for new endpoints, and any changes you have made to existing ones. The simplest way to fit Optic into your development flow is to alias the command you use to start your API with Optic's ",r.a.createElement(ke,null,"api start")," command:"),r.a.createElement(pt,null),r.a.createElement(w.a,{variant:"body2",className:t.copy,style:{marginTop:14}},"Choose your API framework on the right and this wizard will help you setup + check the alias. All the changes you make here will be saved to your ",r.a.createElement(ke,null,"optic.yml")," file."),r.a.createElement(w.a,{variant:"body2",className:t.copy},"After you set up the alias, begin using api start it whenever you're developing. Optic will show you diffs when the process stops."))}function bt(e){var t=yt(),n=ce.find((function(t){return t.value===e.framework})),a=r.a.createElement("span",{style:{fontWeight:600}},"map this variable to a flag your API framework looks for",r.a.createElement(Ae.a,{interactive:!0,title:r.a.createElement("div",null,r.a.createElement(w.a,{variant:"overline"},"examples:"),n&&!n.data.code_change?r.a.createElement(Pe,{source:n.data.preamble+"\n\n```"+n.data.after+"\n```"}):r.a.createElement(Pe,{source:["`<start_command> --port=$PORT`","`<start_command> --listen=$PORT`","`<start_command> --p=$PORT`","`OUR_ENV_VAR=$PORT <start_command>`","`export OUR_ENV_VAR=$PORT; <start_command>`"].join("\n")}))},r.a.createElement(nt.a,{style:{width:12,height:12,marginLeft:5},color:"primary"}))),o=r.a.createElement("span",{style:{fontWeight:600}},"look for the ",r.a.createElement(ke,null,"$PORT")," variable when starting up",r.a.createElement(Ae.a,{interactive:!0,title:r.a.createElement("div",null,r.a.createElement(w.a,{variant:"overline"},"examples:"),n&&r.a.createElement(Pe,{source:n.data.preamble+"\n\n```"+n.data.after+"\n```"}),!n&&r.a.createElement(Pe,{source:"\n```\n//when your starts and binds to a port...\napi.listen(env['PORT'])\n```"}))},r.a.createElement(nt.a,{style:{width:12,height:12,marginLeft:5},color:"primary"})),".");return r.a.createElement("div",{style:Object(V.a)({maxWidth:670},e.style)},r.a.createElement(w.a,{variant:"h6",style:{marginBottom:18}},"Starting on the correct ",r.a.createElement(ke,null,"$PORT")),r.a.createElement(w.a,{variant:"body2",className:t.copy},"Optic assumes your API can be started on a specific port, which Optic assigns. To do this, Optic provides",r.a.createElement(ke,null,"$PORT")," as an environment variable. You'll either need to"," ",a,", or modify your code to ",o))}var yt=Object(f.a)((function(e){return{copy:{fontWeight:200,marginBottom:13},copyRoot:{paddingTop:35,maxWidth:1200,display:"flex",flexDirection:"column",justifyContent:"flex-start",margin:"0 auto",width:"100%",paddingLeft:5},root:{paddingTop:30,paddingBottom:100,maxWidth:1200,margin:"0 auto",minWidth:900,width:"100%"},promptCheck:{marginTop:10,backgroundColor:"#0e2a35",display:"flex",flexDirection:"row",alignItems:"center",paddingTop:10,paddingBottom:10,justifyContent:"flex-start",paddingLeft:15,borderLeft:"4px solid ".concat(Z.i)},pageBg:{backgroundImage:"url(".concat(n(1121),")"),backgroundSize:"100px 100px"}}})),Et=r.a.lazy((function(){return Promise.all([n.e(4),n.e(5)]).then(n.bind(null,1224))}));r.a.lazy((function(){return n.e(6).then(n.bind(null,1223))}));function Ot(e){var t=Object(p.a)(),n=e.getDefaultRoute?e.getDefaultRoute(t):t.docsRoot;return r.a.createElement(a.Suspense,{fallback:r.a.createElement(G.a,null)},r.a.createElement(o.d,null,r.a.createElement(o.b,{strict:!0,path:t.setup,component:ht}),r.a.createElement(o.b,{strict:!0,path:t.docsRoot,component:W}),r.a.createElement(o.b,{strict:!0,path:t.diffsRoot,component:m.b}),r.a.createElement(o.b,{strict:!0,path:t.testingDashboard,component:Et}),!1,r.a.createElement(o.a,{to:n})))}var Ct=n(143);function jt(e){var t=Object(o.j)(),a=Object(o.i)().sessionId,c=Object(d.c)({sessionId:a,exampleSessionCollection:"example-sessions"}),p=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(0).then(n.bind(null,1225));case 2:return r=e.sent,o=r.ExampleCaptureService,e.abrupt("return",new o(t));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(s.a.mark((function e(t,a,r,o,c,u,d){var p,m,f,h,g,v,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=function(){return(m=Object(l.a)(s.a.mark((function e(){var n,a,o,l,u,p,m,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.listCapturedSamples(d);case 2:n=e.sent,a=new b.RfcCommandContext("simulated","simulated","simulated"),o=Object(Ct.cachingResolversAndRfcStateFromEventsAndAdditionalCommands)(r,a,c),l=o.resolvers,u=o.rfcState,b.DiffHelpers,p=b.DiffHelpers.emptyInteractionPointersGroupedByDiff(),m=Object(i.a)(n.samples);try{for(m.s();!(f=m.n()).done;)h=f.value,p=b.DiffHelpers.groupInteractionPointerByDiffs(l,u,b.JsonHelper.fromInteraction(h),h.uuid,p)}catch(s){m.e(s)}finally{m.f()}return e.abrupt("return",{diffs:p,rfcState:u,resolvers:l});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p=function(){return m.apply(this,arguments)},e.next=4,p();case 4:return f=e.sent,h=f.diffs,g=f.rfcState,e.next=9,n.e(0).then(n.bind(null,1225));case 9:return v=e.sent,y=v.ExampleDiffService,e.abrupt("return",new y(t,a,u,h,g));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,i,c){return e.apply(this,arguments)}}();return r.a.createElement(it.a,{value:{path:t.path,url:t.url}},r.a.createElement(d.a,{value:c},r.a.createElement(u.a,{captureServiceFactory:p,diffServiceFactory:m},r.a.createElement(Ot,null))))}var wt=n(106),St=n.n(wt),xt=n(264),It=n(25),kt=n(26),Tt=function(){function e(t,n,a,r){Object(It.a)(this,e),this.captureService=t,this.baseUrl=n,this.config=a,this.rfcState=r}return Object(kt.a)(e,[{key:"diffId",value:function(){return this.config.diffId}},{key:"listDiffs",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.baseUrl,"/diffs"),e.next=3,Ke.JsonHttpClient.getJson(t);case 3:return n=e.sent,a=b.opticEngine.DiffWithPointersJsonDeserializer.fromJs(n),e.abrupt("return",{diffs:b.ScalaJSHelpers.toJsArray(b.DiffResultHelper.endpointDiffs(a,this.rfcState))});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listUnrecognizedUrls",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.baseUrl,"/undocumented-urls"),e.next=3,Ke.JsonHttpClient.getJson(t);case 3:return n=e.sent.urls,a=b.UrlCounterHelper.fromJsonToSeq(n,this.rfcState),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStats",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.baseUrl,"/stats"),e.abrupt("return",Ke.JsonHttpClient.getJson(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadDescription",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.captureService.loadInteraction(t.firstInteractionPointer);case 2:if(!(n=e.sent).interaction){e.next=7;break}return e.abrupt("return",Object(b.getOrUndefined)(b.DiffResultHelper.descriptionFromDiff(t,this.rfcState,b.JsonHelper.fromInteraction(n.interaction))));case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listSuggestions",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.ScalaJSHelpers.toJsArray(b.DiffResultHelper.suggestionsForDiff(t,n,this.rfcState)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadInitialPreview",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n,a){var r,o,i,c=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.previewBodyRender(n),o=[],!a){e.next=8;break}return e.next=5,Promise.all(b.ScalaJSHelpers.toJsArray(t.randomPointers).map(function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.captureService.loadInteraction(t);case 2:return n=e.sent,a=n.interaction,e.abrupt("return",b.JsonHelper.fromInteraction(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=e.sent,e.next=9;break;case 8:o=[n];case 9:return i=t.previewShapeRender(this.rfcState,b.JsonHelper.jsArrayToVector(o),a),e.abrupt("return",{bodyPreview:r,shapePreview:i.shape,suggestion:i.suggestion});case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"learnInitial",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n,a,r){var o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=b.opticEngine.EventSerialization.toJson(t.listEvents(n)),i="".concat(this.captureService.baseUrl,"/initial-bodies"),e.next=4,Ke.JsonHttpClient.postJson(i,{events:o,pathId:a,method:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()}]),e}(),At=function(){function e(t){Object(It.a)(this,e),this.baseUrl=t}return Object(kt.a)(e,[{key:"startDiff",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n,a,r){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(this.baseUrl,"/diffs"),e.abrupt("return",Ke.JsonHttpClient.postJson(o,{ignoreRequests:n,additionalCommands:a,events:t,filters:r}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"loadInteraction",value:function(e){var t="".concat(this.baseUrl,"/interactions/").concat(e);return Ke.JsonHttpClient.getJson(t)}}]),e}();function Rt(e){var t=Object(o.j)(),n=Object(o.i)().apiId,a=new St.a,i=new xt.SpecServiceClient(n,a),c=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/specs/".concat(n,"/captures/").concat(a),e.abrupt("return",new At(r));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(s.a.mark((function e(t,a,r,o,i,c,l){var u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u="/api/specs/".concat(n,"/captures/").concat(l,"/diffs/").concat(c.diffId),e.abrupt("return",new Tt(a,u,c,o));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,i,c){return e.apply(this,arguments)}}();return r.a.createElement(it.a,{value:{path:t.path,url:t.url}},r.a.createElement(u.b,{specService:i,diffServiceFactory:d,captureServiceFactory:c},r.a.createElement(Ot,null)))}var Dt=Object(f.a)((function(e){return{body:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}}}));function Pt(e){var t=Dt();e.title,e.content;return r.a.createElement("div",{className:t.body},r.a.createElement("div",{style:{marginTop:-150}},r.a.createElement(B.a,{title:"Optic is Monitoring your APIs",content:"\n**Getting Started**\n- [Add Optic to your API Project](".concat(F.a,")\n- [Document your API with Optic](").concat(F.c,")\n- [Explore all the Optic Documentation](").concat(F.e,")\n").trim()})))}function Nt(e){var t=Object(o.j)(),a=Object(o.i)().sessionId,c=Object(d.c)({sessionId:a,exampleSessionCollection:"private-sessions"}),p=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(0).then(n.bind(null,1225));case 2:return r=e.sent,o=r.ExampleCaptureService,e.abrupt("return",new o(t));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(s.a.mark((function e(t,a,r,o,c,u,d){var p,m,f,h,g,v,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){return(h=Object(l.a)(s.a.mark((function e(){var n,a,o,l,u,p,m,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.listCapturedSamples(d);case 2:n=e.sent,a=new b.RfcCommandContext("simulated","simulated","simulated"),o=Object(Ct.cachingResolversAndRfcStateFromEventsAndAdditionalCommands)(r,a,c),l=o.resolvers,u=o.rfcState,p=b.DiffHelpers.emptyInteractionPointersGroupedByDiff(),m=Object(i.a)(n.samples);try{for(m.s();!(f=m.n()).done;)h=f.value,p=b.DiffHelpers.groupInteractionPointerByDiffs(l,u,b.JsonHelper.fromInteraction(h),h.uuid,p)}catch(s){m.e(s)}finally{m.f()}return e.abrupt("return",{diffs:p,rfcState:u,resolvers:l});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},f=function(){return h.apply(this,arguments)},e.next=4,n.e(0).then(n.bind(null,1225));case 4:return p=e.sent,m=p.ExampleDiffService,e.next=8,f();case 8:return g=e.sent,v=g.diffs,y=g.rfcState,e.abrupt("return",new m(t,a,u,v,y));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,i,c){return e.apply(this,arguments)}}();return r.a.createElement(it.a,{value:{path:t.path,url:t.url}},r.a.createElement(d.a,{value:c},r.a.createElement(u.a,{captureServiceFactory:p,diffServiceFactory:m},r.a.createElement(Ot,null))))}var _t=n(479),Ut=n(1190),Bt=Object(f.a)({alert:{border:"1px white solid",fontSize:"1.2em"},code:{fontFamily:"'Source Code Pro', monospace",fontWeight:600,paddingLeft:2,paddingRight:2,paddingTop:1,paddingBottom:1,wordBreak:"break-word",backgroundColor:Z.j},buttonWrapper:{display:"flex",justifyContent:"flex-end",paddingTop:"1em"},message:{color:Z.h,paddingRight:15},wrapper:{display:"flex",flexDirection:"column"},ctaButton:{}});function Ft(e){return r.a.createElement(Ut.a,Object.assign({elevation:6,variant:"filled"},e))}function Lt(e){var t=Object(o.j)(),c=Object(o.i)().sessionId,p=Object(o.g)(),f=Object(d.c)({sessionId:c,exampleSessionCollection:"demos"}),h=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(0).then(n.bind(null,1225));case 2:return r=e.sent,o=r.ExampleCaptureService,e.abrupt("return",new o(t));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(s.a.mark((function e(t,a,r,o,c,u,d){var p,m,f,h,g,v,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){return(h=Object(l.a)(s.a.mark((function e(){var n,a,o,l,u,p,m,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.listCapturedSamples(d);case 2:n=e.sent,a=new b.RfcCommandContext("simulated","simulated","simulated"),o=Object(Ct.cachingResolversAndRfcStateFromEventsAndAdditionalCommands)(r,a,c),l=o.resolvers,u=o.rfcState,p=b.DiffHelpers.emptyInteractionPointersGroupedByDiff(),m=Object(i.a)(n.samples);try{for(m.s();!(f=m.n()).done;)h=f.value,p=b.DiffHelpers.groupInteractionPointerByDiffs(l,u,b.JsonHelper.fromInteraction(h),h.uuid,p)}catch(s){m.e(s)}finally{m.f()}return e.abrupt("return",{diffs:p,rfcState:u,resolvers:l});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},f=function(){return h.apply(this,arguments)},e.next=4,n.e(0).then(n.bind(null,1225));case 4:return p=e.sent,m=p.ExampleDiffService,e.next=8,f();case 8:return g=e.sent,v=g.diffs,y=g.rfcState,e.abrupt("return",new m(t,a,u,v,y));case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r,o,i,c){return e.apply(this,arguments)}}(),v=Object(a.useState)({message:"informational tooltip is loading",action:{text:"Button Text",href:"/demos/todo"}}),y=Object(Y.a)(v,2),E=y[0],O=y[1],C=Object(a.useState)(0),j=Object(Y.a)(C,2),w=j[0],S=j[1],x=Object(a.useState)(!1),I=Object(Y.a)(x,2),k=I[0],T=I[1],A=Object(a.useState)(""),R=Object(Y.a)(A,2),D=R[0],P=R[1],N=Object(a.useRef)(D),_=Bt(),U=Object(a.useState)(!0),B=Object(Y.a)(U,2),F=B[0],q=B[1],W=Object(a.useState)(!1),z=Object(Y.a)(W,2),M=z[0],J=z[1];Object(a.useEffect)((function(){e.location.pathname.includes("documentation/paths")?O({message:"Here is the specification for your endpoint. You can add custom descriptions anywhere to help explain how the works."}):e.location.pathname.includes("documentation")?O({message:'Details can be added to existing documentation. Click the "Full Documentation" drop-down on an endpoint above.'}):e.location.pathname.includes("testing/captures")&&e.location.pathname.includes("endpoints")?O({message:"We can see that there is an undocumented field"}):e.location.pathname.includes("testing/captures")&&O({message:"Choose an endpoint to see if it's fufilling its contract"});var t,n=e.location.pathname.match(/paths\/(.*)/);null!==n&&(t=n.pop(),N.current=t,P(t))}),[e.location.pathname]),Object(a.useEffect)((function(){var t=function(t){var n=t.data;switch(t.type){case H.UpdateContribution.eventName:O({message:"Nice! Descriptions will stay attached to their endpoint/fields even when the specification changes!\n\nLet's check back and see if there are any other diffs to approve",action:{text:"Review all diffs",href:"/demos/todo/diffs/example-session?tab=".concat(M?m.c.UNDOCUMENTED_URL:m.c.ENDPOINT_DIFF)}});break;case H.ShowInitialDocumentingView.eventName:O({message:'On the left, Optic is showing an example request it observed. The right panel shows the shape Optic detected from that request\n\nTo add this to your documentation, simply click "Document Bodies"'});break;case H.UserChangedCaptureOverviewTab.eventName:if("UNDOCUMENTED_URL"===t.data.currentTab){if(!k&&e.location.pathname.includes("diffs"))(n.undocumentedUrlCount||1)>0?O({message:"Here, Optic is showing all urls that received traffic but have not been documented. \n\nChoose a url to document it"}):(console.log(N.current),O({message:"All Undocumented URLs have been added to the specification",action:{text:"See Documentation",href:"/demos/todo/documentation/paths/".concat(N.current)}}))}else if("ENDPOINT_DIFF"===t.data.currentTab&&!k&&e.location.pathname.includes("diffs")){var a=n.diffCount;O(a>0?{message:'Optic shows all your API endpoints. If any endpoints exhibit undocumented behavior, Optic detects it\n\nExample: Click "Creates a new Todo Item" to Review the Diff'}:{message:"Because we've documented all changes in our API's behavior, we can see that the requests are following the expected behavior, and that there are no diffs"})}break;case H.AddUrlModalIdentifyingPathComponents.eventName:O({message:"If an API path has parameters, they can be documented for consumers. Click the last component of the path, which is an example of a `todo_id`, and click Next."});break;case H.AddUrlModalNaming.eventName:var r="GET"===n.method?"Get specific TODO Item":"Update Specific TODO Item";O({message:"Now, let's give it a name. For example, we can call this endpoint \"".concat(r,'"')});break;case H.ShowCommitCard.eventName:O({message:"To commit these changes to your API Specification, click commit! Optic is recording the history of your API changes, somewhat like Git tracks changes in code."});break;case H.UserCommittedChanges.eventName:T(!0),S(w+1),N.current.includes("PUT")&&J(!0),console.log(N),O({message:"Awesome! Now that you've committed changes, let's take a look at the documentation!",action:{text:"See Documentation",href:"/demos/todo/documentation/paths/".concat(N.current)}});break;case H.UserPreviewedSuggestion.eventName:var o="",i=n.suggestion.match(/Add field '(.*)' as/),c=n.suggestion.match(/Make field '(.*)' optional/),s=n.suggestion.match(/Remove field '(.*)'/),l=n.suggestion.match(/Change field '(.*)'/);null!==i?o="Look! Optic updated the spec to add the field ".concat(i.pop()):null!==c?o="Look! Optic updated the spec to show the ".concat(c.pop()," field is optional"):null!==s?o="Look! Optic updated the spec to show the ".concat(s.pop()," field is no longer part of the spec"):null!==l&&l.length>2&&(o="Look! Optic updated the spec to show the ".concat(l[1]," field is now called ").concat(l[2])),""!==o&&O({message:"".concat(o,'. Press "Approve" to save')});break;case H.SuggestionDisplayed.eventName:var u="",d=n.suggestion.match(/Missing (.*) field (.*)/),p=n.suggestion.match(/New field (.*)/);null!==d?u="Optic has detected an optional field in your API: ".concat(d.pop(),'. No need to manually update your spec, just click  "Make Optional" and Optic will make the changes for you'):null!==p&&(u="Optic has detected a new field in your API: ".concat(p.pop(),'. No need to manually update your spec, just click  "Add Field" and Optic will make the changes for you')),""!==u&&O({message:u})}};return L.a.listen(t),function(){return L.a.eventEmitter.removeListener("event",t)}}),[]);var G=w>1?{message:"Looks like you've got a hang of things! Feel free to keep poking around",action:{text:"End Walkthrough",onClick:function(){return q(!1)}}}:E;return r.a.createElement(r.a.Fragment,null,r.a.createElement(it.a,{value:{path:t.path,url:t.url}},r.a.createElement(d.a,{value:f},r.a.createElement(u.a,{captureServiceFactory:h,diffServiceFactory:g},r.a.createElement(Ot,{getDefaultRoute:function(e){return e.diffsRoot}}),r.a.createElement(_t.a,{open:F&&"nothing"!==G.message,autoHideDuration:6e3},r.a.createElement(Ft,{className:_.alert,severity:"info",icon:!1},r.a.createElement("div",{className:_.wrapper},r.a.createElement("div",{className:_.message},G.message.split("\n").map((function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))}))),r.a.createElement("div",{className:_.buttonWrapper},G.action&&r.a.createElement(Z.e,{className:_.ctaButton,variant:"contained",onClick:function(){G.action.onClick?G.action.onClick():p.push(G.action.href)}},G.action.text)))))))))}var Ht=r.a.createContext(null);Ht.displayName="SpecViewerDataContext",Ht.debugSession=!0;Ht.Provider;function qt(){return r.a.createElement(o.d,null,r.a.createElement(o.b,{strict:!0,path:"/development/private-sessions/:sessionId",component:Nt}),r.a.createElement(o.b,{strict:!0,path:"/development/:sessionId",component:jt}),r.a.createElement(o.b,{strict:!0,path:"/demos/:sessionId",component:Lt}),r.a.createElement(o.b,{strict:!0,path:"/apis/:apiId",component:Rt}),r.a.createElement(o.b,{strict:!0,path:"/",component:Pt}))}n.d(t,"a",(function(){return qt}))},512:function(e,t,n){"use strict";var a=n(25),r=n(26),o=n(28),i=n(29),c=n(10),s=n(43),l=n(18),u=n(0),d=n.n(u),p=n(37),m=n(54),f=n(47),h=n(4),g=n(136),v=n(114),b=n(42),y=n.n(b),E=(n(99),n(131),n(499)),O=n.n(E),C=n(500),j=n.n(C),w=n(16),S=(n(82),n(73)),x=n(117),I=n(17),k=n(1185),T=n(1186),A=n(1182),R=n(1184),D=n(1180),P=n(1196),N=n(1195),_=n(1183),U=n(24),B=n(158),F=n(1133),L=n(15),H=n(113),q=n(1181),W=n(365),z=n(281),M=n(123),J=n(89),G=n(513),V=n(1128);function Y(){var e=Q(),t=Object(u.useContext)(M.a).startLearning,n=d.a.useState(null),a=Object(c.a)(n,2),r=a[0],o=a[1],i=function(e){o(e.currentTarget)},s=function(){o(null)};function l(n){var a=n.name,r=n.type,o=n.why,i=n.description;return d.a.createElement(V.a,{onClick:function(){t(r),s()},component:"div"},d.a.createElement("div",{className:e.option},d.a.createElement("div",{className:e.topline},d.a.createElement(U.a,{variant:"body1"},a),d.a.createElement("div",{style:{flex:1}}),d.a.createElement(U.a,{variant:"body2",className:e.why},o)),d.a.createElement(U.a,{variant:"caption",className:e.description,component:"div"},i)))}return d.a.createElement("div",null,d.a.createElement(J.a,{color:"primary",variant:"contained",onMouseEnter:i,onClick:i},"Learn Endpoints"),d.a.createElement(G.a,{id:"simple-menu",anchorEl:r,onMouseLeave:s,open:Boolean(r),onClose:s},d.a.createElement("div",{onMouseLeave:s},d.a.createElement(l,{name:"Automatic",type:"automatic",why:"faster",description:"Learn the current behavior of each endpoint. Optic will document the bodies of each request, and the 2xx, 4xx responses. Optionals, nullables and oneOfs will be inferred."}),d.a.createElement(l,{name:"Manual",type:"manual",why:"most control",description:"Add these endpoints to your API. Then manually document the request/response bodies."}))))}var Q=Object(x.a)((function(e){return{option:{width:400,overflow:"hidden",display:"flex",flexDirection:"column"},topline:{display:"flex",flexDirection:"row",alignItems:"center"},description:{wordBreak:"break-all",whiteSpace:"normal",color:w.b},why:{color:"#027a7d",fontSize:10,paddingRight:5}}})),Z=n(192),$=n(1126),K=n(71),X=n(6),ee=n.n(X),te=n(23),ne=n(11),ae=n(284),re=n(521),oe=n(288),ie=n(364),ce=n(94),se=n.n(ce),le=n(224),ue=n(1179),de=n(289),pe=n(218),me=n.n(pe),fe=n(522),he=n(235),ge=se()();function ve(e,t){var n=e.getCopy(t),a=h.Facade.makeRfcService(n),r=[];function o(e){var n=se()(),o=new h.RfcCommandContext("anonymous",ge,n);r.push.apply(r,Object(te.a)(e)),a.handleCommands.apply(a,[t,o].concat(Object(te.a)(e)))}return{doWork:function(n){n({emitCommands:o,queries:Object(h.Queries)(e,a,t),rfcState:a.currentState(t),rfcService:a,rfcId:t})},getAllCommands:function(){return r}}}var be=n(92);(0,h.opticEngine.com.useoptic.JsonHelper)();var ye=n(38),Ee=(n(84),n(125),n(353),n(49)),Oe=n(516),Ce=n(346),je=n.n(Ce),we=n(498),Se=n.n(we),xe=h.opticEngine.com.useoptic.JsonHelper;xe();var Ie=(0,h.opticEngine.com.useoptic.JsonHelper)(),ke=Object(x.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},container:{marginTop:"20%"},paper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:14}}})),Te=d.a.forwardRef((function(e,t){return d.a.createElement(le.a,Object.assign({direction:"up",ref:t},e))}));function Ae(e){var t="manual"===e.type,n=Object(u.useContext)(M.a),a=n.currentPathExpressions,r=n.reset,o=Object(p.g)(),i=Object(m.c)(),s=(i.endpointDiffs,i.captureService,i.diffService),l=i.captureId,g=i.additionalCommands,b=i.updatedAdditionalCommands,y=Object(u.useContext)(ye.c),E=y.eventStore,O=y.rfcId,C=y.clientSessionId,j=y.clientId,S=Object(Ee.d)().specService,x=ke(),I=Object(f.b)(),k=Object(u.useState)(void 0),T=Object(c.a)(k,2),A=T[0],R=T[1],D=Object(u.useState)(void 0),P=Object(c.a)(D,2),N=(P[0],P[1]),_=Object(u.useState)(0),F=Object(c.a)(_,2),q=F[0],W=F[1],z=Object(u.useState)(0),G=Object(c.a)(z,2),V=G[0],Y=G[1];Object(u.useEffect)((function(){var e=function(e,t,n){var a=ve(e,t),r=[];return n.forEach((function(e){a.doWork((function(t){var n,a=t.emitCommands,o=t.queries.requestsState().pathComponents,i=[],c=Object(v.d)(e.pathExpression),s=Object(be.f)(c,o),l=s.toAdd,u=s.lastMatch;n=u.pathId,l.forEach((function(e){var t=h.OpticIds.newPathId(),a=(e.isParameter?h.RequestsCommands.AddPathParameter:h.RequestsCommands.AddPathComponent)(t,n,Object(v.b)(e.name));i.push(a),n=t})),r.push({method:e.method,pathId:n}),a(i)}))})),{commands:a.getAllCommands(),endpointIds:r}}(E,O,a),t=e.commands,n=e.endpointIds;R(n),W(0),b(t)}),[a.length]),function(e,t,n,a,r,o,i,s){var l=Object(u.useState)([]),d=Object(c.a)(l,2),p=d[0],m=d[1];Object(u.useEffect)((function(){function c(){return(c=Object(ne.a)(ee.a.mark((function c(){var s,l;return ee.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:e.length&&Boolean(r)&&((s=ve(n,a)).doWork((function(t){return(0,t.emitCommands)(e)})),l=new je.a({maxConcurrent:5,minTime:100}),r.forEach((function(e){var n=e.pathId,a=e.method;l.schedule(Object(ne.a)(ee.a.mark((function e(){var r,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("learning started for ".concat(n," ").concat(a)),s.doWork(function(){var e=Object(ne.a)(ee.a.mark((function e(c){var s,l;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=c.rfcService,l=c.rfcId,t?(i((function(e){return e+1})),r=Promise.resolve()):r=o.learnInitial(s,l,n,a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t){e.next=14;break}return r.finally((function(e){console.log("learning finished ".concat(n," ").concat(a)),i((function(e){return e+1}))})),e.prev=4,e.next=7,r;case 7:c=e.sent,m((function(e){return[].concat(Object(te.a)(e),[c])})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:return e.next=16,r;case 16:case"end":return e.stop()}}),e,null,[[4,11]])}))))})));case 1:case"end":return c.stop()}}),c)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}),[e.length,r]),Object(u.useEffect)((function(){if(t||p.length!==(r&&r.length))t&&r&&s([]);else{var e=Se()(p.map((function(e){return[e.requests.map((function(e){return e.commands})),e.responses.map((function(e){return e.commands}))]}))),n=xe().vectorToJsArray(h.opticEngine.CommandSerialization.fromJs(e));s(n)}}),[p,r])}(g,t,E,O,A,s,W,function(){var e=Object(ne.a)(ee.a.mark((function e(n){var a,r,o,i,c,s,l;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}(function(){var e=Object(ne.a)(ee.a.mark((function e(){var t,n,a,r,o,i;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(te.a)(g),n=Ie.jsArrayToVector(t),a=E.getCopy(O),r=h.opticEngine.com.useoptic.contexts.rfc.Commands,r.StartBatchCommit,r.EndBatchCommit,o=se()(),i=new h.RfcCommandContext(j,C,o),h.Facade.fromCommands(a,O,n,i),N({fields:0,requests:0,responses:0,oasLineCount:0}),b([]),e.next=11,S.saveEvents(a,O);case 11:Y(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),e.next=19;break;case 5:return a=E.getCopy(O),r=h.opticEngine.com.useoptic.contexts.rfc.Commands,r.StartBatchCommit,r.EndBatchCommit,o=se()(),i=new h.RfcCommandContext(j,C,o),c=g,s=[].concat(Object(te.a)(c),Object(te.a)(n)),l=Ie.jsArrayToVector(s),h.opticEngine.CommandSerialization.toJs(l),h.Facade.fromCommands(a,O,l,i),b([]),N({fields:0,requests:0,responses:0,oasLineCount:0}),e.next=18,S.saveEvents(a,O);case 18:Y(!0);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Q=function(e){var t=e.title,n=e.done;return e.started?d.a.createElement(oe.a,{dense:!0},d.a.createElement(re.a,{primary:t,primaryTypographyProps:{style:{color:w.a,fontWeight:100}}}),d.a.createElement(de.a,null,n?d.a.createElement(me.a,{style:{color:L.a,height:15,marginTop:7}}):d.a.createElement("div",{style:{marginLeft:-16}},d.a.createElement(fe.a,{size:10,color:"secondary"})))):null};return d.a.createElement(ae.a,{fullScreen:!0,open:!0,TransitionComponent:Te},d.a.createElement(ue.a,{maxWidth:"sm",className:x.container},d.a.createElement(B.a,{className:x.paper,elevation:4},d.a.createElement(Re,null),d.a.createElement(U.a,{color:"primary",variant:"h5",style:{marginTop:8}},V?d.a.createElement(d.a.Fragment,null,"Documented ",a.length," endpoint",1!==a.length&&"s"):d.a.createElement(d.a.Fragment,null,"Learning ",a.length," endpoint",1!==a.length&&"s","...")),!V&&d.a.createElement(U.a,{variant:"caption",style:{fontSize:11,color:w.b,textTransform:"uppercase"}},"This may take a minute"),d.a.createElement(ie.a,{dense:!0},d.a.createElement(Oe.a,{in:!V},d.a.createElement("div",null,d.a.createElement(Q,{title:"Adding paths to spec...",started:!0,done:Boolean(A)}),Boolean(A)?d.a.createElement(d.a.Fragment,null,d.a.createElement(oe.a,{dense:!0},d.a.createElement(re.a,{primary:"Learning Endpoints (".concat(q,"/").concat(a.length,")..."),primaryTypographyProps:{style:{color:w.a,fontWeight:100}}})),d.a.createElement(he.a,{variant:"determinate",value:q/a.length*100,style:{marginTop:5}})):null)),d.a.createElement(Oe.a,{in:V},d.a.createElement("div",{style:{textAlign:"center",marginTop:19}},d.a.createElement(J.a,{variant:"contained",color:"primary",size:"small",style:{marginTop:30},onClick:function(){t?(r(),o.push("".concat(I,"/diffs/").concat(l,"?tab=").concat(H.c.ENDPOINT_DIFF))):o.push("".concat(I,"/documentation"))}},t?"Document Bodies":"Review Documentation")))))))}var Re=function(){return d.a.createElement("div",{className:"blobBig",style:{marginRight:9}},d.a.createElement("img",{src:"/optic-logo.svg",width:72,height:72}))};function De(e){e.captureId;var t=e.urlsSplit,n=h.JsonHelper.seqToJsArray(t.undocumented),a=h.JsonHelper.seqToJsArray(t.allPaths),r=h.JsonHelper.seqToJsArray(t.urls).map((function(e){return{method:e.method,pathId:Object(h.getOrUndefined)(e.pathId),path:e.path,count:e.count,id:We(e)}}));return d.a.createElement(Pe,{undocumented:n,allUnmatchedPaths:a,urls:r})}function Pe(e){var t=e.undocumented,n=(e.allUnmatchedPaths,e.urls),a=Object(m.c)().completed;Object(H.d)(),Object(p.g)(),Object(f.b)();return d.a.createElement(M.b,{allUrls:n,key:"learning-store"},d.a.createElement(Fe,{urls:n,key:"url-table"}),0===n.length&&0===t.length&&!a&&d.a.createElement(g.b,{show:!0}))}n.d(t,"a",(function(){return De}));function Ne(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var _e=[{id:"method",width:50,padding:"default",label:"Method",style:{paddingRight:0}},{id:"path",padding:"none",label:"Path"},{id:"document",padding:"none",label:"Document",align:"right",style:{paddingRight:32}}];function Ue(e){var t=e.classes,n=e.order,a=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return d.a.createElement(D.a,null,d.a.createElement(q.a,null,_e.map((function(e){return d.a.createElement(A.a,{width:e.width,key:e.id,align:e.align,padding:e.padding,sortDirection:a===e.id&&n,style:Object(l.a)(Object(l.a)({},e.style),{},{paddingTop:6,paddingBottom:6})},d.a.createElement(N.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(o=e.id,function(e){r(e,o)}),style:{color:w.b,fontSize:9,textTransform:"uppercase"}},e.label,a===e.id?d.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var o}))))}var Be=function(e){var t=ze(),n=e.numSelected;return d.a.createElement(_.a,{className:y()(t.root,Object(s.a)({},t.highlight,n>0))},n>0?d.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",alignItems:"center"}},d.a.createElement(U.a,{className:t.title,color:"inherit",variant:"body1",component:"div"},n," endpoints to document"),d.a.createElement("div",{style:{flex:1}}),d.a.createElement("div",{style:{width:200,display:"flex"}},d.a.createElement(Y,null))):d.a.createElement(U.a,{className:t.title,variant:"body1",id:"tableTitle",component:"div"},"Add Endpoints to Specification"))};function Fe(e){var t=Me(),n=Object(u.useContext)(M.a),a=n.checkedIds,r=n.toDocument,o=n.learningInProgress,i=n.shouldHideIds,s=n.highlightAlsoMatching,l=n.updatePathExpression,p=n.addRow,m=n.setIgnore,f=n.pathExpressions,h=n.toggleRow,g=e.urls,v=d.a.useState("asc"),b=Object(c.a)(v,2),y=b[0],E=b[1],O=d.a.useState("calories"),C=Object(c.a)(O,2),j=C[0],w=C[1],S=d.a.useState(0),x=Object(c.a)(S,2),I=x[0],A=x[1],D=d.a.useState(!1),N=Object(c.a)(D,2),_=N[0],U=(N[1],d.a.useState(50)),F=Object(c.a)(U,2),L=F[0],H=F[1],q=function(e,t){A(t)},W=g.filter((function(e){return!i.includes(e.id)}));return d.a.createElement("div",{className:t.root},o&&d.a.createElement(Ae,{type:o}),d.a.createElement(B.a,{className:t.paper},d.a.createElement(Be,{numSelected:a.length}),d.a.createElement(qe,{handleChangePage:q,paginator:d.a.createElement(P.a,{rowsPerPageOptions:[25,50,100,200],count:W.length,rowsPerPage:L,page:I,component:"div",onChangePage:q,onChangeRowsPerPage:function(e){H(parseInt(e.target.value,10)),A(0)}})}),d.a.createElement(R.a,null,d.a.createElement(k.a,{className:t.table,stickyHeader:!0,"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"enhanced table"},d.a.createElement(Ue,{classes:t,numSelected:a.length,order:y,orderBy:j,onRequestSort:function(e,t){E(j===t&&"asc"===y?"desc":"asc"),w(t)},rowCount:W.length}),d.a.createElement(T.a,{key:"table-body"},function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(W,function(e,t){return"desc"===e?function(e,n){return Ne(e,n,t)}:function(e,n){return-Ne(e,n,t)}}(y,j)).slice(I*L,I*L+L).map((function(e,t){var n=function(e){return-1!==a.indexOf(e.id)}(e),o=s.includes(e.id);return d.a.createElement(Le,Object.assign({key:e.id},{isItemSelected:n,alsoMatchesCurrent:o,updatePathExpression:l,addRow:p,toDocument:r,pathExpressions:f,toggleRow:h,setIgnore:m,row:e}))})))))))}var Le=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.row.id!==e.row.id||this.props.isItemSelected!==e.isItemSelected||this.props.alsoMatchesCurrent!==e.alsoMatchesCurrent}},{key:"render",value:function(){return d.a.createElement(He,this.props)}}]),n}(d.a.Component);function He(e){var t=Me(),n=e.isItemSelected,a=e.alsoMatchesCurrent,r=e.row,o=e.updatePathExpression,i=e.addRow,c=e.pathExpressions,s=e.toggleRow,l=(e.toDocument,e.setIgnore);return d.a.createElement(q.a,{hover:!0,role:"checkbox",tabIndex:-1,key:We,selected:n||a,classes:{selected:a?t.selectedRowMatches:t.selectedRow}},d.a.createElement(A.a,{align:"left",style:{verticalAlign:"initial"}},d.a.createElement("div",{style:{marginTop:2}},d.a.createElement(S.a,{method:r.method}))),d.a.createElement(A.a,{align:"left"},d.a.createElement(z.a,{initialPathString:r.path,key:r.path+r.id,url:r.path,rowId:r.id,onUserCompleted:function(){i(r)},onChange:function(e){o(r.id,e)}})),d.a.createElement(A.a,{padding:"checkbox",align:"right"},d.a.createElement("div",{className:t.innerCheck},d.a.createElement(W.a,{in:a},d.a.createElement(U.a,{variant:"overline",style:{color:L.m,fontSize:10,textAlign:"right",width:a?"100%":0}},"Matches!")),d.a.createElement(W.a,{in:!a},d.a.createElement(U.a,{variant:"overline",style:{color:w.b,fontSize:10}},n&&!(c[r.id]||{}).hasParameters?"No Path Parameters":"")),d.a.createElement(W.a,{in:!a},d.a.createElement(F.a,{checked:n,onClick:function(e){return function(e){s(e)}(r)},color:"primary",style:{marginLeft:14}})),d.a.createElement(K.a,{title:"Mark as Ignored"},d.a.createElement($.a,{size:"small",onClick:function(){return l(r)}},d.a.createElement(O.a,{fontSizeAdjust:"small",style:{width:".8rem",height:".8rem"}}))))))}function qe(e){var t=e.paginator,n=e.handleChangePage,a=Me(),r=Object(u.useContext)(M.a),o=r.setBasepath,i=r.basepath;return d.a.createElement("div",null,d.a.createElement("div",{className:a.filter},d.a.createElement($.a,{size:"small",disabled:!0,style:{marginRight:10}},d.a.createElement(j.a,{fontSize:"10"})),d.a.createElement(K.a,{title:"Basepath filter: Only show URLs that start with a certain path. ie /api"},d.a.createElement(Z.a,{inputProps:{className:a.filterInput},placeholder:"filter basepath",value:i,onFocus:function(e){e.target.value="",e.target.value=i},onChange:function(e){var t=e.target.value.replace(/\s+/g,"");n(null,0),t.startsWith("/")?o(t):o("/"+t)}})),d.a.createElement("div",{style:{flex:1}}),t))}function We(e){return"".concat(e.path+e.method+Object(h.getOrUndefined)(e.pathId)||"new")}var ze=Object(x.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.primary.main,backgroundColor:Object(I.i)(e.palette.primary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.primary.dark},title:{flex:"1 1 100%"}}})),Me=Object(x.a)((function(e){return{root:{width:"100%",paddingTop:20,height:"80%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},selectedRow:{backgroundColor:"".concat(Object(I.i)(e.palette.primary.light,.9)," !important")},selectedRowMatches:{backgroundColor:"".concat(Object(I.i)(e.palette.secondary.light,.9)," !important")},innerCheck:{display:"flex",minWidth:250,alignItems:"center",justifyContent:"flex-end",paddingRight:15},filter:{paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center",backgroundColor:"rgb(250,250,250)"},filterInput:{fontWeight:100,width:270}}}))},537:function(e,t,n){e.exports=n(538)},538:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),a=n.n(t),r=n(33),o=n.n(r),i=(n(543),n(480)),c=n(511),s=n(510);e.opticDebug={},o.a.render(a.a.createElement(i.a,{topLevelRoutes:c.a}),document.getElementById("root")),s.a()}.call(this,n(46))},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return O}));var a=n(18),r=n(10),o=n(6),i=n.n(o),c=n(11),s=n(25),l=n(26),u=n(28),d=n(29),p=n(0),m=(n(49),n(38)),f=n(4),h=n(268),g=n.n(h),v=p.createContext(null);function b(){return Object(p.useContext)(v)}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{diffService:null,captureService:null,notificationChannel:null,config:null,additionalCommands:[],lastUpdate:null,pendingUpdates:!1,completed:!1,skipped:"0",processed:"0",reloadDebounce:e,unrecognizedUrls:[],endpointDiffs:[]}},E=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).state=y(),e.componentDidMount=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({reloadDebounce:g()(e.reload,1e3,{leading:!0,maxWait:1500})},Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.startDiff();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)}))),e.reload=function(){var t=Object(c.a)(i.a.mark((function t(n){var o,c,s,l,u,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n&&n.hasOwnProperty("hasMoreInteractions")?(n.hasMoreInteractions||(console.log("completed diff"),e.state.notificationChannel&&e.state.notificationChannel.close()),{completed:!n.hasMoreInteractions,skipped:n.skippedInteractionsCounter,processed:n.diffedInteractionsCounter}):{},!(c=e.state.diffService)){t.next=11;break}return t.next=5,Promise.all([c.listDiffs(),c.listUnrecognizedUrls()]);case 5:s=t.sent,l=Object(r.a)(s,2),u=l[0],d=l[1],console.log("results",[u.diffs.length,d.length]),e.setState(Object(a.a)({endpointDiffs:u.diffs,unrecognizedUrls:d,pendingUpdates:!0,lastUpdate:new Date},o));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.cleanupDiff=Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.state.notificationChannel&&e.state.notificationChannel.close(),t.next=3,new Promise((function(t){e.setState({unrecognizedUrls:[],endpointDiffs:[],lastUpdate:null,pendingUpdates:!1,config:null,completed:!1,skipped:"0",processed:"0"},t)}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),e.startDiff=Object(c.a)(i.a.mark((function t(){var n,r,o,c,s,l,u,d,p,m,h,g,v,b,y,E,O,C,j,w;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.specService,o=n.captureServiceFactory,c=n.diffServiceFactory,s=n.captureId,l=n.eventStore,u=n.rfcId,d=n.rfcService,p=n.method,m=n.pathId,t.next=3,e.cleanupDiff();case 3:return t.next=5,o(r,s);case 5:return h=t.sent,t.next=8,r.loadConfig();case 8:return g=t.sent,v=l.listEvents(u),b=f.ScalaJSHelpers.eventsJsArray(v),t.next=13,h.startDiff(b,g.config.ignoreRequests||[],Object(f.commandsToJson)(e.state.additionalCommands),m&&p?[{pathId:m,method:p}]:[]);case 13:return y=t.sent,E=d.currentState(u),t.next=17,c(r,h,b,E,e.state.additionalCommands,y,s);case 17:if(O=t.sent,C=null,j=void 0,!y.notificationsUrl){t.next=27;break}(C=new EventSource(y.notificationsUrl)).onmessage=function(t){var n=JSON.parse(t.data),a=n.type,r=n.data;"message"===a?e.state.reloadDebounce(r):"error"===a&&console.error(r)},C.onerror=function(e){console.error(e)},C.onopen=function(e){console.log(e)},t.next=31;break;case 27:return t.next=29,O.loadStats();case 29:w=t.sent,j=Object(a.a)({hasMoreInteractions:!1},w);case 31:e.setState({config:y,diffService:O,captureService:h,notificationChannel:C,pendingUpdates:!1},(function(){return e.reload(j)}));case 32:case"end":return t.stop()}}),t)}))),e.updatedAdditionalCommands=function(t){e.setState({additionalCommands:t},(function(){e.startDiff()}))},e.render=function(){var t=e.state,n=t.pendingUpdates,a=t.unrecognizedUrls,r=t.endpointDiffs,o=t.lastUpdate,i=t.config,c=t.diffService,s=t.captureService,l=t.completed,u=t.skipped,d=t.processed,m=f.CompareEquality.filterIgnored(r,e.props.ignoredDiffs),h={pendingUpdates:n,captureId:e.props.captureId,config:i,lastUpdate:o,endpointDiffs:m,unrecognizedUrls:a,diffService:c,captureService:s,completed:l,skipped:u,processed:d,additionalCommands:e.state.additionalCommands,updatedAdditionalCommands:e.updatedAdditionalCommands};return p.createElement(v.Provider,{value:h},e.props.children)},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){e.rfcService&&e.rfcService.currentState(e.rfcId).toString()!==this.props.rfcService.currentState(e.rfcId).toString()&&this.startDiff()}},{key:"componentWillUnmount",value:function(){this.state.notificationChannel&&this.state.notificationChannel.close()}}]),n}(p.Component),O=Object(m.f)(E)},543:function(e,t,n){},544:function(e,t,n){},559:function(e,t,n){"use strict";var a=n(76),r=n(79);Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var o=n(97),i=function(){function e(t){a(this,e),this.baseUrl=t}return r(e,[{key:"getIdentity",value:function(){var e="".concat(this.baseUrl,"/identity");return o.JsonHttpClient.getJsonWithoutHandlingResponse(e)}},{key:"setIdentity",value:function(e){if(e){var t="".concat(this.baseUrl,"/identity");return o.JsonHttpClient.putJson(t,{user:e})}}},{key:"postTrackingEvents",value:function(e){var t="".concat(this.baseUrl,"/tracking/events");return o.JsonHttpClient.postJson(t,{events:e})}},{key:"findSession",value:function(e,t,n){var a="".concat(this.baseUrl,"/sessions");return o.JsonHttpClient.postJson(a,{path:e,taskConfig:t,captureId:n})}},{key:"markCaptureAsCompleted",value:function(e,t){var n="".concat(this.baseUrl,"/specs/").concat(e,"/captures/").concat(t,"/status");return o.JsonHttpClient.putJson(n,{status:"completed"})}},{key:"stopDaemon",value:function(){var e="".concat(this.baseUrl,"/commands");return o.JsonHttpClient.postJson(e,{type:"shutdown"})}}]),e}();t.Client=i},560:function(e,t,n){"use strict";var a=n(6),r=n(240),o=n(76),i=n(79),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonHttpClient=void 0;var s=c(n(561)),l=function(){function e(){o(this,e)}return i(e,null,[{key:"verifyOkResponse",value:function(){var e=r(a.mark((function e(t){var n;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:if(n=e.sent,t.ok){e.next=5;break}throw new Error("expected a successful response. got ".concat(t.status," ").concat(t.statusText," \n").concat(n));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleJsonResponse",value:function(){var e=r(a.mark((function e(t){var n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=9;break}if(204!==t.status){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.next=11,t.text();case 11:throw r=e.sent,new Error("".concat(t.status," ").concat(t.statusText," \n").concat(r));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJson",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default(t,{method:"GET",headers:Object.assign({accept:"application/json"},n)}).then(e.handleJsonResponse)}},{key:"getJsonWithoutHandlingResponse",value:function(e){return s.default(e,{method:"GET",headers:{Accept:"application/json"}})}},{key:"postJsonString",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default(t,{method:"POST",body:n,headers:Object.assign({accept:"application/json","content-type":"application/json"},a)}).then(e.handleJsonResponse)}},{key:"postJson",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.postJsonString(t,JSON.stringify(n),a)}},{key:"patchJsonString",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default(t,{method:"PATCH",body:n,headers:Object.assign({accept:"application/json","content-type":"application/json"},a)}).then(e.handleJsonResponse)}},{key:"patchJson",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.patchJsonString(t,JSON.stringify(n),a)}},{key:"postJsonWithoutBody",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.default(t,{method:"POST",headers:Object.assign({accept:"application/json"},n)}).then(e.handleJsonResponse)}},{key:"getJsonAsText",value:function(t){return s.default(t,{headers:{accept:"application/json"}}).then(e.verifyOkResponse)}},{key:"putJson",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.putJsonString(t,JSON.stringify(n),a)}},{key:"putJsonString",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default(t,{method:"PUT",body:n,headers:Object.assign({accept:"application/json","content-type":"application/json"},a)}).then(e.handleJsonResponse)}},{key:"putBytes",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s.default(t,{method:"PUT",body:n,headers:Object.assign({"content-length":n.length.toString()},a)}).then(e.verifyOkResponse)}}]),e}();t.JsonHttpClient=l},562:function(e,t,n){"use strict";var a=n(6),r=n(240),o=n(76),i=n(79),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var s=c(n(346)),l=n(97),u=new s.default({maxConcurrent:1,minTime:1e3}),d=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/api";o(this,e),this.specId=t,this.eventEmitter=n,this.baseUrl=a}return i(e,[{key:"addIgnoreRule",value:function(e){return l.JsonHttpClient.patchJson("".concat(this.baseUrl,"/specs/").concat(this.specId,"/ignores"),{rule:e})}},{key:"loadConfig",value:function(){var e=r(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.JsonHttpClient.getJson("".concat(this.baseUrl,"/specs/").concat(this.specId,"/config"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveConfig",value:function(){var e=r(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.JsonHttpClient.postJson("".concat(this.baseUrl,"/specs/").concat(this.specId,"/config/raw"),{raw:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listEvents",value:function(){return l.JsonHttpClient.getJsonAsText("".concat(this.baseUrl,"/specs/").concat(this.specId,"/events"))}},{key:"listCaptures",value:function(){return l.JsonHttpClient.getJson("".concat(this.baseUrl,"/specs/").concat(this.specId,"/captures"))}},{key:"saveEvents",value:function(e,t){var n=this,a=e.serializeEvents(t);return l.JsonHttpClient.putJsonString("".concat(this.baseUrl,"/specs/").concat(this.specId,"/events"),a).then((function(e){return n.eventEmitter.emit("events-updated"),e}))}},{key:"listCapturedSamples",value:function(e){var t=this;return u.schedule((function(){return l.JsonHttpClient.getJson("".concat(t.baseUrl,"/specs/").concat(t.specId,"/captures/").concat(e,"/samples")).then((function(e){return{samples:e.samples,metadata:e.metadata}}))}))}},{key:"getCaptureStatus",value:function(e){return l.JsonHttpClient.getJson("".concat(this.baseUrl,"/specs/").concat(this.specId,"/captures/").concat(e,"/status"))}},{key:"getTestingCredentials",value:function(){return l.JsonHttpClient.getJsonWithoutHandlingResponse("".concat(this.baseUrl,"/specs/").concat(this.specId,"/testing-credentials"))}},{key:"getEnabledFeatures",value:function(){var e=r(a.mark((function e(){var t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTestingCredentials();case 2:return t=e.sent,e.abrupt("return",{TESTING_DASHBOARD:t.status>=200&&t.status<=299});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.Client=d},615:function(e,t){},617:function(e,t){},626:function(e,t){},628:function(e,t){},655:function(e,t){},656:function(e,t){},661:function(e,t){},663:function(e,t){},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var a=n(18),r=n(0),o=n.n(r),i=o.a.createContext({depth:0}),c=function(e){var t=e.children,n=e.add,r=void 0===n?1:n,c=e.style;return o.a.createElement(i.Consumer,null,(function(e){var n=e.depth;return o.a.createElement("div",{style:Object(a.a)({paddingLeft:13*(n+r)},c)},o.a.createElement(i.Provider,{value:{depth:n+r}},t))}))},s=function(e){var t=e.children,n=e.add,a=void 0===n?1:n;return o.a.createElement(i.Consumer,null,(function(e){var n=e.depth;return o.a.createElement(i.Provider,{value:{depth:n+a}},t)}))}},687:function(e,t){},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);function r(e){var t=a.createContext(e);return{Context:t,withContext:function(e){return function(n){return a.createElement(t.Consumer,null,(function(t){return a.createElement(e,Object.assign({},n,t))}))}}}}},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(0);var a=n(258),r=n(524),o=Object(a.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],maxWidth:600,fontSize:13,padding:8}}}))(r.a)},73:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return m}));var a=n(18),r=n(0),o=n.n(r),i=n(24),c=n(16),s=n(71),l=function(e){var t=e.path,n=e.method,a=o.a.createElement(i.a,{variant:"body1",component:"span",style:{fontWeight:400,color:"#ffffff",padding:4,fontSize:11,borderRadius:2,marginTop:-3,backgroundColor:c.j[n.toUpperCase()]}},n.toUpperCase()),r=o.a.createElement(i.a,{variant:"subtitle1",component:"span",style:{fontSize:12,marginLeft:7}},t);return o.a.createElement("span",null," ",a," ",r," ")},u=function(e){var t=e.path,n=e.method,a=o.a.createElement(i.a,{variant:"body1",component:"div",style:{fontWeight:400,color:"#ffffff",fontSize:9,borderRadius:2,padding:3,paddingTop:4,backgroundColor:c.j[n.toUpperCase()]}},n.toUpperCase()),r=o.a.createElement(i.a,{variant:"subtitle1",component:"div",style:{fontSize:10,marginLeft:8,maxWidth:220,overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all",whiteSpace:"nowrap"}},t);return o.a.createElement(s.a,{title:o.a.createElement(l,{method:n,path:t})},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",paddingLeft:8,paddingRight:8}}," ",a," ",r," "))},d=function(e){var t=e.method,n=e.style;return o.a.createElement(i.a,{variant:"body1",component:"span",style:Object(a.a)({fontWeight:400,color:"#ffffff",padding:4,fontSize:13,borderRadius:2,marginTop:-4,backgroundColor:c.j[t.toUpperCase()]},n)},t.toUpperCase())},p=function(e){var t=e.path,n=e.method,a=o.a.createElement(i.a,{variant:"body1",component:"span",style:{fontWeight:400,color:"#ffffff",padding:4,fontSize:15,borderRadius:2,marginTop:-3,backgroundColor:c.j[n.toUpperCase()]}},n.toUpperCase()),r=o.a.createElement(i.a,{variant:"subtitle1",component:"span",style:{fontSize:17,marginLeft:7,fontWeight:200}},t);return o.a.createElement("span",null," ",a," ",r," ")},m=function(e){var t=e.label,n=e.color,r=e.bgColor,c=e.style;return o.a.createElement(i.a,{variant:"body1",component:"span",style:Object(a.a)({fontWeight:400,color:n,padding:4,fontSize:8,borderRadius:2,marginTop:-3,backgroundColor:r},c)},t)}},789:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(89),n(284),n(236),n(286),n(287),n(285),n(224));n(113),n(37),r.a.forwardRef((function(e,t){return r.a.createElement(o.a,Object.assign({direction:"up",ref:t},e))}))},790:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(64),i=n.n(o),c=n(220),s=n.n(c);n(791),n(792);i()((function(e){return{root:{}}}))((function(e){var t=e.value,n=e.onChange;return r.a.createElement(s.a,{mode:"json",theme:"github",tabSize:2,showPrintMargin:!1,width:"90%",onChange:n,value:t,editorProps:{$blockScrolling:!0}})}))},80:function(e,t,n){"use strict";var a=n(23),r=n(10),o=n(0),i=n.n(o),c=n(1178),s=n(117),l=n(134),u=n(49),d=n(52),p=n(1126),m=n(185),f=n.n(m),h=n(276),g=n.n(h),v=n(495),b=n.n(v),y=n(71),E=(n(35),Object(s.a)({drawer:{width:270,flexShrink:0},miniDrawer:{width:55,flexShrink:0},drawerPaper:{width:270,backgroundColor:"#1B2958",display:"flex",flexDirection:"row"},miniDrawerPaper:{backgroundColor:"#1B2958",display:"flex",flexDirection:"row"},topLevel:{width:55,overflow:"hidden",borderRight:"1px solid #3F5597",display:"flex",alignItems:"center",flexDirection:"column"},navButton:{marginTop:6},opticLogo:{marginTop:5},mainSection:{flex:1}}));var O=n(37),C=n(42),j=n.n(C);n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return I}));var w=i.a.createContext(null),S=Object(s.a)((function(e){return{root:{display:"flex",flexGrow:1},content:function(t){var n=t.padded,a=void 0===n||n;return{display:"flex",flexDirection:"column",flexGrow:1,paddingLeft:a?e.spacing(4):0,paddingRight:a?e.spacing(4):0}}}}));function x(e){var t=S(),n=Object(o.useState)([]);I(e.title,n);var a=Object(r.a)(n,1)[0].filter((function(e){return!!e})),c=a[a.length-1]||"";Object(o.useEffect)((function(){document&&c&&(document.title="".concat(c," - Optic"))}),[c]);var s=Object(O.h)().pathname;return Object(o.useEffect)((function(){e.scrollToTop&&window.scrollTo(0,0)}),[s]),i.a.createElement(w.Provider,{value:n},i.a.createElement("div",{className:t.root},e.children))}function I(e,t){var n=Object(o.useContext)(w)||t;return Object(o.useEffect)((function(){if(!n)throw Error("usePageTitle must be used in context of a Page");var t=Object(r.a)(n,2),o=t[0],i=t[1];return i([].concat(Object(a.a)(o),[e])),function(){var t=o.indexOf(e);i(o.slice(t,1))}}),[e]),e}x.Navbar=function(e){var t=E(),n=Object(l.a)(),r=Object(u.c)(),s=Object(o.useMemo)((function(){return[].concat(Object(a.a)(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_LEARN_API_MODE:"falseOPTIC__NPM__VERSION=8.6.2",REACT_APP_TESTING_DASHBOARD:"true",REACT_APP_TESTING_DASHBOARD_TEASER:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DETAILS:"false",REACT_APP_TESTING_DASHBOARD_ENDPOINT_DIFF_STATS:"false",REACT_APP_TESTING_DASHBOARD_UNDOCUMENTED_ENDPOINTS:"false",REACT_APP_FLATTENED_SHAPE_VIEWER:"true"}).REACT_APP_DONT_SHOW_DIFF?[]:[{name:"Review Diff",icon:i.a.createElement(g.a,{style:{color:"#e2e2e2"}}),link:n.diffsRoot}]),[{name:"Documentation",icon:i.a.createElement(f.a,{style:{color:"#e2e2e2"}}),link:n.docsRoot}],Object(a.a)(r&&r.TESTING_DASHBOARD?[{name:"Live Contract Testing",icon:i.a.createElement(b.a,{style:{color:"#e2e2e2"}}),link:n.testingDashboard}]:[]))}),[n]);return i.a.createElement(c.a,{id:"navbar",elevation:2,className:e.mini?t.miniDrawer:t.drawer,variant:"permanent",classes:{paper:e.mini?t.miniDrawerPaper:t.drawerPaper},anchor:"left"},i.a.createElement("div",{className:t.topLevel,style:e.mini&&{borderRight:"none"}},i.a.createElement("img",{src:"/optic-logo.svg",width:50,className:t.opticLogo}),s.map((function(e){return i.a.createElement(y.a,{key:e.link,title:e.name,component:d.b,to:e.link,placement:"right",onClick:function(){}},i.a.createElement(p.a,{className:t.navButton},e.icon))}))),e.mini?null:i.a.createElement("div",{className:t.mainSection},e.children))},x.Body=function(e){var t=S(e);return i.a.createElement("div",{className:j()(t.content,e.className)},e.children)}},817:function(e){e.exports={cpp:{pretty_name:"C++",project_url:"https://isocpp.org/",frameworks:{cpprestsdk:{pretty_name:"C++ REST SDK",project_url:"https://microsoft.github.io/cpprestsdk/index.html",code_change:!0,language:"cpp",preamble:"Modify your `Http::Endpoint` address to check for a custom port set by environment variable when it is provided:",start_command:"./application",before:'utility::string_t port = U("5000");\n\nutility::string_t address = U("http://127.0.0.1:");\naddress.append(port);\non_initialize(address);\n',after:'std::string portStr = "5000";\nif (getenv("PORT")) {\n    portStr =  getenv ("PORT");\n}\nutility::string_t port = U(portStr);\n\nutility::string_t address = U("http://127.0.0.1:");\naddress.append(port);\n'},pistacheio:{pretty_name:"Pistache",project_url:"http://pistache.io/",code_change:!0,language:"cpp",preamble:"Modify your `Http::Endpoint` address to check for a custom port set by environment variable when it is provided:",start_command:"./application",before:"int main() {\n    Pistache::Address addr(Pistache::Ipv4::any(), Pistache::Port(8000));\n    auto opts = Pistache::Http::Endpoint::options()\n        .threads(1);\n\n    Http::Endpoint server(addr);\n    server.init(opts);\n    server.setHandler(Http::make_handler<HelloHandler>());\n    server.serve();\n}\n",after:'#include <stdlib.h>\n#include <string>\n...\n\nint main() {\n    int port = 8000;\n    if (getenv("PORT")) {\n            std::string s = getenv ("PORT");\n            port = std::stoi(s);\n    }\n    Pistache::Address addr(Pistache::Ipv4::any(), Pistache::Port(port));\n    auto opts = Pistache::Http::Endpoint::options()\n        .threads(1);\n\n    Http::Endpoint server(addr);\n    server.init(opts);\n    server.setHandler(Http::make_handler<HelloHandler>());\n    server.serve();\n}\n'}}},dotnet:{pretty_name:".NET",project_url:"https://dotnet.microsoft.com/",frameworks:{dotnet:{pretty_name:"C# .NET",project_url:"https://docs.microsoft.com/en-us/dotnet/csharp/",code_change:!0,language:"c#",preamble:"Modify your `webBuilder` call to check for a custom port set by environment variable before starting:",start_command:"dotnet run",before:'public static IHostBuilder CreateHostBuilder(string[] args) {\n    return Host.CreateDefaultBuilder(args).ConfigureWebHostDefaults(webBuilder =>\n    {\n        webBuilder.UseStartup<Startup>();\n        webBuilder.UseUrls("http://localhost:80/");\n    });\n}\n',after:'public static IHostBuilder CreateHostBuilder(string[] args) {\n    var portString = (System.Environment.GetEnvironmentVariable("PORT"));\n    if (String.IsNullOrEmpty(portString)) {\n        portString = "80";\n    }\n\n    return Host.CreateDefaultBuilder(args).ConfigureWebHostDefaults(webBuilder =>\n    {\n        webBuilder.UseStartup<Startup>();\n        webBuilder.UseUrls("http://localhost:" + portString + "/");\n    });\n}\n'}}},elixir:{pretty_name:"Elixir",project_url:"https://elixir-lang.org/",frameworks:{phoenix:{pretty_name:"Elixir",project_url:"https://elixir-lang.org/",code_change:!0,language:"elixir",preamble:"In your `./config/dev.exs` file, modify your web endpoint configuration. Whether you are testing with http or https, modify the line that specifies the port to check for a custom port set by environment variable when it is provided:",start_command:"elixir application.exs",before:'config :hello, HelloWeb.Endpoint,\nhttp: [port: 4000],\ndebug_errors: true,\ncode_reloader: true,\ncheck_origin: false,\nwatchers: [\n  node: [\n    "node_modules/webpack/bin/webpack.js",\n    "--mode",\n    "development",\n    "--watch-stdin",\n    cd: Path.expand("../assets", __DIR__)\n  ]\n]\n',after:'config :hello, HelloWeb.Endpoint,\nhttp: [port: System.get_env("PORT") || 4000],\ndebug_errors: true,\ncode_reloader: true,\ncheck_origin: false,\nwatchers: [\n  node: [\n    "node_modules/webpack/bin/webpack.js",\n    "--mode",\n    "development",\n    "--watch-stdin",\n    cd: Path.expand("../assets", __DIR__)\n  ]\n]\n'}}},go:{pretty_name:"Go",project_url:"https://golang.org/",frameworks:{mux:{pretty_name:"gorilla/mux",project_url:"https://github.com/gorilla/mux",code_change:!0,language:"golang",preamble:"Before your http call to `ListenAndServe`, check for a custom port when it is provided:",start_command:"go run application.go",before:'http.ListenAndServe(":8000", r)\n',after:'port := ":8000"\n\nif os.Getenv("PORT") != "" {\n    port = fmt.Sprintf(":%s", os.Getenv("PORT"))\n}\n\nhttp.ListenAndServe(port, r)\n'}}},java:{pretty_name:"Java",project_url:"https://www.java.com/en/",frameworks:{spring:{pretty_name:"Spring",project_url:"https://spring.io/projects/spring-framework",code_change:!1,default_command:"export SERVER_PORT=$PORT ; ./gradlew bootRun",language:"yaml",preamble:"If you use `./gradlew bootRun` to run your spring app, update your start command in your `optic.yml` file:",start_command:"export SERVER_PORT=$PORT ; ./gradlew bootRun",before:"start:\n  command: ./gradlew bootRun\n",after:"start:\n  command:  export SERVER_PORT=$PORT ; ./gradlew bootRun\n"}}},node:{pretty_name:"Node.js",project_url:"https://nodejs.org/en/",frameworks:{express:{pretty_name:"Express",project_url:"http://expressjs.com/",code_change:!0,language:"javascript",preamble:"All Express APIs contain a call to `app.listen(...)`. Update this line to look for Optic's environment variable when it is provided:\n\n**Note**: If you are using [`express-generator`](https://expressjs.com/en/starter/generator.html), the `app.listen` call is located in `./bin/www`.\n",start_command:"node app.js",before:"app.listen(3000)\n",after:"app.listen(port || 3000)\n"},node:{pretty_name:"Node.js",project_url:"https://nodejs.org/en/",code_change:!0,default_command:"node app.js",language:"javascript",preamble:"For vanilla Node.js, make sure your app will listen to a configurable port (such as the `PORT` environment variable) and pass in Optic's port variable before the command.\n",start_command:"node app.js",before:"app.listen(3000)\n",after:"app.listen(process.env.PORT || 3000)\n"},sails:{pretty_name:"Sails",project_url:"https://sailsjs.com/",code_change:!1,default_command:"sails lift --port $PORT",language:"yml",preamble:"If you use the `sails lift` command to start your Sails app, update your start command in your `optic.yml` file:",start_command:"sails lift --port $PORT",before:"start:\n  command: sails lift\n",after:"start:\n  command: sails lift --port $PORT\n"},hapi:{pretty_name:"Hapi",project_url:"https://hapi.dev/",code_change:!0,language:"javascript",preamble:"If you use `Hapi.server()` to start your server, configure it to check for a custom port set by environment variable when it is provided:",start_command:"node app.js",before:"const server = Hapi.server({\n    port: 3000,\n    host: 'localhost'\n});\n",after:"const server = Hapi.server({\n    port: process.env.PORT || 3000,\n    host: 'localhost'\n});\n"}}},php:{pretty_name:"PHP",project_url:"https://www.php.net/",frameworks:{laravel:{pretty_name:"Laravel",project_url:"https://laravel.com/",code_change:!1,default_command:"php artisan serve --port=$PORT",language:"yaml",preamble:"If you use `artisan serve` to run your laravel app, update your start command in your `optic.yml` file:",start_command:"php artisan serve --port=$PORT",before:"start:\n  command: php artisan serve\n",after:"start:\n  command:  php artisan serve --port=$PORT\n"}}},python:{pretty_name:"Python",project_url:"https://www.python.org/",frameworks:{flask:{pretty_name:"Flask",project_url:"https://flask.palletsprojects.com/en/1.1.x/",code_change:!0,language:"python",preamble:"All Flask APIs contain a call to `app.run(...)`. Update this line to pass in a custom port set by environment variable when it is provided:",start_command:"python application.py",before:"app.run(port=5000)\n",after:"app.run(port=os.environ['PORT'] if 'PORT' in os.environ else 5000)\n"},flaskrun:{pretty_name:"Flask with Run method",project_url:"https://flask.palletsprojects.com/en/1.1.x/api/?highlight=run#flask.Flask.run",code_change:!1,default_command:"flask run --port=$PORT",language:"yaml",preamble:"If you are using [`flask run`](https://flask.palletsprojects.com/en/1.1.x/cli/), adjust the `optic.yml` task to pass in the port:",start_command:"flask run --port=$PORT",before:"start:\n  flask run\n",after:"start:\n  flask run --port=$PORT\n"},django:{pretty_name:"Django",project_url:"https://www.djangoproject.com/",code_change:!0,language:"python",preamble:"Django runs by its `manage.py` file. Modify it to use the Optic API Port:",start_command:"python manage.py runserver",before:"... # other code\ndef main():\n    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'mysite.settings')\n    try:\n        from django.core.management import execute_from_command_line\n... # other code\n",after:"... # other code\ndef main():\n    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'mysite.settings')\n    try:\n        from django.core.management import execute_from_command_line\n        # Add a configurable port option\n        from django.core.management.commands.runserver import Command as runserver\n        runserver.default_port = os.environ['PORT'] if 'PORT' in os.environ else 8080\n... # other code\n"},fastapi:{pretty_name:"FastAPI",project_url:"https://fastapi.tiangolo.com/",code_change:!1,default_command:"uvicorn main:app --port $PORT # assuming your app is called main.py",language:"yaml",preamble:"If you use the `uvicorn` command to start your FastAPI app, update your start command in your `optic.yml` file:",start_command:"uvicorn main:app --port $PORT",before:"start:\n  command: uvicorn main:app # assuming your app is called main.py\n",after:"start:\n  command: uvicorn main:app --port $PORT # assuming your app is called main.py\n"}}},ruby:{pretty_name:"Ruby",project_url:"https://www.ruby-lang.org/en/",frameworks:{rails:{pretty_name:"Ruby on Rails",project_url:"https://rubyonrails.org/",code_change:!1,default_command:"rails server -p $PORT # assuming your app is called main.py",language:"yaml",preamble:"If you use the `rails server` command to start your app, update your start command in your `optic.yml` file:",start_command:"rails server -p $PORT",before:"start:\n  command: rails server # assuming your app is called main.py\n",after:"start:\n  command: rails server -p $PORT # assuming your app is called main.py\n"},puma:{pretty_name:"Puma",project_url:"https://puma.io/",code_change:!1,default_command:"puma -p $PORT # or, if you use bundler (bundle exec puma -p $PORT)",language:"yaml",preamble:"If you use `puma` to start your app, modify your `optic.yml` file:",start_command:"puma -p $PORT # or, if you use bundler (bundle exec puma -p $PORT)",before:"start:\n  command: puma # or, if you use bundler (bundle exec puma)\n",after:"start:\n  command: puma -p $PORT # or, if you use bundler (bundle exec puma -p $PORT)\n"}}},rust:{pretty_name:"Rust",project_url:"https://www.rust-lang.org/",frameworks:{rocket:{pretty_name:"Rocket",project_url:"https://rocket.rs/",code_change:!0,language:"rust",preamble:"If you use `Config::build()`, modify it to check for a custom port set as an environment variable:",start_command:"./application",before:'use rocket::config::{Config, Environment};\nuse std::env;\n\nlet config = Config::build(Environment::Staging)\n    .port(8000)\n    .unwrap();\n\nrocket::custom(config)\n    .mount("/", routes![hello])\n    .launch();\n',after:'use rocket::config::{Config, Environment};\nuse std::env;\n\nlet mut port = 8000;\nmatch env::var("PORT") {\n    Ok(val) => port = val.parse::<u16>().unwrap(),\n    Err(e) => {}\n}\n\nlet config = Config::build(Environment::Staging)\n    .port(port)\n    .unwrap();\n\nrocket::custom(config)\n    .mount("/", routes![hello])\n    .launch();\n'},rocketIgnite:{pretty_name:"Rocket with ignite function",project_url:"https://api.rocket.rs/v0.4/rocket/fn.ignite.html",code_change:!1,default_command:"export ROCKET_PORT=$PORT ; cargo run",language:"yaml",preamble:"If you use `rocket::ignite()`, modify the start command to set `ROCKET_PORT` to be Optic's environment variable:",start_command:"export ROCKET_PORT=$PORT ; cargo run",before:"start:\n  command: cargo run\n",after:"start:\n  command: export ROCKET_PORT=$PORT ; cargo run\n"},actix:{pretty_name:"Actix",project_url:"https://actix.rs/",code_change:!0,language:"rust",preamble:"Modify your `HttpServer.bind()` call to check for a custom port set by environment variable:",start_command:"cargo run",before:'HttpServer::new(...)\n    .bind("127.0.0.1:8000")?\n    .run()\n    .await\n',after:'let port = env::var("PORT").unwrap_or_else(|e| {\n    return "8000".to_string()\n});\n\nHttpServer::new(...)\n    .bind(format!("127.0.0.1:{}" , port))?\n    .run()\n    .await\n'}}},generic:{pretty_name:"",project_url:"",frameworks:{generic:{pretty_name:"Generic Instructions (any API framework)",project_url:"",code_change:!0,language:"text",preamble:"Modify your application's start code to listen on a custom port when it is provided:",start_command:"<start command>",before:"server_port = 5000;\nhttp_listen(server_port);\n",after:'server_port = envvar("PORT") || 5000;\nhttp_listen(server_port);\n'}}}}},818:function(e){e.exports={commandProcess:{title:"Your `command` starts a long-running process",shortTitle:"starts a long-running process",resolution:"The `command` provided in your `optic.yml` file exited before Optic could start. It must: \n\n- Start a long-running process (your API) that stays running until exited.  \n- Be runnable from the same directory as the `optic.yml` file without any special permissions.\n\nTry running the `command` manually from your current directory to make sure it starts your API. This assures the command is the correct one, and you can observe the results directly.\n\n- If this is not the right command for Optic to start your API, update the one in the `optic.yml` file and try again.\n- If your command starts the server in the background (Docker detach style), you may consider using a [manual configuration](https://app.useoptic.com).\n"},commandHost:{title:"Your `command` starts a long-running process on the host Optic assigns it",shortTitle:"starts on the host Optic assigns it",resolution:"By default when using the `command` parameter, Optic expects your API to be running on localhost alongside the Optic proxy. You shouldn't have to configure this in a recommended workflow.\n\n- If your API runs on localhost, but uses a different hostname: check your custom hostname mapping (such as in `/etc/hosts`) to assure it is properly resolving to localhost.\n- If your API doesn't run on localhost: Consider a [manual configuration](https://app.useoptic.com) which will let you target another host (such as a cloud-based API gateway).\n"},commandPort:{title:"Your `command` starts a long-running process on the port Optic assigns it",shortTitle:"starts on the port Optic assigns it",resolution:"Every time you run api start, Optic assigns your API a random port. If you get this error, it means that your command runs, but the API is not binding to the `$PORT` within 25 seconds of Optic running your command.\n\n- If you can set the port on which your API listens from the command line: make sure the `command` parameter of your task definition in `optic.yml` includes `$PORT`.\n  - For example, `rails -s` becomes `rails -s --port $PORT`.\n- If your development environment already uses `$PORT`, the value provided by Optic may be overridden. Instead, try `$OPTIC_API_PORT`.\n- If you can't set the port from the command line: update your code to bind to the port Optic provides via the `$PORT` environment variable.\n- If your application takes more than 25 seconds to warm up, the `api check` will always fail. As long as all other checks have passed, try using `api run` directly and wait for your application to warm up.\n"},inboundUrlStart:{title:"Given an `inboundUrl` Optic starts the proxy at this URL",shortTitle:"starts the Optic proxy at this URL",resolution:"An error here inicates Optic cannot start its proxy on this URL. Optic expects to start on the localhost at a port you specify with the `inboundUrl` parameter. This is where incoming traffic to your API will be sent, so Optic can observe the requests and responses. If the Optic proxy cannot start here:\n\n- If you want to run Optic on localhost, but uses a different hostname: check your custom hostname mapping (such as in `/etc/hosts`) to assure it is properly resolving to localhost.\n- Make sure the port is available (nothing else is bound to it). For example, your existing API project may still be listening to this port. Stop any currently running applications using this port, or change the port.\n  - For example, on MacOS: `sudo lsof -i -P -n | grep LISTEN` will show all applications listening on localhost, and the second column will give you the process ID.\n- If the port is in use and cannot be freed, change the port in the `inboundUrl` parameter of your task in `optic.yml`. \n"},targetUrlResolve:{title:"Given a `targetURL` Optic is able to connect to the service",shortTitle:"allows Optic to connect to the service",resolution:"Optic makes a quick check of the targetUrl provided to assure it can connect to the service. Optic does not check to see for valid API traffic, it only tests connectivity to the provided URL.\n\n- Is your service running on the given host at the given port? You can validate this with a tool like netcat (MacOS, Linux) or Test-NetConnection (Powershell). For example, if your service is running on MacOS at `localhost:3000`, run ```nc -zvw3 localhost 3000```. A successful connection in this example will report *Connection to localhost port 3000 [tcp/hbci] succeeded!*\n- Does your service listen on the proper protocol? If you've specified a protocol (`http://` or `https://`) and did not specify a port, make sure your service is listening appropriately (port 80 or 443)\n- If this is a custom hostname: check your custom hostname mapping (such as in `/etc/hosts`) to assure it is properly resolving.\n- Try to resolve the host on your command line. For example, if your targetUrl is `https://app.example.com`, you can use `dig app.example.com` on most platforms. This should return a valid DNS record.\n"}}},82:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y}));var a=n(23),r=n(25),o=n(26),i=n(28),c=n(29),s=n(0),l=n.n(s),u=n(70),d=n(356),p=n(38),m=n(272),f=n(92),h=Object(u.a)(null),g=h.Context,v=(h.withContext,function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.pathId,r=t.method,o=t.notFound,i=this.props,c=i.cachedQueryResults,s=(i.queries,i.handleCommands),u=c.contributions,p=Object(d.b)({pathId:n,method:r}),f=Object(d.a)({pathId:n,method:r},c);if(f){var h={endpointId:p,endpointDescriptor:f,getContribution:function(e,t){return u.getOrUndefined(e,t)},lookupExampleForRequest:function(t){return e.props.lookupExampleForRequest(n,r,t)},lookupExampleForResponse:function(t){return e.props.lookupExampleForResponse(n,r,t)},updateContribution:function(e,t,n){s.apply(void 0,Object(a.a)(Object(m.a)(e,t,n)))}};return l.a.createElement(g.Provider,{value:h},this.props.children)}return o||l.a.createElement("div",null,"Endpoint Not Found ",r," ",n)}}]),n}(l.a.Component)),b=Object(p.f)(v);function y(e){var t=e.pathId,n=Object(s.useContext)(p.c).cachedQueryResults.pathsById;if(!t)return null;var a=Object(f.b)(t,n).map((function(e){return n[e]})).map((function(e){return{pathComponentName:Object(f.d)(e),pathComponentId:e.pathId}})).map((function(e){return e.pathComponentName})).join("/");return l.a.createElement(l.a.Fragment,null,a||"/")}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n(25),r=n(26),o=n(28),i=n(29),c=n(0),s=n.n(c),l=n(70),u=n(126),d=Object(l.a)(),p=d.Context,m=d.withContext,f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isFinishing:!1},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.acceptSuggestion,a=t.acceptedSuggestions,r={diffsForThisEndpoint:t.diffsForThisEndpoint,completed:t.completed,isFinishing:this.state.isFinishing,clearPreview:function(){e.setState({exampleInteractions:[],isFinishing:!1})},reset:function(){e.props.reset(),e.setState({exampleInteractions:[],isFinishing:!1})},acceptSuggestion:n,acceptedSuggestions:a};return s.a.createElement(p.Provider,{value:r},this.props.children)}}]),n}(s.a.Component),h=Object(u.e)(f)},92:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return f}));var a=n(10),r=n(23);n(18);function o(e){return!!e.descriptor.ParameterizedPathComponentDescriptor}function i(e){return 1===e.length?"/":e.map((function(e){return function(e){if(e.descriptor.ParameterizedPathComponentDescriptor)return"{}";if(e.descriptor.BasicPathComponentDescriptor)return e.descriptor.BasicPathComponentDescriptor.name;return null}(e)})).join("/")}function c(e){return 1===e.length?"/":e.map((function(e){return s(e)})).join("/")}function s(e){return e.descriptor.ParameterizedPathComponentDescriptor?"{".concat(e.descriptor.ParameterizedPathComponentDescriptor.name,"}"):e.descriptor.BasicPathComponentDescriptor?e.descriptor.BasicPathComponentDescriptor.name:null}function l(e,t){var n,a=e,r=[];do{r.push(a);var o=t[a];a=(n=o)&&n.descriptor?n.descriptor.ParameterizedPathComponentDescriptor?n.descriptor.ParameterizedPathComponentDescriptor.parentPathId:n.descriptor.BasicPathComponentDescriptor?n.descriptor.BasicPathComponentDescriptor.parentPathId:null:null}while(a);return r.reverse()}function u(e,t){return l(e,t).map((function(e){return t[e]}))}function d(e){return"/"+e.map((function(e){return e.isParameter?"{}":e.name})).join("/")}function p(e,t){var n=e.length;return 0===n?t:e[n-1]}var m=[];function f(e,t){var n=Object.entries(t).reduce((function(e,n){var r=Object(a.a)(n,2),o=r[0],c=r[1];return e[i(u(o,t))]=c,e}),{}),o=function(e){return e.reduce((function(e,t){return[].concat(Object(r.a)(e),[[].concat(Object(r.a)(p(e,[])),[t])])}),[m])}(e).reverse().find((function(e){var t=d(e);return!!n[t]})),c=d(o),s=n[c],l=e.length-o.length;return{lastMatch:s,toAdd:l<=0?[]:e.slice(-1*l)}}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(10),r=n(6),o=n.n(r),i=n(11),c=n(0),s=n.n(c).a.createContext(null);s.displayName="MockDataContext";var l=s.Provider;function u(e){var t=e.sessionId,n=e.exampleSessionCollection;return Object(c.useMemo)((function(){return function(e){var t=e.exampleSessionCollection,n=e.sessionId,a=null;function r(){return(r=Object(i.a)(o.a.mark((function e(){var r,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>0&&void 0!==i[0]&&i[0],a&&!r||(a=fetch("/".concat(t,"/").concat(n,".json"),{headers:{accept:"application/json"}}).then((function(e){if(e.ok)return e.json();throw new Error}))),e.next=4,a;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{sessionId:n,getData:function(){return r.apply(this,arguments)}}}({sessionId:t,exampleSessionCollection:n})}),[t])}function d(e){var t=Object(c.useContext)(s),n=Object(c.useState)(null),r=Object(a.a)(n,2),o=r[0],i=r[1],l=Object(c.useState)(!0),u=Object(a.a)(l,2),d=u[0],p=u[1],m=Object(c.useState)(null),f=Object(a.a)(m,2),h=f[0],g=f[1],v=Object(c.useState)(!0),b=Object(a.a)(v,2),y=b[0],E=b[1];return Object(c.useEffect)((function(){t?(E(!0),t.getData().then((function(e){return i(e),p(!1),e})).catch((function(e){console.log("no data err"),console.log(e),g(e)}))):(E(!1),i(null),p(!1))}),e),{available:y,data:o,loading:d,error:h}}},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonHttpClient=void 0;var a=n(560);Object.defineProperty(t,"JsonHttpClient",{enumerable:!0,get:function(){return a.JsonHttpClient}})},98:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s}));var a="https://www.useoptic.com/docs",r=a+"/",o=a+"/getting-started/setup/",i=a+"/building-the-documentation/",c=function(e){return"mailto:aidan@useoptic.com?subject=".concat(e)},s="https://github.com/opticdev/optic/issues"},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var a=n(18),r=n(0),o=n.n(r);function i(e){var t=e.when,n=e.children,r=e.style;return o.a.createElement("div",{style:Object(a.a)({display:!t&&"none"},r)},t&&n)}function c(e){var t=e.when,n=e.children,r=e.style;return o.a.createElement("span",{style:Object(a.a)({display:!t&&"none"},r)},t&&n)}}},[[537,2,3]]]);
//# sourceMappingURL=main.018b5871.chunk.js.map