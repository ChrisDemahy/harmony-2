/// <reference types="node" />
import { EventEmitter } from 'events';
import { Readable } from 'stream';
export interface Diff {
    readonly id: string;
    readonly events: DiffEvents;
    start(): Promise<void>;
    progress(): ProgressStream;
    queries(): DiffQueries;
    stop(): Promise<void>;
}
export interface DiffConstructor {
    new (config: DiffConfigObject): Diff;
}
export declare function createDiff(ctor: DiffConstructor, config: DiffConfigObject): Diff;
export interface DiffEvents extends EventEmitter {
    addListener(event: 'finish', listener: () => void): this;
    addListener(event: 'error', listener: (err: Error) => void): this;
    emit(event: 'finish'): boolean;
    emit(event: 'error', err: Error): boolean;
    on(event: 'finish', listener: () => void): this;
    on(event: 'error', listener: (err: Error) => void): this;
    once(event: 'finish', listener: () => void): this;
    once(event: 'error', listener: (err: Error) => void): this;
    prependListener(event: 'finish', listener: () => void): this;
    prependListener(event: 'error', listener: (err: Error) => void): this;
    prependOnceListener(event: 'finish', listener: () => void): this;
    prependOnceListener(event: 'error', listener: (err: Error) => void): this;
}
export interface DiffQueries {
    diffs(): Readable;
    undocumentedUrls(): Readable;
    stats(): Promise<DiffStats>;
}
export interface DiffConfigObject {
    configPath: string;
    opticIgnorePath: string;
    captureId: string;
    captureBaseDirectory: string;
    diffId: string;
    events?: Array<{
        [key: string]: any;
    }>;
    endpoints?: Array<{
        pathId: string;
        method: string;
    }>;
    specPath: string;
}
export interface ProgressStream extends Readable {
}
export interface ProgressEvent {
    type: 'progress';
    data: {
        diffedInteractionsCounter: string;
        skippedInteractionsCounter: string;
        hasMoreInteractions: string;
    };
}
export interface DiffStats {
    [key: string]: number | string | boolean;
}
//# sourceMappingURL=index.d.ts.map