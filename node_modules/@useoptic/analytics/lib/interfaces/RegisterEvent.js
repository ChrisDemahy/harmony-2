"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DescribeEvent = exports.AllEvents = void 0;
require("joi-extract-type");
function RegisterEvent(type, schema, propsToSentence) {
    const event = {
        withProps(properties) {
            return {
                type: type,
                context: {
                    clientAgent: '',
                    clientId: '',
                    clientSessionInstanceId: '',
                    clientTimestamp: '',
                },
                data: properties,
            };
        },
        toSentence: (example) => {
            return propsToSentence(example.data);
        },
        eventName: type,
    };
    exports.AllEvents.push(event);
    return event;
}
exports.AllEvents = [];
function DescribeEvent(name, joiSchema, propsToSentence) {
    const event = RegisterEvent(name, joiSchema, propsToSentence);
    return event;
}
exports.DescribeEvent = DescribeEvent;
