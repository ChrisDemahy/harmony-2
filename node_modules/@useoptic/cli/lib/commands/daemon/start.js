"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const command_1 = require("@oclif/command");
const cli_server_1 = require("@useoptic/cli-server");
const paths_1 = require("../../shared/paths");
const config_1 = require("../../config");
const cli_shared_1 = require("@useoptic/cli-shared");
class DaemonStop extends command_1.Command {
    async run() {
        try {
            await cli_server_1.ensureDaemonStarted(paths_1.lockFilePath, config_1.Config.apiBaseUrl);
            this.log('Done!');
            cli_shared_1.cleanupAndExit();
        }
        catch (e) {
            this.error(e);
        }
    }
}
exports.default = DaemonStop;
DaemonStop.description = 'ensures the Optic daemon has been started';
DaemonStop.hidden = true;
